(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3908],{10740:(e,a,t)=>{"use strict";t.d(a,{AdminLayoutClient:()=>Q});var s=t(95155),r=t(12115),i=t(6874),n=t.n(i),o=t(35695),d=t(60760),l=t(28695),c=t(73783),m=t(14186),u=t(17580),x=t(23861),h=t(81497),p=t(5040),g=t(42355),w=t(54416),f=t(30285),b=t(22346),y=t(59434),v=t(763),j=t(66766);let N=[{title:"Dashboard",icon:c.A,href:"/admin-dashboard/admin/dashboard"},{title:"Pending Posts",icon:m.A,href:"/admin-dashboard/admin/approval"},{title:"User Management",icon:u.A,href:"/admin-dashboard/admin/user-management"},{title:"Notifications",icon:x.A,href:"/admin-dashboard/admin/notification"},{title:"Contact Us",icon:h.A,href:"/admin-dashboard/admin/contact"},{title:"FAQ Management",icon:p.A,href:"/admin-dashboard/admin/faq"}];function _(e){let{isOpen:a,onClose:t,collapsed:i,onToggleCollapse:c}=e,m=(0,o.usePathname)(),[u,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=()=>{x(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.N,{children:a&&u&&(0,s.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:t})}),(0,s.jsxs)(l.P.div,{initial:!1,animate:{x:u?a?0:-280:0,width:u?280:i?80:280},transition:{duration:.3,ease:"easeInOut"},className:(0,y.cn)("fixed left-0 top-0 h-full bg-white/90 backdrop-blur-xl border-r border-white/30 shadow-2xl z-50","flex flex-col pt-16"),children:[(0,s.jsxs)(l.P.div,{className:"flex items-center justify-between h-12 px-4 border-b border-white/10",layout:!0,children:[!u&&(0,s.jsx)(l.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(f.$,{variant:"ghost",size:"icon",className:"w-9 h-9 bg-white/50 hover:bg-white/70 transition-all duration-300 rounded-xl border border-white/30 shadow-lg hover:shadow-xl",onClick:c,children:(0,s.jsx)(l.P.div,{animate:{rotate:180*!!i},transition:{duration:.3},children:(0,s.jsx)(g.A,{size:16,className:"text-gray-600"})})})}),u&&(0,s.jsx)(l.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(f.$,{variant:"ghost",size:"icon",onClick:t,className:"w-9 h-9 bg-white/50 hover:bg-red-50 hover:text-red-600 transition-all duration-300 rounded-xl border border-white/30 shadow-lg",children:(0,s.jsx)(w.A,{size:16})})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)(l.P.div,{className:(0,y.cn)("flex flex-col items-center py-6 px-4",i&&!u?"px-2":""),layout:!0,children:[(0,s.jsx)(d.N,{mode:"wait",children:(!i||u)&&(0,s.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"flex flex-col items-center text-center",children:[(0,s.jsxs)(l.P.div,{whileHover:{scale:1.05},className:"w-16 h-16 rounded-2xl overflow-hidden shadow-xl bg-black flex items-center justify-center mb-3 border-2 border-white/30",children:[(0,s.jsx)(j.default,{src:v.A,width:48,height:48,alt:"Company Logo",className:"w-12 h-12 object-contain",onError:e=>{e.currentTarget.style.display="none";let a=e.currentTarget.nextElementSibling;a&&(a.style.display="flex")}}),(0,s.jsx)("span",{className:"text-white text-2xl font-bold hidden",children:"A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-bold text-gray-800 text-sm",children:"ADMIN DASHBOARD"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Mindspeak Uniconfess Management"})]})]})}),i&&!u&&(0,s.jsxs)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},whileHover:{scale:1.05},className:"w-12 h-12 rounded-xl overflow-hidden shadow-xl bg-black flex items-center justify-center border-2 border-white/30",children:[(0,s.jsx)(j.default,{src:v.A,width:32,height:32,alt:"Company Logo",className:"w-8 h-8 object-contain",onError:e=>{e.currentTarget.style.display="none";let a=e.currentTarget.nextElementSibling;a&&(a.style.display="flex")}}),(0,s.jsx)("span",{className:"text-white text-xl font-bold hidden",children:"A"})]})]}),(0,s.jsx)(b.w,{className:"mx-4 bg-white/20"}),(0,s.jsx)("nav",{className:"flex-1 p-4 overflow-y-auto",children:(0,s.jsx)("ul",{className:"space-y-2",children:N.map((e,a)=>{let r=m===e.href;return(0,s.jsx)(l.P.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a},onHoverStart:()=>p(e.title),onHoverEnd:()=>p(null),children:(0,s.jsxs)(n(),{href:e.href,className:(0,y.cn)("relative w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","group overflow-hidden",i&&!u?"justify-center px-2":"",r?"bg-black text-white shadow-lg":"hover:bg-white/70 hover:shadow-md text-gray-700 hover:text-white"),onClick:()=>u&&t(),children:[r&&(0,s.jsx)(l.P.div,{layoutId:"activeIndicator",className:"absolute inset-0 bg-black rounded-xl",transition:{type:"spring",stiffness:300,damping:30}}),!r&&h===e.title&&(0,s.jsx)(l.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-white/70 rounded-xl",transition:{duration:.2}}),(0,s.jsx)(e.icon,{size:20,className:(0,y.cn)("transition-all duration-300 flex-shrink-0 relative z-10",r?"text-white":"text-gray-600 group-hover:text-black",h!==e.title||r?"":"scale-110")}),(0,s.jsx)(d.N,{children:(!i||u)&&(0,s.jsx)(l.P.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},className:(0,y.cn)("text-sm font-medium transition-colors duration-300 relative z-10",r?"text-white":"text-gray-700 group-hover:text-gray-600"),children:e.title})}),("Notifications"===e.title||"Pending Posts"===e.title)&&!i&&(0,s.jsx)(l.P.span,{initial:{scale:0},animate:{scale:1},className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center relative z-10",children:"Notifications"===e.title?"3":"5"})]})},e.title)})})})]})]})}var k=t(74783),A=t(66474),C=t(69803),P=t(34835),S=t(91394),z=t(44838),E=t(98722),F=t(53680),R=t(54287),L=t(63464),U=t(75525),D=t(78749),M=t(92657),O=t(32919),T=t(54165),$=t(62523),H=t(85057),I=t(55365),q=t(76048),B=t(91689);function J(e){let{isOpen:a,onClose:t}=e,[i,n]=(0,r.useState)({old_password:"",new_password:"",new_password_confirmation:""}),[o,d]=(0,r.useState)({old_password:!1,new_password:!1,new_password_confirmation:!1}),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)({}),h=(0,F.jL)(),{toast:p}=(0,B.dj)(),g=(e,a)=>{n(t=>({...t,[e]:a})),u[e]&&x(a=>({...a,[e]:""}))},w=e=>{d(a=>({...a,[e]:!a[e]}))},b=()=>{let e={};return i.old_password||(e.old_password="Current password is required"),i.new_password?i.new_password.length<8&&(e.new_password="New password must be at least 8 characters"):e.new_password="New password is required",i.new_password_confirmation?i.new_password!==i.new_password_confirmation&&(e.new_password_confirmation="Passwords do not match"):e.new_password_confirmation="Password confirmation is required",i.old_password&&i.new_password&&i.old_password===i.new_password&&(e.new_password="New password must be different from current password"),x(e),0===Object.keys(e).length},y=async e=>{if(e.preventDefault(),b()){m(!0);try{await h((0,q.yX)(i)).unwrap(),p({title:"Password Updated",description:"Your password has been successfully updated.",variant:"default"}),n({old_password:"",new_password:"",new_password_confirmation:""}),x({}),t()}catch(a){console.error("Password update error:",a);let e="string"==typeof a?a:a instanceof Error?a.message:"Unknown error";e.includes("old password")?x({old_password:"Current password is incorrect"}):e.includes("different")?x({new_password:"New password must be different from current password"}):e.includes("confirmation")?x({new_password_confirmation:"Password confirmation does not match"}):p({title:"Error",description:e||"Failed to update password. Please try again.",variant:"destructive"})}finally{m(!1)}}},v=()=>{n({old_password:"",new_password:"",new_password_confirmation:""}),x({}),d({old_password:!1,new_password:!1,new_password_confirmation:!1}),t()};return(0,s.jsx)(T.lG,{open:a,onOpenChange:v,children:(0,s.jsxs)(T.Cf,{className:"sm:max-w-md bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border border-white/20 dark:border-gray-800/50",children:[(0,s.jsx)(T.c7,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"p-2 bg-[#1d2b7d]/10 dark:bg-blue-900/20 rounded-lg",children:(0,s.jsx)(U.A,{className:"h-5 w-5 text-[#1d2b7d] dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.L3,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Change Password"}),(0,s.jsx)(T.rr,{className:"text-sm text-gray-500 dark:text-gray-400",children:"Update your admin account password"})]})]})}),(0,s.jsxs)(l.P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(H.J,{htmlFor:"old_password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(C.A,{className:"h-4 w-4 text-gray-400"})}),(0,s.jsx)($.p,{id:"old_password",name:"old_password",type:o.old_password?"text":"password",value:i.old_password,onChange:e=>g("old_password",e.target.value),placeholder:"Enter your current password",className:"pl-10 pr-10 ".concat(u.old_password?"border-red-500 focus:border-red-500":""),disabled:c}),(0,s.jsx)("button",{type:"button",onClick:()=>w("old_password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:c,children:o.old_password?(0,s.jsx)(D.A,{className:"h-4 w-4"}):(0,s.jsx)(M.A,{className:"h-4 w-4"})})]}),u.old_password&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:u.old_password})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(H.J,{htmlFor:"new_password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(O.A,{className:"h-4 w-4 text-gray-400"})}),(0,s.jsx)($.p,{id:"new_password",name:"new_password",type:o.new_password?"text":"password",value:i.new_password,onChange:e=>g("new_password",e.target.value),placeholder:"Enter your new password",className:"pl-10 pr-10 ".concat(u.new_password?"border-red-500 focus:border-red-500":""),disabled:c}),(0,s.jsx)("button",{type:"button",onClick:()=>w("new_password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:c,children:o.new_password?(0,s.jsx)(D.A,{className:"h-4 w-4"}):(0,s.jsx)(M.A,{className:"h-4 w-4"})})]}),u.new_password&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:u.new_password})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(H.J,{htmlFor:"new_password_confirmation",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(O.A,{className:"h-4 w-4 text-gray-400"})}),(0,s.jsx)($.p,{id:"new_password_confirmation",name:"new_password_confirmation",type:o.new_password_confirmation?"text":"password",value:i.new_password_confirmation,onChange:e=>g("new_password_confirmation",e.target.value),placeholder:"Confirm your new password",className:"pl-10 pr-10 ".concat(u.new_password_confirmation?"border-red-500 focus:border-red-500":""),disabled:c}),(0,s.jsx)("button",{type:"button",onClick:()=>w("new_password_confirmation"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:c,children:o.new_password_confirmation?(0,s.jsx)(D.A,{className:"h-4 w-4"}):(0,s.jsx)(M.A,{className:"h-4 w-4"})})]}),u.new_password_confirmation&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:u.new_password_confirmation})]}),(0,s.jsxs)(I.Fc,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[(0,s.jsx)(U.A,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)(I.TN,{className:"text-sm text-blue-700 dark:text-blue-300",children:"Password must be at least 8 characters long and different from your current password."})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(f.$,{type:"button",variant:"outline",onClick:v,disabled:c,className:"flex-1",children:"Cancel"}),(0,s.jsx)(f.$,{type:"submit",disabled:c,className:"flex-1 bg-[#1d2b7d] hover:bg-[#1d2b7d]/90 text-white",children:c?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Updating..."]}):"Update Password"})]})]})]})})}function G(e){let{onMenuClick:a,isMobile:t,sidebarCollapsed:i}=e,[n,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),u=(0,o.useRouter)(),h=(0,F.jL)(),{user:p}=(0,F.h7)(),{notifications:g,unreadCount:w,isLoading:b}=(0,F.E$)();(0,r.useEffect)(()=>{let e=()=>{d(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{p&&(console.log("\uD83D\uDD14 Admin Navbar: Fetching notifications for admin user"),h((0,L.bb)({page:1,per_page:10})),h((0,L.jA)()))},[h,p]);let N=async()=>{try{console.log("\uD83D\uDEAA Admin Navbar: Starting logout process"),await h((0,R.y4)()).unwrap(),console.log("✅ Admin Navbar: Logout successful, redirecting to home"),u.push("/")}catch(e){console.error("❌ Admin Navbar: Logout failed",e),u.push("/")}},_=async()=>{try{console.log("\uD83D\uDD14 Admin Navbar: Marking all notifications as read"),await h((0,L.X0)()).unwrap(),console.log("✅ Admin Navbar: All notifications marked as read"),h((0,L.bb)({page:1,per_page:10})),h((0,L.jA)())}catch(e){console.error("❌ Admin Navbar: Failed to mark all notifications as read",e)}},U=()=>p&&p.name||"Admin",D=e=>{let a=new Date,t=new Date(e),s=a.getTime()-t.getTime(),r=Math.floor(s/6e4),i=Math.floor(s/36e5),n=Math.floor(s/864e5);return r<1?"Just now":r<60?"".concat(r," min ago"):i<24?"".concat(i," hour").concat(i>1?"s":""," ago"):n<7?"".concat(n," day").concat(n>1?"s":""," ago"):t.toLocaleDateString()};return(0,s.jsxs)(l.P.div,{initial:{y:-100},animate:{y:0},transition:{duration:.3},className:(0,y.cn)("fixed top-0 left-0 right-0 z-50 h-16 bg-white/80 dark:bg-black/70 backdrop-blur-xl border-b border-white/20 px-4 lg:px-8",n?"shadow-md":"",t?"pl-4":i?"pl-24":"pl-[288px]"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(f.$,{variant:"ghost",size:"icon",onClick:a,className:"lg:hidden",children:[(0,s.jsx)(k.A,{size:20}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle menu"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 lg:hidden",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center",children:(0,s.jsx)(j.default,{src:v.A,alt:"Admin Logo",width:24,height:24})}),(0,s.jsx)(E.O,{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:"ADMIN DASHBOARD"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(z.rI,{children:[(0,s.jsx)(z.ty,{asChild:!0,children:(0,s.jsxs)(f.$,{variant:"ghost",size:"icon",className:"relative bg-white/70 dark:bg-black/50 backdrop-blur-sm shadow-lg hover:bg-white/90 dark:hover:bg-black/70 transition-all duration-300 rounded-xl border border-white/30",children:[(0,s.jsx)(x.A,{size:18,className:"text-gray-600 dark:text-gray-200"}),w>0&&(0,s.jsx)(l.P.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:w>99?"99+":w})]})}),(0,s.jsxs)(z.SQ,{className:"w-80 bg-white/90 dark:bg-zinc-900 backdrop-blur-xl border border-white/30 shadow-2xl rounded-xl p-0",align:"end",sideOffset:8,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:[(0,s.jsx)(z.lp,{className:"text-base font-semibold m-0 text-gray-900 dark:text-gray-100",children:"Notifications"}),w>0&&(0,s.jsx)(f.$,{variant:"ghost",size:"sm",onClick:_,className:"h-8 text-xs text-[#1d2b7d] dark:text-blue-400 hover:text-[#1d2b7d]/80 dark:hover:text-blue-300 hover:bg-[#1d2b7d]/10 dark:hover:bg-blue-900/20 transition-colors",children:"Mark all as read"})]}),(0,s.jsx)("div",{className:"max-h-[350px] overflow-y-auto",children:g.length>0?g.map(e=>(0,s.jsxs)("div",{className:(0,y.cn)("flex items-start gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800/70 transition-colors cursor-pointer border-b border-gray-100 dark:border-gray-800/50 last:border-0",!e.is_read&&"bg-blue-50/50 dark:bg-blue-900/10"),children:[e.data.user_avatar?(0,s.jsxs)(S.eu,{className:"h-9 w-9 border border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,s.jsx)(S.BK,{src:e.data.user_avatar||"/placeholder.svg",alt:"User"}),(0,s.jsx)(S.q5,{children:"U"})]}):(0,s.jsx)("div",{className:(0,y.cn)("w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0",e.is_read?"bg-gray-100 dark:bg-gray-800":"bg-[#1d2b7d]/10 dark:bg-blue-900/20"),children:(0,s.jsx)(x.A,{className:(0,y.cn)("h-4 w-4",e.is_read?"text-gray-500 dark:text-gray-400":"text-[#1d2b7d] dark:text-blue-400")})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("p",{className:(0,y.cn)("font-medium text-sm",e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,s.jsx)("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 ml-2 flex-shrink-0",children:D(e.created_at)})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:e.message})]})]},e.id)):(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)(x.A,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:b?"Loading notifications...":"No notifications"})]})}),(0,s.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:(0,s.jsx)(f.$,{variant:"ghost",className:"w-full text-[#1d2b7d] dark:text-blue-400 hover:text-[#1d2b7d]/80 dark:hover:text-blue-300 hover:bg-[#1d2b7d]/10 dark:hover:bg-blue-900/20 text-sm font-medium transition-colors",children:"View all notifications"})})]})]}),(0,s.jsxs)(z.rI,{children:[(0,s.jsx)(z.ty,{asChild:!0,children:(0,s.jsx)(f.$,{variant:"ghost",className:"relative h-10 w-auto px-3 bg-white/70 dark:bg-black/50 backdrop-blur-sm shadow-lg hover:bg-white/90 dark:hover:bg-black/70 transition-all duration-300 rounded-xl border border-white/30",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(S.eu,{className:"h-8 w-10 ring-2 ring-white/50",children:[(0,s.jsx)(S.BK,{src:"/placeholder.svg?height=32&width=32"}),(0,s.jsx)(S.q5,{className:"bg-[#1d2b7d] text-white dark:bg-blue-900",children:(()=>{if(!p||!p.name)return"A";let e=p.name.split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():p.name.substring(0,2).toUpperCase()})()})]}),(0,s.jsxs)("div",{className:"hidden sm:flex flex-col items-start",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:U()}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null==p?void 0:p.role)==="admin"?"Administrator":"User"})]}),(0,s.jsx)(A.A,{size:16,className:"text-gray-400 ml-1"})]})})}),(0,s.jsxs)(z.SQ,{className:"w-64 bg-white/90 dark:bg-zinc-900 backdrop-blur-xl border border-white/30 shadow-2xl rounded-xl",align:"end",sideOffset:8,children:[(0,s.jsx)(z.lp,{className:"font-normal px-4 py-3 text-gray-800 dark:text-white",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:U()}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null==p?void 0:p.email)||"admin@example.com"})]})}),(0,s.jsx)(z.mB,{className:"bg-white/30"}),(0,s.jsxs)(z._2,{onClick:()=>m(!0),className:"px-4 py-3 hover:bg-blue-50 dark:hover:bg-blue-900 text-blue-600 focus:text-blue-600 rounded-lg mx-2 my-1",children:[(0,s.jsx)(C.A,{className:"mr-3 h-4 w-4"}),(0,s.jsx)("span",{children:"Change Password"})]}),(0,s.jsxs)(z._2,{onClick:N,className:"px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900 text-red-600 focus:text-red-600 rounded-lg mx-2 my-1",children:[(0,s.jsx)(P.A,{className:"mr-3 h-4 w-4"}),(0,s.jsx)("span",{children:"Logout"})]})]})]})]})]}),(0,s.jsx)(J,{isOpen:c,onClose:()=>m(!1)})]})}function Q(e){let{children:a}=e,[t,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[d,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{l(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100",children:[(0,s.jsx)(G,{onMenuClick:()=>i(!t),isSidebarOpen:t,sidebarCollapsed:n,isMobile:d}),(0,s.jsx)(_,{isOpen:t,onClose:()=>i(!1),collapsed:n,onToggleCollapse:()=>o(!n)}),(0,s.jsx)("main",{className:"\n            pt-16 transition-all duration-300 ease-in-out\n            ".concat(d?"ml-0":n?"ml-20":"ml-[280px]","\n          "),children:(0,s.jsx)("div",{className:"p-6",children:a})})]})}},25122:(e,a,t)=>{Promise.resolve().then(t.bind(t,10740))},55365:(e,a,t)=>{"use strict";t.d(a,{Fc:()=>d,TN:()=>l});var s=t(95155),r=t(12115),i=t(74466),n=t(59434);let o=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,...i}=e;return(0,s.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:r}),t),...i})});d.displayName="Alert",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...r})});l.displayName="AlertDescription"},63464:(e,a,t)=>{"use strict";t.d(a,{SP:()=>b,Ay:()=>N,bb:()=>m,jA:()=>x,G:()=>g,X0:()=>h,Q1:()=>u,OA:()=>p,_F:()=>f});var s=t(66439);let r={notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};var i=t(13984);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),void 0!==e.is_read&&a.append("is_read",e.is_read?"true":"false"),e.type&&a.append("type",e.type),e.sort&&a.append("sort",e.sort);let t=a.toString();return(await i.Ay.get("/notifications".concat(t?"?".concat(t):""))).data}catch(e){var a,t,s,r;throw console.error("Get notifications error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to fetch notifications",errors:null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.errors}}},o=async e=>{try{return(await i.Ay.post("/notifications/read",e)).data}catch(e){var a,t,s,r;throw console.error("Mark notifications as read error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to mark notifications as read",errors:null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.errors}}},d=async()=>{try{return{unread_count:(await n({page:1,per_page:1,is_read:!1})).meta.unread_count}}catch(r){var e,a,t,s;throw console.error("Get unread count error:",r),{success:!1,message:(null==r||null==(a=r.response)||null==(e=a.data)?void 0:e.message)||"Failed to get unread count",errors:null==r||null==(s=r.response)||null==(t=s.data)?void 0:t.errors}}},l=async()=>{try{return await o({mark_all:!0})}catch(e){throw console.error("Mark all notifications as read error:",e),e}},c=async e=>{try{return await o({notification_ids:e})}catch(e){throw console.error("Mark specific notifications as read error:",e),e}},m=(0,s.zD)("notifications/fetchNotifications",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:a}=arguments.length>1?arguments[1]:void 0;try{return await n(e)}catch(e){return a((null==e?void 0:e.message)||"Failed to fetch notifications")}}),u=(0,s.zD)("notifications/markAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await o(e),payload:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark notifications as read")}}),x=(0,s.zD)("notifications/fetchUnreadCount",async(e,a)=>{let{rejectWithValue:t}=a;try{return await d()}catch(e){return t((null==e?void 0:e.message)||"Failed to fetch unread count")}}),h=(0,s.zD)("notifications/markAllAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return await l()}catch(e){return t((null==e?void 0:e.message)||"Failed to mark all notifications as read")}}),p=(0,s.zD)("notifications/markSpecificAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await c(e),notificationIds:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark specific notifications as read")}}),g=(0,s.zD)("notifications/loadMore",async(e,a)=>{let{rejectWithValue:t,getState:s}=a;try{var r;let a=(null==(r=s().notifications.pagination)?void 0:r.current_page)||1;return await n({...e,page:a+1})}catch(e){return t((null==e?void 0:e.message)||"Failed to load more notifications")}}),w=(0,s.Z0)({name:"notifications",initialState:r,reducers:{setFilters:(e,a)=>{e.filters={...e.filters,...a.payload},(void 0!==a.payload.is_read||void 0!==a.payload.type)&&(e.filters.page=1)},clearNotifications:e=>{e.notifications=[],e.pagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>r,updateLocalReadStatus:(e,a)=>{let{notification_ids:t,is_read:s}=a.payload;if(e.notifications)if(e.notifications=e.notifications.map(e=>t.includes(e.id)?{...e,is_read:s}:e),s){let a=t.filter(a=>e.notifications.find(e=>e.id===a&&!e.is_read)).length;e.unreadCount=Math.max(0,e.unreadCount-a)}else{let a=t.filter(a=>e.notifications.find(e=>e.id===a&&e.is_read)).length;e.unreadCount+=a}}},extraReducers:e=>{e.addCase(m.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=a.payload.data,e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(m.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(g.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(g.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=[...e.notifications||[],...a.payload.data],e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(g.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(u.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{if(e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications){let{payload:t}=a.payload;t.mark_all?e.notifications=e.notifications.map(e=>({...e,is_read:!0})):t.notification_ids&&(e.notifications=e.notifications.map(e=>t.notification_ids.includes(e.id)?{...e,is_read:!0}:e))}}).addCase(u.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(x.pending,e=>{e.loading.getUnreadCount=!0}).addCase(x.fulfilled,(e,a)=>{e.loading.getUnreadCount=!1,e.unreadCount=a.payload.unread_count}).addCase(x.rejected,(e,a)=>{e.loading.getUnreadCount=!1,e.error=a.payload}),e.addCase(h.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(h.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>({...e,is_read:!0})))}).addCase(h.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(p.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>a.payload.notificationIds.includes(e.id)?{...e,is_read:!0}:e))}).addCase(p.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload})}}),{setFilters:f,clearNotifications:b,clearError:y,resetState:v,updateLocalReadStatus:j}=w.actions,N=w.reducer},85057:(e,a,t)=>{"use strict";t.d(a,{J:()=>l});var s=t(95155),r=t(12115),i=t(40968),n=t(74466),o=t(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.b,{ref:a,className:(0,o.cn)(d(),t),...r})});l.displayName=i.b.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[7598,3863,6766,8695,3024,2043,6874,9267,1118,3567,954,8185,7224,6048,4287,5577,8441,1684,7358],()=>a(25122)),_N_E=e.O()}]);