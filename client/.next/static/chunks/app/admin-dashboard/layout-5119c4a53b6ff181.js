(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3908],{763:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i={src:"/_next/static/media/admin.b11b737e.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEUnJyd6en5NTlD4+Pj+/v9SVVoXFxcAAAAlJCNMaXHQ1ueip7QvLy+vr6/4+fnX3u21v9Tj6/z///+1trqOm7BlZWVgYWbU1dfb4vMgIB8uLi5CREfq8v+lpqaVmKKYeC1DAAAAGXRSTlOR+v5N/fyZAUwATI9Ql5SV/P0B+vr9+vz6u59U6gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAENJREFUeJwFwYkBgCAMBLADgWv9f21R9x/TBFylFCGh8CM6FGI53dkE8PB+wQHYGWs2oK/Xts9VoENKy9MpyGacWvIHbeMDIS6HcykAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},7847:(e,a,t)=>{"use strict";t.d(a,{AdminLayoutClient:()=>U});var i=t(95155),r=t(12115),s=t(6874),n=t.n(s),l=t(35695),o=t(60760),d=t(28695),c=t(73783),u=t(14186),h=t(17580),x=t(23861),m=t(81497),g=t(5040),f=t(42355),p=t(54416),b=t(30285),y=t(22346),w=t(59434),v=t(763),j=t(66766);let N=[{title:"Dashboard",icon:c.A,href:"/admin-dashboard/admin/dashboard"},{title:"Pending Posts",icon:u.A,href:"/admin-dashboard/admin/approval"},{title:"User Management",icon:h.A,href:"/admin-dashboard/admin/user-management"},{title:"Notifications",icon:x.A,href:"/admin-dashboard/admin/notification"},{title:"Contact Us",icon:m.A,href:"/admin-dashboard/admin/contact"},{title:"FAQ Management",icon:g.A,href:"/admin-dashboard/admin/faq"}];function A(e){let{isOpen:a,onClose:t,collapsed:s,onToggleCollapse:c}=e,u=(0,l.usePathname)(),[h,x]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=()=>{x(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.N,{children:a&&h&&(0,i.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:t})}),(0,i.jsxs)(d.P.div,{initial:!1,animate:{x:h?a?0:-280:0,width:h?280:s?80:280},transition:{duration:.3,ease:"easeInOut"},className:(0,w.cn)("fixed left-0 top-0 h-full bg-white/90 backdrop-blur-xl border-r border-white/30 shadow-2xl z-50","flex flex-col pt-16"),children:[(0,i.jsxs)(d.P.div,{className:"flex items-center justify-between h-12 px-4 border-b border-white/10",layout:!0,children:[!h&&(0,i.jsx)(d.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(b.$,{variant:"ghost",size:"icon",className:"w-9 h-9 bg-white/50 hover:bg-white/70 transition-all duration-300 rounded-xl border border-white/30 shadow-lg hover:shadow-xl",onClick:c,children:(0,i.jsx)(d.P.div,{animate:{rotate:180*!!s},transition:{duration:.3},children:(0,i.jsx)(f.A,{size:16,className:"text-gray-600"})})})}),h&&(0,i.jsx)(d.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(b.$,{variant:"ghost",size:"icon",onClick:t,className:"w-9 h-9 bg-white/50 hover:bg-red-50 hover:text-red-600 transition-all duration-300 rounded-xl border border-white/30 shadow-lg",children:(0,i.jsx)(p.A,{size:16})})}),(0,i.jsx)("div",{})]}),(0,i.jsxs)(d.P.div,{className:(0,w.cn)("flex flex-col items-center py-6 px-4",s&&!h?"px-2":""),layout:!0,children:[(0,i.jsx)(o.N,{mode:"wait",children:(!s||h)&&(0,i.jsxs)(d.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"flex flex-col items-center text-center",children:[(0,i.jsxs)(d.P.div,{whileHover:{scale:1.05},className:"w-16 h-16 rounded-2xl overflow-hidden shadow-xl bg-black flex items-center justify-center mb-3 border-2 border-white/30",children:[(0,i.jsx)(j.default,{src:v.A,width:48,height:48,alt:"Company Logo",className:"w-12 h-12 object-contain",onError:e=>{e.currentTarget.style.display="none";let a=e.currentTarget.nextElementSibling;a&&(a.style.display="flex")}}),(0,i.jsx)("span",{className:"text-white text-2xl font-bold hidden",children:"A"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"font-bold text-gray-800 text-sm",children:"ADMIN DASHBOARD"}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Mindspeak Uniconfess Management"})]})]})}),s&&!h&&(0,i.jsxs)(d.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},whileHover:{scale:1.05},className:"w-12 h-12 rounded-xl overflow-hidden shadow-xl bg-black flex items-center justify-center border-2 border-white/30",children:[(0,i.jsx)(j.default,{src:v.A,width:32,height:32,alt:"Company Logo",className:"w-8 h-8 object-contain",onError:e=>{e.currentTarget.style.display="none";let a=e.currentTarget.nextElementSibling;a&&(a.style.display="flex")}}),(0,i.jsx)("span",{className:"text-white text-xl font-bold hidden",children:"A"})]})]}),(0,i.jsx)(y.w,{className:"mx-4 bg-white/20"}),(0,i.jsx)("nav",{className:"flex-1 p-4 overflow-y-auto",children:(0,i.jsx)("ul",{className:"space-y-2",children:N.map((e,a)=>{let r=u===e.href;return(0,i.jsx)(d.P.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*a},onHoverStart:()=>g(e.title),onHoverEnd:()=>g(null),children:(0,i.jsxs)(n(),{href:e.href,className:(0,w.cn)("relative w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300","group overflow-hidden",s&&!h?"justify-center px-2":"",r?"bg-black text-white shadow-lg":"hover:bg-white/70 hover:shadow-md text-gray-700 hover:text-white"),onClick:()=>h&&t(),children:[r&&(0,i.jsx)(d.P.div,{layoutId:"activeIndicator",className:"absolute inset-0 bg-black rounded-xl",transition:{type:"spring",stiffness:300,damping:30}}),!r&&m===e.title&&(0,i.jsx)(d.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-white/70 rounded-xl",transition:{duration:.2}}),(0,i.jsx)(e.icon,{size:20,className:(0,w.cn)("transition-all duration-300 flex-shrink-0 relative z-10",r?"text-white":"text-gray-600 group-hover:text-black",m!==e.title||r?"":"scale-110")}),(0,i.jsx)(o.N,{children:(!s||h)&&(0,i.jsx)(d.P.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},className:(0,w.cn)("text-sm font-medium transition-colors duration-300 relative z-10",r?"text-white":"text-gray-700 group-hover:text-gray-600"),children:e.title})}),("Notifications"===e.title||"Pending Posts"===e.title)&&!s&&(0,i.jsx)(d.P.span,{initial:{scale:0},animate:{scale:1},className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center relative z-10",children:"Notifications"===e.title?"3":"5"})]})},e.title)})})})]})]})}var k=t(74783),C=t(66474),_=t(34835),z=t(91394),S=t(44838),R=t(98722),E=t(53680),P=t(54287),M=t(63464);function L(e){let{onMenuClick:a,isMobile:t,sidebarCollapsed:s}=e,[n,o]=(0,r.useState)(!1),c=(0,l.useRouter)(),u=(0,E.jL)(),{user:h}=(0,E.h7)(),{notifications:m,unreadCount:g,isLoading:f}=(0,E.E$)();(0,r.useEffect)(()=>{let e=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{h&&(console.log("\uD83D\uDD14 Admin Navbar: Fetching notifications for admin user"),u((0,M.bb)({page:1,per_page:10})),u((0,M.jA)()))},[u,h]);let p=async()=>{try{console.log("\uD83D\uDEAA Admin Navbar: Starting logout process"),await u((0,P.y4)()).unwrap(),console.log("✅ Admin Navbar: Logout successful, redirecting to home"),c.push("/")}catch(e){console.error("❌ Admin Navbar: Logout failed",e),c.push("/")}},y=async()=>{try{console.log("\uD83D\uDD14 Admin Navbar: Marking all notifications as read"),await u((0,M.X0)()).unwrap(),console.log("✅ Admin Navbar: All notifications marked as read"),u((0,M.bb)({page:1,per_page:10})),u((0,M.jA)())}catch(e){console.error("❌ Admin Navbar: Failed to mark all notifications as read",e)}},N=()=>h&&h.name||"Admin",A=e=>{let a=new Date,t=new Date(e),i=a.getTime()-t.getTime(),r=Math.floor(i/6e4),s=Math.floor(i/36e5),n=Math.floor(i/864e5);return r<1?"Just now":r<60?"".concat(r," min ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):n<7?"".concat(n," day").concat(n>1?"s":""," ago"):t.toLocaleDateString()};return(0,i.jsx)(d.P.div,{initial:{y:-100},animate:{y:0},transition:{duration:.3},className:(0,w.cn)("fixed top-0 left-0 right-0 z-50 h-16 bg-white/80 dark:bg-black/70 backdrop-blur-xl border-b border-white/20 px-4 lg:px-8",n?"shadow-md":"",t?"pl-4":s?"pl-24":"pl-[288px]"),children:(0,i.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(b.$,{variant:"ghost",size:"icon",onClick:a,className:"lg:hidden",children:[(0,i.jsx)(k.A,{size:20}),(0,i.jsx)("span",{className:"sr-only",children:"Toggle menu"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3 lg:hidden",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center",children:(0,i.jsx)(j.default,{src:v.A,alt:"Admin Logo",width:24,height:24})}),(0,i.jsx)(R.O,{className:"font-bold text-gray-800 dark:text-gray-200 text-sm",children:"ADMIN DASHBOARD"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(S.rI,{children:[(0,i.jsx)(S.ty,{asChild:!0,children:(0,i.jsxs)(b.$,{variant:"ghost",size:"icon",className:"relative bg-white/70 dark:bg-black/50 backdrop-blur-sm shadow-lg hover:bg-white/90 dark:hover:bg-black/70 transition-all duration-300 rounded-xl border border-white/30",children:[(0,i.jsx)(x.A,{size:18,className:"text-gray-600 dark:text-gray-200"}),g>0&&(0,i.jsx)(d.P.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full flex items-center justify-center shadow-lg",children:g>99?"99+":g})]})}),(0,i.jsxs)(S.SQ,{className:"w-80 bg-white/90 dark:bg-zinc-900 backdrop-blur-xl border border-white/30 shadow-2xl rounded-xl p-0",align:"end",sideOffset:8,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:[(0,i.jsx)(S.lp,{className:"text-base font-semibold m-0 text-gray-900 dark:text-gray-100",children:"Notifications"}),g>0&&(0,i.jsx)(b.$,{variant:"ghost",size:"sm",onClick:y,className:"h-8 text-xs text-[#1d2b7d] dark:text-blue-400 hover:text-[#1d2b7d]/80 dark:hover:text-blue-300 hover:bg-[#1d2b7d]/10 dark:hover:bg-blue-900/20 transition-colors",children:"Mark all as read"})]}),(0,i.jsx)("div",{className:"max-h-[350px] overflow-y-auto",children:m.length>0?m.map(e=>(0,i.jsxs)("div",{className:(0,w.cn)("flex items-start gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800/70 transition-colors cursor-pointer border-b border-gray-100 dark:border-gray-800/50 last:border-0",!e.is_read&&"bg-blue-50/50 dark:bg-blue-900/10"),children:[e.data.user_avatar?(0,i.jsxs)(z.eu,{className:"h-9 w-9 border border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,i.jsx)(z.BK,{src:e.data.user_avatar||"/placeholder.svg",alt:"User"}),(0,i.jsx)(z.q5,{children:"U"})]}):(0,i.jsx)("div",{className:(0,w.cn)("w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0",e.is_read?"bg-gray-100 dark:bg-gray-800":"bg-[#1d2b7d]/10 dark:bg-blue-900/20"),children:(0,i.jsx)(x.A,{className:(0,w.cn)("h-4 w-4",e.is_read?"text-gray-500 dark:text-gray-400":"text-[#1d2b7d] dark:text-blue-400")})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsx)("p",{className:(0,w.cn)("font-medium text-sm",e.is_read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,i.jsx)("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 ml-2 flex-shrink-0",children:A(e.created_at)})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:e.message})]})]},e.id)):(0,i.jsxs)("div",{className:"py-12 text-center",children:[(0,i.jsx)(x.A,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,i.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:f?"Loading notifications...":"No notifications"})]})}),(0,i.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50",children:(0,i.jsx)(b.$,{variant:"ghost",className:"w-full text-[#1d2b7d] dark:text-blue-400 hover:text-[#1d2b7d]/80 dark:hover:text-blue-300 hover:bg-[#1d2b7d]/10 dark:hover:bg-blue-900/20 text-sm font-medium transition-colors",children:"View all notifications"})})]})]}),(0,i.jsxs)(S.rI,{children:[(0,i.jsx)(S.ty,{asChild:!0,children:(0,i.jsx)(b.$,{variant:"ghost",className:"relative h-10 w-auto px-3 bg-white/70 dark:bg-black/50 backdrop-blur-sm shadow-lg hover:bg-white/90 dark:hover:bg-black/70 transition-all duration-300 rounded-xl border border-white/30",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)(z.eu,{className:"h-8 w-10 ring-2 ring-white/50",children:[(0,i.jsx)(z.BK,{src:"/placeholder.svg?height=32&width=32"}),(0,i.jsx)(z.q5,{className:"bg-[#1d2b7d] text-white dark:bg-blue-900",children:(()=>{if(!h||!h.name)return"A";let e=h.name.split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():h.name.substring(0,2).toUpperCase()})()})]}),(0,i.jsxs)("div",{className:"hidden sm:flex flex-col items-start",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:N()}),(0,i.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null==h?void 0:h.role)==="admin"?"Administrator":"User"})]}),(0,i.jsx)(C.A,{size:16,className:"text-gray-400 ml-1"})]})})}),(0,i.jsxs)(S.SQ,{className:"w-64 bg-white/90 dark:bg-zinc-900 backdrop-blur-xl border border-white/30 shadow-2xl rounded-xl",align:"end",sideOffset:8,children:[(0,i.jsx)(S.lp,{className:"font-normal px-4 py-3 text-gray-800 dark:text-white",children:(0,i.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:N()}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null==h?void 0:h.email)||"admin@example.com"})]})}),(0,i.jsx)(S.mB,{className:"bg-white/30"}),(0,i.jsxs)(S._2,{onClick:p,className:"px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900 text-red-600 focus:text-red-600 rounded-lg mx-2 my-1",children:[(0,i.jsx)(_.A,{className:"mr-3 h-4 w-4"}),(0,i.jsx)("span",{children:"Logout"})]})]})]})]})]})})}function U(e){let{children:a}=e,[t,s]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{d(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100",children:[(0,i.jsx)(L,{onMenuClick:()=>s(!t),isSidebarOpen:t,sidebarCollapsed:n,isMobile:o}),(0,i.jsx)(A,{isOpen:t,onClose:()=>s(!1),collapsed:n,onToggleCollapse:()=>l(!n)}),(0,i.jsx)("main",{className:"\n            pt-16 transition-all duration-300 ease-in-out\n            ".concat(o?"ml-0":n?"ml-20":"ml-[280px]","\n          "),children:(0,i.jsx)("div",{className:"p-6",children:a})})]})}},22346:(e,a,t)=>{"use strict";t.d(a,{w:()=>l});var i=t(95155),r=t(12115),s=t(87489),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,orientation:r="horizontal",decorative:l=!0,...o}=e;return(0,i.jsx)(s.b,{ref:a,decorative:l,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...o})});l.displayName=s.b.displayName},25122:(e,a,t)=>{Promise.resolve().then(t.bind(t,7847))},63464:(e,a,t)=>{"use strict";t.d(a,{SP:()=>y,Ay:()=>N,bb:()=>u,jA:()=>x,G:()=>f,X0:()=>m,Q1:()=>h,OA:()=>g,_F:()=>b});var i=t(66439);let r={notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};var s=t(13984);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),void 0!==e.is_read&&a.append("is_read",e.is_read?"true":"false"),e.type&&a.append("type",e.type),e.sort&&a.append("sort",e.sort);let t=a.toString();return(await s.Ay.get("/notifications".concat(t?"?".concat(t):""))).data}catch(e){var a,t,i,r;throw console.error("Get notifications error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to fetch notifications",errors:null==e||null==(r=e.response)||null==(i=r.data)?void 0:i.errors}}},l=async e=>{try{return(await s.Ay.post("/notifications/read",e)).data}catch(e){var a,t,i,r;throw console.error("Mark notifications as read error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to mark notifications as read",errors:null==e||null==(r=e.response)||null==(i=r.data)?void 0:i.errors}}},o=async()=>{try{return{unread_count:(await n({page:1,per_page:1,is_read:!1})).meta.unread_count}}catch(r){var e,a,t,i;throw console.error("Get unread count error:",r),{success:!1,message:(null==r||null==(a=r.response)||null==(e=a.data)?void 0:e.message)||"Failed to get unread count",errors:null==r||null==(i=r.response)||null==(t=i.data)?void 0:t.errors}}},d=async()=>{try{return await l({mark_all:!0})}catch(e){throw console.error("Mark all notifications as read error:",e),e}},c=async e=>{try{return await l({notification_ids:e})}catch(e){throw console.error("Mark specific notifications as read error:",e),e}},u=(0,i.zD)("notifications/fetchNotifications",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:a}=arguments.length>1?arguments[1]:void 0;try{return await n(e)}catch(e){return a((null==e?void 0:e.message)||"Failed to fetch notifications")}}),h=(0,i.zD)("notifications/markAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await l(e),payload:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark notifications as read")}}),x=(0,i.zD)("notifications/fetchUnreadCount",async(e,a)=>{let{rejectWithValue:t}=a;try{return await o()}catch(e){return t((null==e?void 0:e.message)||"Failed to fetch unread count")}}),m=(0,i.zD)("notifications/markAllAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return await d()}catch(e){return t((null==e?void 0:e.message)||"Failed to mark all notifications as read")}}),g=(0,i.zD)("notifications/markSpecificAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await c(e),notificationIds:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark specific notifications as read")}}),f=(0,i.zD)("notifications/loadMore",async(e,a)=>{let{rejectWithValue:t,getState:i}=a;try{var r;let a=(null==(r=i().notifications.pagination)?void 0:r.current_page)||1;return await n({...e,page:a+1})}catch(e){return t((null==e?void 0:e.message)||"Failed to load more notifications")}}),p=(0,i.Z0)({name:"notifications",initialState:r,reducers:{setFilters:(e,a)=>{e.filters={...e.filters,...a.payload},(void 0!==a.payload.is_read||void 0!==a.payload.type)&&(e.filters.page=1)},clearNotifications:e=>{e.notifications=[],e.pagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>r,updateLocalReadStatus:(e,a)=>{let{notification_ids:t,is_read:i}=a.payload;if(e.notifications)if(e.notifications=e.notifications.map(e=>t.includes(e.id)?{...e,is_read:i}:e),i){let a=t.filter(a=>e.notifications.find(e=>e.id===a&&!e.is_read)).length;e.unreadCount=Math.max(0,e.unreadCount-a)}else{let a=t.filter(a=>e.notifications.find(e=>e.id===a&&e.is_read)).length;e.unreadCount+=a}}},extraReducers:e=>{e.addCase(u.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=a.payload.data,e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(u.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(f.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(f.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=[...e.notifications||[],...a.payload.data],e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(f.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(h.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(h.fulfilled,(e,a)=>{if(e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications){let{payload:t}=a.payload;t.mark_all?e.notifications=e.notifications.map(e=>({...e,is_read:!0})):t.notification_ids&&(e.notifications=e.notifications.map(e=>t.notification_ids.includes(e.id)?{...e,is_read:!0}:e))}}).addCase(h.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(x.pending,e=>{e.loading.getUnreadCount=!0}).addCase(x.fulfilled,(e,a)=>{e.loading.getUnreadCount=!1,e.unreadCount=a.payload.unread_count}).addCase(x.rejected,(e,a)=>{e.loading.getUnreadCount=!1,e.error=a.payload}),e.addCase(m.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>({...e,is_read:!0})))}).addCase(m.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(g.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(g.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>a.payload.notificationIds.includes(e.id)?{...e,is_read:!0}:e))}).addCase(g.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload})}}),{setFilters:b,clearNotifications:y,clearError:w,resetState:v,updateLocalReadStatus:j}=p.actions,N=p.reducer},91394:(e,a,t)=>{"use strict";t.d(a,{BK:()=>o,eu:()=>l,q5:()=>d});var i=t(95155),r=t(12115),s=t(54011),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,i.jsx)(s.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});l.displayName=s.bL.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,i.jsx)(s._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",t),...r})});o.displayName=s._V.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,i.jsx)(s.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});d.displayName=s.H4.displayName},98722:(e,a,t)=>{"use strict";t.d(a,{O:()=>n});var i=t(95155),r=t(12115),s=t(59434);function n(e){let{children:a,className:t,speed:n=50,delay:l=0}=e,[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(0),[h,x]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{x(!0)},l);return()=>clearTimeout(e)},[l]),(0,r.useEffect)(()=>{if(h&&c<a.length){let e=setTimeout(()=>{d(a.substring(0,c+1)),u(c+1)},n);return()=>clearTimeout(e)}},[a,c,n,h]),(0,i.jsxs)("span",{className:(0,s.cn)("",t),children:[o,c<a.length&&(0,i.jsx)("span",{className:"animate-pulse",children:"|"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[7598,3863,6766,8695,3024,2043,6874,9267,1118,9239,8185,4937,4287,8441,1684,7358],()=>a(25122)),_N_E=e.O()}]);