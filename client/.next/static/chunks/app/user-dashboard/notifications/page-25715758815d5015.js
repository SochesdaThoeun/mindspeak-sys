(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7246],{41988:(e,t,s)=>{Promise.resolve().then(s.bind(s,52040))},52040:(e,t,s)=>{"use strict";s.d(t,{default:()=>k});var a=s(95155),i=s(12115),l=s(28695),n=s(60760),d=s(23861),r=s(13062),c=s(69074),o=s(1243),m=s(81284),x=s(5196),h=s(54416),u=s(66932),b=s(33786),p=s(6874),f=s.n(p);function j(e){let{notification:t,onMarkAsRead:s,onDismiss:n,delay:d}=e,[u,p]=(0,i.useState)(!1);return(0,a.jsx)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:d},exit:{opacity:0,height:0,marginBottom:0},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{t.is_read||s(t.id)},className:"bg-white rounded-xl shadow-sm overflow-hidden transition-all ".concat(t.is_read?"border border-slate-100":"border-l-4 border-[#1d2b7d] shadow-md"),children:(0,a.jsxs)("div",{className:"p-4 sm:p-5 flex",children:[(0,a.jsx)("div",{className:"".concat((()=>{switch(t.type){case"admin_message":return"bg-purple-100 text-purple-600";case"comment":return"bg-blue-100 text-blue-600";case"like":return"bg-emerald-100 text-emerald-600";case"post_approved":case"comment_approved":return"bg-green-100 text-green-600";case"post_rejected":case"comment_rejected":return"bg-red-100 text-red-600";default:return"bg-slate-100 text-slate-600"}})()," flex items-center justify-center p-2 rounded-full mr-4 flex-shrink-0"),children:(()=>{switch(t.type){case"admin_message":return(0,a.jsx)(r.A,{className:"h-5 w-5"});case"comment":return(0,a.jsx)(c.A,{className:"h-5 w-5"});case"like":case"comment_approved":case"comment_rejected":default:return(0,a.jsx)(m.A,{className:"h-5 w-5"});case"post_approved":case"post_rejected":return(0,a.jsx)(o.A,{className:"h-5 w-5"})}})()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-1 sm:mb-0",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t.is_read?"text-slate-700":"text-[#1d2b7d]"," mb-1 sm:mb-0"),children:t.title}),(0,a.jsx)("span",{className:"text-xs text-slate-500 sm:ml-4 flex-shrink-0",children:(e=>{let t=new Date(e),s=Math.floor(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===s?"Today at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):1===s?"Yesterday":s<7?t.toLocaleDateString([],{weekday:"long"}):t.toLocaleDateString([],{month:"short",day:"numeric"})})(t.created_at)})]}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mb-3",children:t.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[t.url?(0,a.jsxs)(f(),{href:t.url,className:"text-[#1d2b7d] text-sm font-medium flex items-center hover:underline",children:["View details",(0,a.jsx)(b.A,{className:"ml-1 h-3 w-3"})]}):(0,a.jsx)("span",{}),(0,a.jsxs)("div",{className:"flex space-x-1 transition-opacity ".concat(u?"opacity-100":"opacity-0"),children:[!t.is_read&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t.id)},className:"p-1 text-slate-400 hover:text-[#1d2b7d] hover:bg-slate-50 rounded-full transition-colors",title:"Mark as read",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),n(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-slate-50 rounded-full transition-colors",title:"Dismiss",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})]})]})]})]})})}function y(e){let{filter:t,isActive:s,onClick:i,delay:n}=e,d=t.icon;return(0,a.jsxs)(l.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:n},whileHover:{y:-2},onClick:i,className:"px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center ".concat(s?"bg-[#1d2b7d] text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 hover:text-[#1d2b7d] border border-slate-200"),children:[(0,a.jsx)(d,{className:"h-4 w-4 mr-2"}),t.label]})}var N=s(80333),g=s(85057),v=s(53680),w=s(63464);function k(){let e,[t,s]=(0,i.useState)(!1),[b,p]=(0,i.useState)("all"),[f,k]=(0,i.useState)(!1),[A,_]=(0,i.useState)(!1),C=(0,v.jL)(),{notifications:P,unreadCount:S,loading:M,error:E}=(0,v.E$)();(0,i.useEffect)(()=>{s(!0),C((0,w.bb)({}))},[C]),(0,i.useEffect)(()=>{let e={};"all"!==b&&(e.type=b),f&&(e.is_read=!1),C((0,w._F)({...e,page:1})),C((0,w.bb)(e))},[b,f,C]);let L=e=>{C((0,w.OA)([e]))},T=e=>{L(e)},D=(e=P,"all"!==b&&(e=e.filter(e=>e.type===b)),f&&(e=e.filter(e=>!e.is_read)),e),F=[{id:"all",label:"All",icon:d.A},{id:"like",label:"Likes",icon:r.A},{id:"comment",label:"Comments",icon:c.A},{id:"admin_message",label:"Admin Messages",icon:o.A},{id:"post_approved",label:"Post Updates",icon:m.A}];return(0,a.jsx)("div",{className:"py-16 bg-gradient-to-b from-slate-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-auto",children:[(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5},className:"text-center mb-8",children:[(0,a.jsx)("span",{className:"inline-block px-3 py-1 bg-[#1d2b7d]/10 text-[#1d2b7d] rounded-full text-sm font-medium mb-4",children:"NOTIFICATIONS"}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-[#1d2b7d] mb-4",children:"Your Notifications"}),(0,a.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Stay updated with important announcements, events, and alerts from Paragon University."})]}),(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.1},className:"bg-white rounded-xl shadow-sm p-4 mb-8 flex flex-col sm:flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 sm:mb-0",children:[(0,a.jsx)("div",{className:"bg-[#1d2b7d]/10 p-2 rounded-full mr-3",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-[#1d2b7d]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"You have"}),(0,a.jsxs)("p",{className:"font-bold text-[#1d2b7d]",children:[S," unread ",1===S?"notification":"notifications"]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{C((0,w.X0)())},disabled:M.markAsRead,className:"px-3 py-1.5 text-sm font-medium text-[#1d2b7d] bg-[#1d2b7d]/10 rounded-lg hover:bg-[#1d2b7d]/20 transition-colors flex items-center disabled:opacity-50",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),M.markAsRead?"Marking...":"Mark all read"]}),(0,a.jsxs)("button",{onClick:()=>{C((0,w.SP)())},className:"px-3 py-1.5 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors flex items-center",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Clear all"]})]})]}),E&&(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-red-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-800 font-medium",children:"Error loading notifications"}),(0,a.jsx)("p",{className:"text-red-600 text-sm",children:E})]}),(0,a.jsx)("button",{onClick:()=>C((0,w.bb)({})),className:"ml-auto px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:"Retry"})]})}),(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.2},className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:"Filters"}),(0,a.jsxs)("button",{onClick:()=>_(!A),className:"md:hidden px-2 py-1 text-sm text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"Filters"]})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-wrap gap-2 mb-4",children:F.map((e,t)=>(0,a.jsx)(y,{filter:e,isActive:b===e.id,onClick:()=>p(e.id),delay:.05*t},e.id))}),(0,a.jsx)(n.N,{children:A&&(0,a.jsx)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white rounded-lg shadow-sm overflow-hidden mb-4",children:(0,a.jsx)("div",{className:"p-2 grid grid-cols-2 gap-2",children:F.map(e=>(0,a.jsx)(y,{filter:e,isActive:b===e.id,onClick:()=>{p(e.id),_(!1)},delay:0},e.id))})})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(N.d,{id:"unread-only",checked:f,onCheckedChange:k,className:"mr-2"}),(0,a.jsx)(g.J,{htmlFor:"unread-only",className:"text-sm text-slate-600",children:"Show unread only"})]})]}),(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.3},className:"space-y-4",children:M.fetchNotifications?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-[#1d2b7d] border-t-transparent rounded-full animate-spin"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-slate-700 mb-2",children:"Loading notifications..."}),(0,a.jsx)("p",{className:"text-slate-500",children:"Please wait while we fetch your latest notifications"})]}):D.length>0?D.map((e,t)=>(0,a.jsx)(j,{notification:e,onMarkAsRead:L,onDismiss:T,delay:.05*t},e.id)):(0,a.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(d.A,{className:"h-6 w-6 text-slate-400"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-slate-700 mb-2",children:"No notifications"}),(0,a.jsx)("p",{className:"text-slate-500 max-w-md mx-auto",children:P.length>0?"No notifications match your current filters. Try adjusting your filter settings.":"You don't have any notifications at the moment. Check back later for updates."})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[7598,3863,8695,6874,5049,1509,8185,913,8441,1684,7358],()=>t(41988)),_N_E=e.O()}]);