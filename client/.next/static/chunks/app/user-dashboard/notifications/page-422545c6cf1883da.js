(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7246],{5513:(e,t,i)=>{"use strict";i.d(t,{PU:()=>l});var a=i(12115),s=i(53680),n=i(16860);let l=()=>{let e=(0,s.jL)(),t=(0,s.GV)(n.a7),i=(0,s.GV)(n.YQ),l=(0,s.GV)(n.H1),o=(0,s.GV)(n.cr),r=(0,s.GV)(n.IQ),d=(0,s.GV)(n.p8),c=(0,s.GV)(n.S6),u=(0,s.GV)(n.fn),m=(0,a.useCallback)(t=>e((0,n.Os)(t||{})),[e]),x=(0,a.useCallback)(t=>e((0,n._z)(t)),[e]),g=(0,a.useCallback)(t=>e((0,n.Xo)(t||{})),[e]),h=(0,a.useCallback)(t=>{e((0,n.LE)(t))},[e]),p=(0,a.useCallback)(()=>{e((0,n.VO)())},[e]),f=(0,a.useCallback)(()=>{e((0,n.ET)())},[e]),b=(0,a.useCallback)((t,i)=>{e((0,n.lg)({messageId:t,status:i}))},[e]);return{messages:t,pagination:i,filters:l,loading:o.fetchUserMessages,sendLoading:o.sendMessage,error:r,unreadMessages:d,respondedMessages:c,hasMore:u,fetchMessages:m,sendNewMessage:x,loadMore:g,setFilters:h,clearMessages:p,clearErrorState:f,updateStatus:b}}},41988:(e,t,i)=>{Promise.resolve().then(i.bind(i,52040))},52040:(e,t,i)=>{"use strict";i.d(t,{default:()=>P});var a=i(95155),s=i(12115),n=i(28695),l=i(60760),o=i(23861),r=i(13062),d=i(69074),c=i(1243),u=i(81284),m=i(5196),x=i(54416),g=i(66932),h=i(33786),p=i(6874),f=i.n(p);function b(e){let{notification:t,onMarkAsRead:i,onDismiss:l,delay:o}=e,[g,p]=(0,s.useState)(!1);return(0,a.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:o},exit:{opacity:0,height:0,marginBottom:0},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{t.is_read||i(t.id)},className:"bg-white rounded-xl shadow-sm overflow-hidden transition-all ".concat(t.is_read?"border border-slate-100":"border-l-4 border-[#1d2b7d] shadow-md"),children:(0,a.jsxs)("div",{className:"p-4 sm:p-5 flex",children:[(0,a.jsx)("div",{className:"".concat((()=>{switch(t.type){case"admin_message":return"bg-purple-100 text-purple-600";case"comment":return"bg-blue-100 text-blue-600";case"like":return"bg-emerald-100 text-emerald-600";case"post_approved":case"comment_approved":return"bg-green-100 text-green-600";case"post_rejected":case"comment_rejected":return"bg-red-100 text-red-600";default:return"bg-slate-100 text-slate-600"}})()," flex items-center justify-center p-2 rounded-full mr-4 flex-shrink-0"),children:(()=>{switch(t.type){case"admin_message":return(0,a.jsx)(r.A,{className:"h-5 w-5"});case"comment":return(0,a.jsx)(d.A,{className:"h-5 w-5"});case"like":case"comment_approved":case"comment_rejected":default:return(0,a.jsx)(u.A,{className:"h-5 w-5"});case"post_approved":case"post_rejected":return(0,a.jsx)(c.A,{className:"h-5 w-5"})}})()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-1 sm:mb-0",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t.is_read?"text-slate-700":"text-[#1d2b7d]"," mb-1 sm:mb-0"),children:t.title}),(0,a.jsx)("span",{className:"text-xs text-slate-500 sm:ml-4 flex-shrink-0",children:(e=>{let t=new Date(e),i=Math.floor(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===i?"Today at ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):1===i?"Yesterday":i<7?t.toLocaleDateString([],{weekday:"long"}):t.toLocaleDateString([],{month:"short",day:"numeric"})})(t.created_at)})]}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mb-3",children:t.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[t.url?(0,a.jsxs)(f(),{href:t.url,className:"text-[#1d2b7d] text-sm font-medium flex items-center hover:underline",children:["View details",(0,a.jsx)(h.A,{className:"ml-1 h-3 w-3"})]}):(0,a.jsx)("span",{}),(0,a.jsxs)("div",{className:"flex space-x-1 transition-opacity ".concat(g?"opacity-100":"opacity-0"),children:[!t.is_read&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.id)},className:"p-1 text-slate-400 hover:text-[#1d2b7d] hover:bg-slate-50 rounded-full transition-colors",title:"Mark as read",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),l(t.id)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-slate-50 rounded-full transition-colors",title:"Dismiss",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]})]})]})})}function v(e){let{filter:t,isActive:i,onClick:s,delay:l}=e,o=t.icon;return(0,a.jsxs)(n.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:l},whileHover:{y:-2},onClick:s,className:"px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center ".concat(i?"bg-[#1d2b7d] text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 hover:text-[#1d2b7d] border border-slate-200"),children:[(0,a.jsx)(o,{className:"h-4 w-4 mr-2"}),t.label]})}var y=i(80333),j=i(85057),N=i(53680),w=i(63464);function P(){let e,[t,i]=(0,s.useState)(!1),[h,p]=(0,s.useState)("all"),[f,P]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),C=(0,N.jL)(),{notifications:_,unreadCount:L,loading:q,error:F}=(0,N.E$)();(0,s.useEffect)(()=>{i(!0),C((0,w.bb)({}))},[C]),(0,s.useEffect)(()=>{let e={};"all"!==h&&(e.type=h),f&&(e.is_read=!1),C((0,w._F)({...e,page:1})),C((0,w.bb)(e))},[h,f,C]);let S=e=>{C((0,w.OA)([e]))},B=e=>{S(e)},U=(e=_,"all"!==h&&(e=e.filter(e=>e.type===h)),f&&(e=e.filter(e=>!e.is_read)),e),E=[{id:"all",label:"All",icon:o.A},{id:"like",label:"Likes",icon:r.A},{id:"comment",label:"Comments",icon:d.A},{id:"admin_message",label:"Admin Messages",icon:c.A},{id:"post_approved",label:"Post Updates",icon:u.A}];return(0,a.jsx)("div",{className:"py-16 bg-gradient-to-b from-slate-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-auto",children:[(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5},className:"text-center mb-8",children:[(0,a.jsx)("span",{className:"inline-block px-3 py-1 bg-[#1d2b7d]/10 text-[#1d2b7d] rounded-full text-sm font-medium mb-4",children:"NOTIFICATIONS"}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-[#1d2b7d] mb-4",children:"Your Notifications"}),(0,a.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Stay updated with important announcements, events, and alerts from Paragon University."})]}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.1},className:"bg-white rounded-xl shadow-sm p-4 mb-8 flex flex-col sm:flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 sm:mb-0",children:[(0,a.jsx)("div",{className:"bg-[#1d2b7d]/10 p-2 rounded-full mr-3",children:(0,a.jsx)(o.A,{className:"h-5 w-5 text-[#1d2b7d]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"You have"}),(0,a.jsxs)("p",{className:"font-bold text-[#1d2b7d]",children:[L," unread ",1===L?"notification":"notifications"]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{C((0,w.X0)())},disabled:q.markAsRead,className:"px-3 py-1.5 text-sm font-medium text-[#1d2b7d] bg-[#1d2b7d]/10 rounded-lg hover:bg-[#1d2b7d]/20 transition-colors flex items-center disabled:opacity-50",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),q.markAsRead?"Marking...":"Mark all read"]}),(0,a.jsxs)("button",{onClick:()=>{C((0,w.SP)())},className:"px-3 py-1.5 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors flex items-center",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Clear all"]})]})]}),F&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-red-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-800 font-medium",children:"Error loading notifications"}),(0,a.jsx)("p",{className:"text-red-600 text-sm",children:F})]}),(0,a.jsx)("button",{onClick:()=>C((0,w.bb)({})),className:"ml-auto px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:"Retry"})]})}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.2},className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:"Filters"}),(0,a.jsxs)("button",{onClick:()=>A(!k),className:"md:hidden px-2 py-1 text-sm text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors flex items-center",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Filters"]})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-wrap gap-2 mb-4",children:E.map((e,t)=>(0,a.jsx)(v,{filter:e,isActive:h===e.id,onClick:()=>p(e.id),delay:.05*t},e.id))}),(0,a.jsx)(l.N,{children:k&&(0,a.jsx)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white rounded-lg shadow-sm overflow-hidden mb-4",children:(0,a.jsx)("div",{className:"p-2 grid grid-cols-2 gap-2",children:E.map(e=>(0,a.jsx)(v,{filter:e,isActive:h===e.id,onClick:()=>{p(e.id),A(!1)},delay:0},e.id))})})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.d,{id:"unread-only",checked:f,onCheckedChange:P,className:"mr-2"}),(0,a.jsx)(j.J,{htmlFor:"unread-only",className:"text-sm text-slate-600",children:"Show unread only"})]})]}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.3},className:"space-y-4",children:q.fetchNotifications?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-[#1d2b7d] border-t-transparent rounded-full animate-spin"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-slate-700 mb-2",children:"Loading notifications..."}),(0,a.jsx)("p",{className:"text-slate-500",children:"Please wait while we fetch your latest notifications"})]}):U.length>0?U.map((e,t)=>(0,a.jsx)(b,{notification:e,onMarkAsRead:S,onDismiss:B,delay:.05*t},e.id)):(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-slate-400"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-slate-700 mb-2",children:"No notifications"}),(0,a.jsx)("p",{className:"text-slate-500 max-w-md mx-auto",children:_.length>0?"No notifications match your current filters. Try adjusting your filter settings.":"You don't have any notifications at the moment. Check back later for updates."})]})})]})})}},53680:(e,t,i)=>{"use strict";i.d(t,{kp:()=>n.kp,rq:()=>o.rq,Qx:()=>n.Qx,jL:()=>u,GV:()=>m,h7:()=>x,_9:()=>r,bP:()=>l,E$:()=>c,a4:()=>d,j6:()=>g});var a=i(34540),s=i(12115);i(41480);var n=i(12840);i(5513);let l=()=>{var e,t,i,a;let s=m(e=>e.faqs)||{faqs:[],adminFaqs:[],pagination:null,filters:{page:1,per_page:15},loading:{fetchFaqs:!1,createFaq:!1,updateFaq:!1,deleteFaq:!1},error:null};return{faqs:s.faqs||[],adminFaqs:s.adminFaqs||[],pagination:s.pagination,filters:s.filters,loading:s.loading,isLoading:(null==(e=s.loading)?void 0:e.fetchFaqs)||!1,isCreating:(null==(t=s.loading)?void 0:t.createFaq)||!1,isUpdating:(null==(i=s.loading)?void 0:i.updateFaq)||!1,isDeleting:(null==(a=s.loading)?void 0:a.deleteFaq)||!1,error:s.error,hasFaqs:(s.faqs||[]).length>0,hasAdminFaqs:(s.adminFaqs||[]).length>0,isAnyLoading:!!s.loading&&Object.values(s.loading).some(e=>e),getFaqById:e=>(s.faqs||[]).find(t=>t.id===e),getAdminFaqById:e=>(s.adminFaqs||[]).find(t=>t.id===e)}};var o=i(28052);let r=()=>{let e=m(e=>e.comments);return{commentsByPost:(null==e?void 0:e.commentsByPost)||{},paginationByPost:(null==e?void 0:e.paginationByPost)||{},userComments:(null==e?void 0:e.userComments)||[],userCommentsPagination:(null==e?void 0:e.userCommentsPagination)||null,isLoading:(null==e?void 0:e.isLoading)||!1,isCreating:(null==e?void 0:e.isCreating)||!1,isUpdating:(null==e?void 0:e.isUpdating)||!1,isDeleting:(null==e?void 0:e.isDeleting)||!1,error:(null==e?void 0:e.error)||null}},d=e=>{let t=m(e=>e.comments);return{comments:(null==t?void 0:t.commentsByPost[e])||[],pagination:(null==t?void 0:t.paginationByPost[e])||null,isLoading:(null==t?void 0:t.isLoading)||!1,error:(null==t?void 0:t.error)||null}},c=()=>{var e,t,i,a,s,n;let l=m(e=>e.notifications)||{notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};return{notifications:l.notifications||[],unreadCount:l.unreadCount||0,pagination:l.pagination,filters:l.filters,loading:l.loading,isLoading:(null==(e=l.loading)?void 0:e.fetchNotifications)||!1,isMarkingAsRead:(null==(t=l.loading)?void 0:t.markAsRead)||!1,isFetchingUnreadCount:(null==(i=l.loading)?void 0:i.getUnreadCount)||!1,error:l.error,hasNotifications:(l.notifications||[]).length>0,hasUnreadNotifications:(l.unreadCount||0)>0,isAnyLoading:!!l.loading&&Object.values(l.loading).some(e=>e),unreadNotifications:(l.notifications||[]).filter(e=>!e.is_read),readNotifications:(l.notifications||[]).filter(e=>e.is_read),getNotificationsByType:e=>(l.notifications||[]).filter(t=>t.type===e),getNotificationById:e=>(l.notifications||[]).find(t=>t.id===e),hasMorePages:!!l.pagination&&l.pagination.current_page<l.pagination.last_page,currentPage:(null==(a=l.pagination)?void 0:a.current_page)||1,totalPages:(null==(s=l.pagination)?void 0:s.last_page)||1,totalNotifications:(null==(n=l.pagination)?void 0:n.total)||0}},u=()=>(0,a.wA)(),m=a.d4,x=()=>{var e;let t=m(e=>e.auth);return(0,s.useEffect)(()=>{var e,i;console.log("\uD83D\uDD0D useAuth Hook: Auth state changed",{hasUser:!!(null==t?void 0:t.user),userId:null==t||null==(e=t.user)?void 0:e.id,userName:null==t||null==(i=t.user)?void 0:i.name,isAuthenticated:null==t?void 0:t.isAuthenticated,isLoading:null==t?void 0:t.isLoading,hasError:!!(null==t?void 0:t.error)})},[null==t?void 0:t.user,null==t?void 0:t.isAuthenticated,null==t?void 0:t.isLoading,null==t?void 0:t.error]),{user:(null==t?void 0:t.user)||null,token:(null==t?void 0:t.token)||null,isAuthenticated:(null==t?void 0:t.isAuthenticated)||!1,isLoading:(null==t?void 0:t.isLoading)||!1,error:null!=(e=null==t?void 0:t.error)?e:null}},g=()=>{let e=m(e=>e.posts);return{publicPosts:(null==e?void 0:e.publicPosts)||[],publicPostsPagination:(null==e?void 0:e.publicPostsPagination)||null,userPosts:(null==e?void 0:e.userPosts)||[],userPostsPagination:(null==e?void 0:e.userPostsPagination)||null,userPostsByStatus:(null==e?void 0:e.userPostsByStatus)||{pending:[],approved:[],rejected:[]},userPostsByStatusPagination:(null==e?void 0:e.userPostsByStatusPagination)||{pending:null,approved:null,rejected:null},currentPost:(null==e?void 0:e.currentPost)||null,filters:(null==e?void 0:e.filters)||{},isLoading:(null==e?void 0:e.isLoading)||!1,isCreating:(null==e?void 0:e.isCreating)||!1,isUpdating:(null==e?void 0:e.isUpdating)||!1,isDeleting:(null==e?void 0:e.isDeleting)||!1,isLoadingByStatus:(null==e?void 0:e.isLoadingByStatus)||{pending:!1,approved:!1,rejected:!1},error:(null==e?void 0:e.error)||null}}},59434:(e,t,i)=>{"use strict";i.d(t,{cn:()=>n});var a=i(52596),s=i(39688);function n(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[3863,7598,8695,6874,5049,1509,8185,1428,8441,1684,7358],()=>t(41988)),_N_E=e.O()}]);