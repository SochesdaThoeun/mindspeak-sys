(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9654],{17313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var t=a(95155),r=a(12115),l=a(60704),n=a(59434);let i=l.bL,d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});d.displayName=l.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});c.displayName=l.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=l.UC.displayName},26126:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155);a(12115);var r=a(74466),l=a(59434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),s),...r})}},49256:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var t=a(95155),r=a(12115),l=a(91394),n=a(66695),i=a(26126),d=a(40646),c=a(14186),o=a(54861),m=a(62525),x=a(44020),u=a(51976),g=a(71366),h=a(28695),p=a(30285),f=a(17313),j=a(54165),N=a(44838),v=a(66766),b=a(6874),y=a.n(b),w=a(97953),A=a(53680),k=a(12840);let C=e=>{switch(e){case"approved":return(0,t.jsx)(d.A,{className:"h-4 w-4 text-green-500"});case"pending":return(0,t.jsx)(c.A,{className:"h-4 w-4 text-yellow-500"});case"rejected":return(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"})}},_=e=>{switch(e){case"approved":return(0,t.jsx)(i.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Approved"});case"pending":return(0,t.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Pending Review"});case"rejected":return(0,t.jsx)(i.E,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Rejected"})}},R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function E(e){let{isOpen:s,onClose:a,onConfirm:r,postTitle:l,isDeleting:n}=e;return(0,t.jsx)(j.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(j.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(j.c7,{children:[(0,t.jsxs)(j.L3,{className:"flex items-center gap-2 text-red-600",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),"Delete Post"]}),(0,t.jsxs)(j.rr,{className:"text-left",children:["Are you sure you want to delete this post?",(0,t.jsx)("br",{}),(0,t.jsxs)("strong",{className:"text-gray-900",children:['"',l,'"']}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"This action cannot be undone."]})]}),(0,t.jsxs)(j.Es,{children:[(0,t.jsx)(p.$,{variant:"outline",onClick:a,disabled:n,children:"Cancel"}),(0,t.jsx)(p.$,{variant:"destructive",onClick:r,disabled:n,className:"gap-2",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-r-transparent"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),"Delete Post"]})})]})]})})}function D(e){var s;let{post:a}=e,d=(0,A.jL)(),{isDeleting:c}=(0,A.j6)(),[f,j]=(0,r.useState)(!1),[b,D]=(0,r.useState)(!1),P=a.content.length>150?a.content.substring(0,150)+"...":a.content,U=async()=>{try{await d((0,k.ys)(a.id)).unwrap(),D(!1)}catch(e){console.error("Failed to delete post:",e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,t.jsx)(y(),{href:"/user-dashboard/feed/".concat(a.id),children:(0,t.jsx)(n.Zp,{className:"overflow-hidden bg-white hover:shadow-lg transition-shadow duration-300 cursor-pointer",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(l.eu,{className:"h-10 w-10 border-2 border-gray-100",children:[(0,t.jsx)(l.BK,{src:a.author_avatar||w.A.src,alt:"User avatar"}),(0,t.jsx)(l.q5,{children:a.is_anonymous?"A":(null==(s=a.author)?void 0:s.charAt(0).toUpperCase())||"U"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:a.is_anonymous?"Anonymous":a.author||"Your Post"}),C(a.status)]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:R(a.created_at)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[_(a.status),(0,t.jsxs)(N.rI,{children:[(0,t.jsx)(N.ty,{asChild:!0,children:(0,t.jsx)(p.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})}),(0,t.jsx)(N.SQ,{align:"end",children:(0,t.jsxs)(N._2,{onClick:e=>{e.preventDefault(),e.stopPropagation(),D(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Delete Post"]})})]})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.title}),(0,t.jsxs)("p",{className:"text-gray-700 mb-3",children:[f?a.content:P,a.content.length>150&&(0,t.jsx)("button",{onClick:e=>{e.preventDefault(),j(!f)},className:"text-blue-500 hover:text-blue-700 ml-1 font-medium",children:f?"Show less":"Read more"})]}),a.emotion&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-50 text-purple-700 rounded-full text-sm font-medium",children:["\uD83D\uDE0A Feeling ",a.emotion]})}),a.link&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm hover:bg-blue-100 transition-colors",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Link"]})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.tags.map((e,s)=>(0,t.jsxs)(i.E,{variant:"secondary",className:"bg-sky-50 text-sky-600 hover:bg-sky-100",children:["#",e]},s))}),a.image&&a.image.url&&(0,t.jsx)("div",{className:"relative cursor-pointer flex justify-center mb-3",onClick:e=>e.stopPropagation(),children:(0,t.jsx)("div",{className:"overflow-hidden bg-gray-100 dark:bg-gray-800 rounded-lg flex justify-center items-center",children:(0,t.jsx)(v.default,{src:a.image.url,width:800,height:300,alt:a.image.alt_text||"Post image",className:"w-auto object-cover hover:scale-105 transition-transform duration-300",style:{minHeight:"300px",maxHeight:"70vh",width:"auto",objectFit:"cover",margin:"0 auto"}})})}),"rejected"===a.status&&a.admin_note&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Admin Feedback"}),(0,t.jsx)("p",{className:"text-sm text-red-700",children:a.admin_note})]})]})})]}),"approved"===a.status&&(0,t.jsxs)("div",{className:"flex items-center gap-6 text-gray-500 text-sm border-t pt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:a.like_count})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:a.comment_count})]})]})]})})})}),(0,t.jsx)(E,{isOpen:b,onClose:()=>D(!1),onConfirm:U,postTitle:a.title,isDeleting:c})]})}function P(){return(0,t.jsx)(n.Zp,{className:"overflow-hidden bg-white",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 animate-pulse"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse mb-1"}),(0,t.jsx)("div",{className:"h-3 w-20 bg-gray-200 rounded animate-pulse"})]})]}),(0,t.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"h-5 w-3/4 bg-gray-200 rounded animate-pulse mb-2"}),(0,t.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse mb-1"}),(0,t.jsx)("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse mb-3"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)("div",{className:"h-5 w-16 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-5 w-20 bg-gray-200 rounded animate-pulse"})]})]})]})})}function U(){let e=(0,A.jL)(),{userPosts:s,userPostsPagination:a,userPostsByStatus:l,userPostsByStatusPagination:n,isLoading:i,isLoadingByStatus:d,error:c}=(0,A.j6)(),[o,m]=(0,r.useState)("all");(0,r.useEffect)(()=>{"all"===o?e((0,A.kp)()):e((0,A.Qx)({status:o}))},[e,o]);let x="all"===o?s:l[o]||[],u="all"===o?a:n[o],g="all"===o?i:d[o];return c&&!g?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-red-500 text-lg mb-2",children:"Error Loading Posts"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:c}),(0,t.jsx)(p.$,{onClick:()=>{"all"===o?e((0,A.kp)()):e((0,A.Qx)({status:o}))},children:"Try Again"})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Posts"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage and track the status of your posts"})]}),(0,t.jsxs)(f.tU,{value:o,onValueChange:e=>m(e),className:"w-full",children:[(0,t.jsxs)(f.j7,{className:"grid w-full grid-cols-4 mb-6",children:[(0,t.jsx)(f.Xi,{value:"all",className:"flex items-center gap-2",children:"All Posts"}),(0,t.jsx)(f.Xi,{value:"approved",className:"flex items-center gap-2",children:"Approved"}),(0,t.jsx)(f.Xi,{value:"pending",className:"flex items-center gap-2",children:"Pending"}),(0,t.jsx)(f.Xi,{value:"rejected",className:"flex items-center gap-2",children:"Rejected"})]}),(0,t.jsx)(f.av,{value:o,className:"space-y-6",children:g?(0,t.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(P,{},s))}):0===x.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-gray-400 text-lg mb-2",children:"No posts found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"all"===o?"You haven't created any posts yet.":"You don't have any ".concat(o," posts.")}),(0,t.jsx)(y(),{href:"/user-dashboard/feed",children:(0,t.jsx)(p.$,{className:"mt-4",children:"Create Your First Post"})})]}):x.map(e=>(0,t.jsx)(D,{post:e},e.id))})]}),u&&u.last_page>1&&(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.$,{variant:"outline",size:"sm",disabled:1===u.current_page,onClick:()=>{let s=u.current_page;s>1&&("all"===o?e((0,A.kp)({page:s-1})):e((0,A.Qx)({status:o,params:{page:s-1}})))},children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Page ",u.current_page," of ",u.last_page]}),(0,t.jsx)(p.$,{variant:"outline",size:"sm",disabled:u.current_page===u.last_page,onClick:()=>{let s=u.current_page;s<u.last_page&&("all"===o?e((0,A.kp)({page:s+1})):e((0,A.Qx)({status:o,params:{page:s+1}})))},children:"Next"})]})})]})})}},50226:(e,s,a)=>{Promise.resolve().then(a.bind(a,49256))},54165:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>u,L3:()=>g,c7:()=>x,lG:()=>d,rr:()=>h});var t=a(95155),r=a(12115),l=a(15452),n=a(54416),i=a(59434);let d=l.bL;l.l9;let c=l.ZL;l.bm;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});o.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...d}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let g=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});g.displayName=l.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=l.VY.displayName},66695:(e,s,a)=>{"use strict";a.d(s,{Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=a(95155),r=a(12115),l=a(59434);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},91394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>d,eu:()=>i,q5:()=>c});var t=a(95155),r=a(12115),l=a(54011),n=a(59434);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=l.bL.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});d.displayName=l._V.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});c.displayName=l.H4.displayName},97953:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t={src:"/_next/static/media/logo8.475bacfe.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXE1NoEzNn8yM3oxMY1CRIw5O4U0NHo1OINQU5uyQgq5AAAACnRSTlMAU2QgCTp8GJC04WwTigAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUeJw9ikkOwDAQg7BnS/7/4WikqhwB+ElVKYHqe7uA6HM6tknSCtuWh8yJmJ0/HhX/AJiq8pY/AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},e=>{var s=s=>e(e.s=s);e.O(0,[7598,3863,6766,8695,3024,2043,6874,9267,1118,6747,8185,4937,8441,1684,7358],()=>s(50226)),_N_E=e.O()}]);