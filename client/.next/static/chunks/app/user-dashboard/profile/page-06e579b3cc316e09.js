(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3911],{5040:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},5513:(e,a,t)=>{"use strict";t.d(a,{PU:()=>n});var i=t(12115),s=t(53680),r=t(16860);let n=()=>{let e=(0,s.jL)(),a=(0,s.GV)(r.a7),t=(0,s.GV)(r.YQ),n=(0,s.GV)(r.H1),o=(0,s.GV)(r.cr),l=(0,s.GV)(r.IQ),d=(0,s.GV)(r.p8),c=(0,s.GV)(r.S6),u=(0,s.GV)(r.fn),m=(0,i.useCallback)(a=>e((0,r.Os)(a||{})),[e]),f=(0,i.useCallback)(a=>e((0,r._z)(a)),[e]),p=(0,i.useCallback)(a=>e((0,r.Xo)(a||{})),[e]),h=(0,i.useCallback)(a=>{e((0,r.LE)(a))},[e]),x=(0,i.useCallback)(()=>{e((0,r.VO)())},[e]),g=(0,i.useCallback)(()=>{e((0,r.ET)())},[e]),b=(0,i.useCallback)((a,t)=>{e((0,r.lg)({messageId:a,status:t}))},[e]);return{messages:a,pagination:t,filters:n,loading:o.fetchUserMessages,sendLoading:o.sendMessage,error:l,unreadMessages:d,respondedMessages:c,hasMore:u,fetchMessages:m,sendNewMessage:f,loadMore:p,setFilters:h,clearMessages:x,clearErrorState:g,updateStatus:b}}},13717:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},23861:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},34835:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},35695:(e,a,t)=>{"use strict";var i=t(18999);t.o(i,"useParams")&&t.d(a,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(a,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(a,{useRouter:function(){return i.useRouter}})},50293:(e,a,t)=>{Promise.resolve().then(t.bind(t,78453))},53680:(e,a,t)=>{"use strict";t.d(a,{kp:()=>s.kp,rq:()=>n.rq,Qx:()=>s.Qx,jL:()=>c,GV:()=>u,h7:()=>m,_9:()=>o,bP:()=>r,E$:()=>d,a4:()=>l,j6:()=>f});var i=t(34540);t(41480);var s=t(12840);t(5513);let r=()=>{var e,a,t,i;let s=u(e=>e.faqs)||{faqs:[],adminFaqs:[],pagination:null,filters:{page:1,per_page:15},loading:{fetchFaqs:!1,createFaq:!1,updateFaq:!1,deleteFaq:!1},error:null};return{faqs:s.faqs||[],adminFaqs:s.adminFaqs||[],pagination:s.pagination,filters:s.filters,loading:s.loading,isLoading:(null==(e=s.loading)?void 0:e.fetchFaqs)||!1,isCreating:(null==(a=s.loading)?void 0:a.createFaq)||!1,isUpdating:(null==(t=s.loading)?void 0:t.updateFaq)||!1,isDeleting:(null==(i=s.loading)?void 0:i.deleteFaq)||!1,error:s.error,hasFaqs:(s.faqs||[]).length>0,hasAdminFaqs:(s.adminFaqs||[]).length>0,isAnyLoading:!!s.loading&&Object.values(s.loading).some(e=>e),getFaqById:e=>(s.faqs||[]).find(a=>a.id===e),getAdminFaqById:e=>(s.adminFaqs||[]).find(a=>a.id===e)}};var n=t(28052);let o=()=>{let e=u(e=>e.comments);return{commentsByPost:(null==e?void 0:e.commentsByPost)||{},paginationByPost:(null==e?void 0:e.paginationByPost)||{},userComments:(null==e?void 0:e.userComments)||[],userCommentsPagination:(null==e?void 0:e.userCommentsPagination)||null,isLoading:(null==e?void 0:e.isLoading)||!1,isCreating:(null==e?void 0:e.isCreating)||!1,isUpdating:(null==e?void 0:e.isUpdating)||!1,isDeleting:(null==e?void 0:e.isDeleting)||!1,error:(null==e?void 0:e.error)||null}},l=e=>{let a=u(e=>e.comments);return{comments:(null==a?void 0:a.commentsByPost[e])||[],pagination:(null==a?void 0:a.paginationByPost[e])||null,isLoading:(null==a?void 0:a.isLoading)||!1,error:(null==a?void 0:a.error)||null}},d=()=>{var e,a,t,i,s,r;let n=u(e=>e.notifications)||{notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};return{notifications:n.notifications||[],unreadCount:n.unreadCount||0,pagination:n.pagination,filters:n.filters,loading:n.loading,isLoading:(null==(e=n.loading)?void 0:e.fetchNotifications)||!1,isMarkingAsRead:(null==(a=n.loading)?void 0:a.markAsRead)||!1,isFetchingUnreadCount:(null==(t=n.loading)?void 0:t.getUnreadCount)||!1,error:n.error,hasNotifications:(n.notifications||[]).length>0,hasUnreadNotifications:(n.unreadCount||0)>0,isAnyLoading:!!n.loading&&Object.values(n.loading).some(e=>e),unreadNotifications:(n.notifications||[]).filter(e=>!e.is_read),readNotifications:(n.notifications||[]).filter(e=>e.is_read),getNotificationsByType:e=>(n.notifications||[]).filter(a=>a.type===e),getNotificationById:e=>(n.notifications||[]).find(a=>a.id===e),hasMorePages:!!n.pagination&&n.pagination.current_page<n.pagination.last_page,currentPage:(null==(i=n.pagination)?void 0:i.current_page)||1,totalPages:(null==(s=n.pagination)?void 0:s.last_page)||1,totalNotifications:(null==(r=n.pagination)?void 0:r.total)||0}},c=()=>(0,i.wA)(),u=i.d4,m=()=>{var e;let a=u(e=>e.auth);return{user:(null==a?void 0:a.user)||null,token:(null==a?void 0:a.token)||null,isAuthenticated:(null==a?void 0:a.isAuthenticated)||!1,isLoading:(null==a?void 0:a.isLoading)||!1,error:null!=(e=null==a?void 0:a.error)?e:null}},f=()=>{let e=u(e=>e.posts);return{publicPosts:(null==e?void 0:e.publicPosts)||[],publicPostsPagination:(null==e?void 0:e.publicPostsPagination)||null,userPosts:(null==e?void 0:e.userPosts)||[],userPostsPagination:(null==e?void 0:e.userPostsPagination)||null,userPostsByStatus:(null==e?void 0:e.userPostsByStatus)||{pending:[],approved:[],rejected:[]},userPostsByStatusPagination:(null==e?void 0:e.userPostsByStatusPagination)||{pending:null,approved:null,rejected:null},currentPost:(null==e?void 0:e.currentPost)||null,filters:(null==e?void 0:e.filters)||{},isLoading:(null==e?void 0:e.isLoading)||!1,isCreating:(null==e?void 0:e.isCreating)||!1,isUpdating:(null==e?void 0:e.isUpdating)||!1,isDeleting:(null==e?void 0:e.isDeleting)||!1,isLoadingByStatus:(null==e?void 0:e.isLoadingByStatus)||{pending:!1,approved:!1,rejected:!1},error:(null==e?void 0:e.error)||null}}},59434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>r});var i=t(52596),s=t(39688);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,i.$)(a))}},60760:(e,a,t)=>{"use strict";t.d(a,{N:()=>g});var i=t(95155),s=t(12115),r=t(90869),n=t(82885),o=t(97494),l=t(80845),d=t(51508);class c extends s.Component{getSnapshotBeforeUpdate(e){let a=this.props.childRef.current;if(a&&e.isPresent&&!this.props.isPresent){let e=a.offsetParent,t=e instanceof HTMLElement&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=t-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:a,isPresent:t,anchorX:r}=e,n=(0,s.useId)(),o=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,s.useContext)(d.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:a,top:i,left:s,right:d}=l.current;if(t||!o.current||!e||!a)return;o.current.dataset.motionPopId=n;let c=document.createElement("style");return u&&(c.nonce=u),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(a,"px !important;\n            ").concat("left"===r?"left: ".concat(s):"right: ".concat(d),"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.contains(c)&&document.head.removeChild(c)}},[t]),(0,i.jsx)(c,{isPresent:t,childRef:o,sizeRef:l,children:s.cloneElement(a,{ref:o})})}let m=e=>{let{children:a,initial:t,isPresent:r,onExitComplete:o,custom:d,presenceAffectsLayout:c,mode:m,anchorX:p}=e,h=(0,n.M)(f),x=(0,s.useId)(),g=!0,b=(0,s.useMemo)(()=>(g=!1,{id:x,initial:t,isPresent:r,custom:d,onExitComplete:e=>{for(let a of(h.set(e,!0),h.values()))if(!a)return;o&&o()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[r,h,o]);return c&&g&&(b={...b}),(0,s.useMemo)(()=>{h.forEach((e,a)=>h.set(a,!1))},[r]),s.useEffect(()=>{r||h.size||!o||o()},[r]),"popLayout"===m&&(a=(0,i.jsx)(u,{isPresent:r,anchorX:p,children:a})),(0,i.jsx)(l.t.Provider,{value:b,children:a})};function f(){return new Map}var p=t(32082);let h=e=>e.key||"";function x(e){let a=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&a.push(e)}),a}let g=e=>{let{children:a,custom:t,initial:l=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:u="sync",propagate:f=!1,anchorX:g="left"}=e,[b,y]=(0,p.xQ)(f),v=(0,s.useMemo)(()=>x(a),[a]),w=f&&!b?[]:v.map(h),j=(0,s.useRef)(!0),N=(0,s.useRef)(v),A=(0,n.M)(()=>new Map),[P,k]=(0,s.useState)(v),[C,E]=(0,s.useState)(v);(0,o.E)(()=>{j.current=!1,N.current=v;for(let e=0;e<C.length;e++){let a=h(C[e]);w.includes(a)?A.delete(a):!0!==A.get(a)&&A.set(a,!1)}},[C,w.length,w.join("-")]);let _=[];if(v!==P){let e=[...v];for(let a=0;a<C.length;a++){let t=C[a],i=h(t);w.includes(i)||(e.splice(a,0,t),_.push(t))}return"wait"===u&&_.length&&(e=_),E(x(e)),k(v),null}let{forceRender:F}=(0,s.useContext)(r.L);return(0,i.jsx)(i.Fragment,{children:C.map(e=>{let a=h(e),s=(!f||!!b)&&(v===C||w.includes(a));return(0,i.jsx)(m,{isPresent:s,initial:(!j.current||!!l)&&void 0,custom:t,presenceAffectsLayout:c,mode:u,onExitComplete:s?void 0:()=>{if(!A.has(a))return;A.set(a,!0);let e=!0;A.forEach(a=>{a||(e=!1)}),e&&(null==F||F(),E(N.current),f&&(null==y||y()),d&&d())},anchorX:g,children:e},a)})})}},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var i=t(95155),s=t(12115),r=t(59434);let n=s.forwardRef((e,a)=>{let{className:t,type:s,...n}=e;return(0,i.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},63464:(e,a,t)=>{"use strict";t.d(a,{SP:()=>y,Ay:()=>N,bb:()=>u,jA:()=>f,G:()=>x,X0:()=>p,Q1:()=>m,OA:()=>h,_F:()=>b});var i=t(66439);let s={notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};var r=t(13984);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),void 0!==e.is_read&&a.append("is_read",e.is_read?"true":"false"),e.type&&a.append("type",e.type),e.sort&&a.append("sort",e.sort);let t=a.toString();return(await r.Ay.get("/notifications".concat(t?"?".concat(t):""))).data}catch(e){var a,t,i,s;throw console.error("Get notifications error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to fetch notifications",errors:null==e||null==(s=e.response)||null==(i=s.data)?void 0:i.errors}}},o=async e=>{try{return(await r.Ay.post("/notifications/read",e)).data}catch(e){var a,t,i,s;throw console.error("Mark notifications as read error:",e),{success:!1,message:(null==e||null==(t=e.response)||null==(a=t.data)?void 0:a.message)||"Failed to mark notifications as read",errors:null==e||null==(s=e.response)||null==(i=s.data)?void 0:i.errors}}},l=async()=>{try{return{unread_count:(await n({page:1,per_page:1,is_read:!1})).meta.unread_count}}catch(s){var e,a,t,i;throw console.error("Get unread count error:",s),{success:!1,message:(null==s||null==(a=s.response)||null==(e=a.data)?void 0:e.message)||"Failed to get unread count",errors:null==s||null==(i=s.response)||null==(t=i.data)?void 0:t.errors}}},d=async()=>{try{return await o({mark_all:!0})}catch(e){throw console.error("Mark all notifications as read error:",e),e}},c=async e=>{try{return await o({notification_ids:e})}catch(e){throw console.error("Mark specific notifications as read error:",e),e}},u=(0,i.zD)("notifications/fetchNotifications",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:a}=arguments.length>1?arguments[1]:void 0;try{return await n(e)}catch(e){return a((null==e?void 0:e.message)||"Failed to fetch notifications")}}),m=(0,i.zD)("notifications/markAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await o(e),payload:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark notifications as read")}}),f=(0,i.zD)("notifications/fetchUnreadCount",async(e,a)=>{let{rejectWithValue:t}=a;try{return await l()}catch(e){return t((null==e?void 0:e.message)||"Failed to fetch unread count")}}),p=(0,i.zD)("notifications/markAllAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return await d()}catch(e){return t((null==e?void 0:e.message)||"Failed to mark all notifications as read")}}),h=(0,i.zD)("notifications/markSpecificAsRead",async(e,a)=>{let{rejectWithValue:t}=a;try{return{...await c(e),notificationIds:e}}catch(e){return t((null==e?void 0:e.message)||"Failed to mark specific notifications as read")}}),x=(0,i.zD)("notifications/loadMore",async(e,a)=>{let{rejectWithValue:t,getState:i}=a;try{var s;let a=(null==(s=i().notifications.pagination)?void 0:s.current_page)||1;return await n({...e,page:a+1})}catch(e){return t((null==e?void 0:e.message)||"Failed to load more notifications")}}),g=(0,i.Z0)({name:"notifications",initialState:s,reducers:{setFilters:(e,a)=>{e.filters={...e.filters,...a.payload},(void 0!==a.payload.is_read||void 0!==a.payload.type)&&(e.filters.page=1)},clearNotifications:e=>{e.notifications=[],e.pagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>s,updateLocalReadStatus:(e,a)=>{let{notification_ids:t,is_read:i}=a.payload;if(e.notifications)if(e.notifications=e.notifications.map(e=>t.includes(e.id)?{...e,is_read:i}:e),i){let a=t.filter(a=>e.notifications.find(e=>e.id===a&&!e.is_read)).length;e.unreadCount=Math.max(0,e.unreadCount-a)}else{let a=t.filter(a=>e.notifications.find(e=>e.id===a&&e.is_read)).length;e.unreadCount+=a}}},extraReducers:e=>{e.addCase(u.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=a.payload.data,e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(u.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(x.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(x.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=[...e.notifications||[],...a.payload.data],e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(x.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(m.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{if(e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications){let{payload:t}=a.payload;t.mark_all?e.notifications=e.notifications.map(e=>({...e,is_read:!0})):t.notification_ids&&(e.notifications=e.notifications.map(e=>t.notification_ids.includes(e.id)?{...e,is_read:!0}:e))}}).addCase(m.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(f.pending,e=>{e.loading.getUnreadCount=!0}).addCase(f.fulfilled,(e,a)=>{e.loading.getUnreadCount=!1,e.unreadCount=a.payload.unread_count}).addCase(f.rejected,(e,a)=>{e.loading.getUnreadCount=!1,e.error=a.payload}),e.addCase(p.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>({...e,is_read:!0})))}).addCase(p.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(h.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(h.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>a.payload.notificationIds.includes(e.id)?{...e,is_read:!0}:e))}).addCase(h.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload})}}),{setFilters:b,clearNotifications:y,clearError:v,resetState:w,updateLocalReadStatus:j}=g.actions,N=g.reducer},71007:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},75525:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},78453:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var i=t(95155),s=t(12115),r=t(66766),n=t(86491),o=t(71007),l=t(5040),d=t(23861);let c=(0,t(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var u=t(13717),m=t(75525),f=t(81497),p=t(34835),h=t(35695),x=t(28695),g=t(60760),b=t(62523),y=t(88539),v=t(53680),w=t(54287),j=t(63464);function N(){let e=(0,h.useRouter)(),a=(0,v.jL)(),{user:t,isLoading:N,error:A}=(0,v.h7)(),P=(0,v.GV)(e=>{var a;return(null==(a=e.notifications)?void 0:a.notifications)||[]}),k=(0,v.GV)(e=>{var a,t;return(null==(t=e.notifications)||null==(a=t.loading)?void 0:a.fetchNotifications)||!1}),C=(0,v.GV)(e=>{var a;return(null==(a=e.notifications)?void 0:a.unreadCount)||0}),[E,_]=(0,s.useState)("profile"),[F,S]=(0,s.useState)(!1),[R,M]=(0,s.useState)(!1),[H,L]=(0,s.useState)({name:"",email:"",bio:"",avatar:null}),[D,B]=(0,s.useState)(!1),[U,q]=(0,s.useState)({showProfile:!0,allowMessages:!0,emailNotifications:!1}),[I,T]=(0,s.useState)({emailNotifications:!0,pushNotifications:!0,commentNotifications:!0}),[G,Q]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1});(0,s.useEffect)(()=>{t||a((0,w.VM)())},[a,t]),(0,s.useEffect)(()=>{t&&(L({name:t.name||"",email:t.email||"",bio:t.bio||"",avatar:null}),B(!1))},[t]),(0,s.useEffect)(()=>()=>{a((0,w.ET)())},[a]),(0,s.useEffect)(()=>{"notifications"===E&&a((0,j.bb)({page:1,per_page:10}))},[E,a]),(0,s.useEffect)(()=>{a((0,j.jA)())},[a]);let V=e=>{let{name:a,value:t}=e.target;L(e=>({...e,[a]:t}))},z=e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&L(e=>({...e,avatar:t}))},X=e=>{let{name:a,value:t}=e.target;Q(e=>({...e,[a]:t}))},Y=async e=>{e.preventDefault();try{let e={};H.name!==(null==t?void 0:t.name)&&(e.name=H.name),H.bio!==(null==t?void 0:t.bio)&&(e.bio=H.bio),H.avatar&&(e.avatar=H.avatar),Object.keys(e).length>0?(await a((0,w.eg)(e)).unwrap(),M(!0),setTimeout(()=>M(!1),3e3),S(!1),L(e=>({...e,avatar:null}))):S(!1)}catch(e){console.error("Failed to update profile:",e)}},O=e=>(e.preventDefault(),G.newPassword!==G.confirmPassword)?void alert("Passwords don&apos;t match!"):G.newPassword.length<8?void alert("Password must be at least 8 characters!"):void(alert("Password update functionality will be available in a future update."),Q({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:G.twoFactorEnabled})),W=async()=>{try{await a((0,w.y4)()).unwrap(),e.push("/auth/login")}catch(a){console.error("Logout failed:",a),e.push("/auth/login")}},Z=[{id:"profile",label:"Profile",icon:(0,i.jsx)(o.A,{className:"w-5 h-5"})},{id:"activity",label:"Activity",icon:(0,i.jsx)(l.A,{className:"w-5 h-5"})},{id:"notifications",label:"Notifications",icon:(0,i.jsx)(d.A,{className:"w-5 h-5"})},{id:"security",label:"Security",icon:(0,i.jsx)(c,{className:"w-5 h-5"})}];return N&&!t?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,i.jsx)("div",{className:"max-w-auto",children:(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-[#1d2b7d]"})})})}):t||N?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,i.jsxs)("div",{className:"max-w-auto",children:[(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("div",{className:"h-32 bg-gradient-to-r from-[#1d2b7d] to-[#2a3d99]"}),(0,i.jsxs)("div",{className:"px-6 py-4 md:px-8 md:py-6",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[(0,i.jsxs)(x.P.div,{className:"relative -mt-16 mb-4 md:mb-0 md:mr-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring",stiffness:200},children:[(0,i.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-white bg-white",children:(0,i.jsx)(r.default,{src:!D&&(null==t?void 0:t.avatar)?t.avatar:n.A,alt:(null==t?void 0:t.name)||"User",width:96,height:96,className:"object-cover w-full h-full",onError:()=>B(!0)})}),(0,i.jsx)(x.P.button,{onClick:()=>S(!0),className:"absolute bottom-0 right-0 bg-[#1d2b7d] text-white p-1 rounded-full",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,i.jsx)(u.A,{className:"w-4 h-4"})})]}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,i.jsxs)(x.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:(null==t?void 0:t.name)||"User"}),(0,i.jsxs)("p",{className:"text-gray-500",children:["Joined ",(null==t?void 0:t.created_at)?new Date(t.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"N/A"]})]}),(0,i.jsx)(x.P.div,{className:"mt-4 md:mt-0 flex space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},children:(0,i.jsxs)(x.P.button,{onClick:()=>S(!0),className:"bg-[#1d2b7d] hover:bg-[#162058] text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300 flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,i.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})})]}),(0,i.jsx)(x.P.div,{className:"mt-6 border-t pt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:(0,i.jsx)("p",{className:"text-black",children:(null==t?void 0:t.bio)||"No bio available"})})]})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,i.jsx)(x.P.div,{className:"md:w-1/4",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden sticky top-8",children:[Z.map((e,a)=>(0,i.jsxs)(x.P.button,{onClick:()=>e.id&&_(e.id),className:"w-full flex items-center gap-3 p-4 text-left border-l-4 transition-all ".concat(E===e.id?"border-[#1d2b7d] bg-[#1d2b7d]/5 text-[#1d2b7d]":"border-transparent hover:bg-gray-50 text-gray-700"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},whileHover:{x:5},children:[e.icon,(0,i.jsx)("span",{className:"font-medium",children:e.label})]},e.id)),(0,i.jsxs)(x.P.button,{onClick:W,className:"w-full flex items-center gap-3 p-4 text-left border-l-4 border-transparent hover:bg-gray-50 text-red-500",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},whileHover:{x:5},children:[(0,i.jsx)(p.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"font-medium",children:"Logout"})]})]})}),(0,i.jsx)(x.P.div,{className:"md:w-3/4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:(0,i.jsx)(g.N,{mode:"wait",children:(0,i.jsx)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(()=>{switch(E){case"profile":function t(e,a){a(a=>({...a,[e]:!a[e]}))}return(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[R&&(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[(0,i.jsx)("strong",{className:"font-bold",children:"Success!"}),(0,i.jsxs)("span",{className:"block sm:inline",children:[" ","Your profile has been updated."]})]}),A&&(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,i.jsx)("strong",{className:"font-bold",children:"Error!"}),(0,i.jsxs)("span",{className:"block sm:inline",children:[" ",A]}),(0,i.jsx)("button",{onClick:()=>a((0,w.ET)()),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:"\xd7"})]}),(0,i.jsx)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},transition:{duration:.3},children:(0,i.jsxs)("form",{onSubmit:Y,children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Personal Information"}),(0,i.jsxs)(x.P.button,{type:"button",onClick:()=>S(!F),className:"text-[#1d2b7d] hover:text-[#162058] font-medium flex items-center gap-1",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:N,children:[(0,i.jsx)(u.A,{className:"w-4 h-4"}),F?"Cancel":"Edit"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,i.jsx)(b.p,{type:"text",name:"name",value:H.name,onChange:V,disabled:!F||N,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none text-black disabled:bg-gray-50 disabled:text-gray-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Email Address"}),(0,i.jsx)(b.p,{type:"email",name:"email",value:H.email,onChange:V,disabled:!0,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none text-black disabled:bg-gray-50 disabled:text-gray-500"})]}),F&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Profile Picture"}),(0,i.jsx)(b.p,{type:"file",accept:"image/*",onChange:z,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none"})]})]}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Bio"}),(0,i.jsx)(y.T,{name:"bio",rows:5,value:H.bio,onChange:V,disabled:!F||N,placeholder:"Tell us about yourself...",className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none text-black disabled:bg-gray-50 disabled:text-gray-500"})]})})]}),F&&(0,i.jsx)(x.P.div,{className:"mt-6 flex justify-end",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,i.jsx)(x.P.button,{type:"submit",disabled:N,className:"bg-[#1d2b7d] hover:bg-[#162058] text-white font-medium py-2 px-6 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.05},whileTap:{scale:.95},children:N?"Saving...":"Save Changes"})})]})}),(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Community Preferences"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(m.A,{className:"w-5 h-5 text-[#1d2b7d] mr-3"}),(0,i.jsx)("span",{children:"Show my profile to other members"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:U.showProfile,onChange:()=>t("showProfile",q)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]}),(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(f.A,{className:"w-5 h-5 text-[#1d2b7d] mr-3"}),(0,i.jsx)("span",{children:"Allow direct messages"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:U.allowMessages,onChange:()=>t("allowMessages",q)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]}),(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.A,{className:"w-5 h-5 text-[#1d2b7d] mr-3"}),(0,i.jsx)("span",{children:"Email notifications for new messages"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:U.emailNotifications,onChange:()=>t("emailNotifications",q)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]})]})]})]});case"activity":return(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Activity Center"}),(0,i.jsxs)("div",{className:"p-8 text-center",children:[(0,i.jsx)(x.P.div,{className:"inline-flex items-center justify-center w-16 h-16 bg-[#1d2b7d]/10 rounded-full mb-4",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.3},children:(0,i.jsx)(l.A,{className:"w-8 h-8 text-[#1d2b7d]"})}),(0,i.jsx)(x.P.h4,{className:"text-lg font-medium text-gray-800 mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Activity Tracking Coming Soon"}),(0,i.jsx)(x.P.p,{className:"text-gray-600 max-w-md mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"We are working on a comprehensive activity tracking system to help you monitor your engagement with our educational community."})]})]}),(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Future Features"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)(x.P.div,{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center",whileHover:{scale:1.03,borderColor:"#1d2b7d"},transition:{type:"spring",stiffness:400,damping:10},children:[(0,i.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-[#1d2b7d]/10 rounded-full mb-3",children:(0,i.jsx)(f.A,{className:"w-6 h-6 text-[#1d2b7d]"})}),(0,i.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:"Post & Comment History"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Track all your contributions"})]}),(0,i.jsxs)(x.P.div,{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center",whileHover:{scale:1.03,borderColor:"#1d2b7d"},transition:{type:"spring",stiffness:400,damping:10},children:[(0,i.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-[#1d2b7d]/10 rounded-full mb-3",children:(0,i.jsx)(m.A,{className:"w-6 h-6 text-[#1d2b7d]"})}),(0,i.jsx)("h4",{className:"font-medium text-gray-800 mb-1",children:"Achievement Badges"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Earn badges for your participation"})]})]})]})]});case"notifications":return(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Notification Settings"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-800",children:"Email Notifications"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Receive email notifications for important updates"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:I.emailNotifications,onChange:()=>t("emailNotifications",T)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]}),(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-800",children:"Push Notifications"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Receive push notifications on your device"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:I.pushNotifications,onChange:()=>t("pushNotifications",T)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]}),(0,i.jsxs)(x.P.div,{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-800",children:"Comment Notifications"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Get notified when someone comments on your posts"})]}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:I.commentNotifications,onChange:()=>t("commentNotifications",T)}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]})]})]}),(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Recent Notifications"}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[C," unread"]})]}),k?(0,i.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,i.jsx)("div",{className:"animate-pulse",children:(0,i.jsxs)("div",{className:"flex items-start p-3",children:[(0,i.jsx)("div",{className:"bg-gray-200 p-2 rounded-full mr-4 w-9 h-9"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,i.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-1"}),(0,i.jsx)("div",{className:"h-2 bg-gray-200 rounded w-1/4"})]})]})},e))}):P.length>0?(0,i.jsxs)("div",{className:"space-y-4",children:[P.slice(0,5).map((e,t)=>(0,i.jsxs)(x.P.div,{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer ".concat(e.is_read?"":"bg-blue-50 border-l-4 border-blue-500"),initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+.1*t},whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)"},onClick:()=>{e.is_read||a((0,j.Q1)({notification_ids:[e.id]}))},children:[(0,i.jsx)("div",{className:"bg-[#1d2b7d]/10 p-2 rounded-full mr-4",children:(0,i.jsx)(d.A,{className:"w-5 h-5 text-[#1d2b7d]"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsx)("p",{className:"font-medium ".concat(e.is_read?"text-gray-800":"text-gray-900"),children:e.title||"Notification"}),!e.is_read&&(0,i.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 mt-2"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:e.message||"No message content"}),(0,i.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]},e.id)),P.length>5&&(0,i.jsx)(x.P.div,{className:"text-center pt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:(0,i.jsx)("button",{onClick:()=>e.push("/user-dashboard/notifications"),className:"text-[#1d2b7d] hover:text-[#162058] font-medium text-sm",children:"View all notifications →"})})]}):(0,i.jsxs)(x.P.div,{className:"text-center py-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,i.jsx)("div",{className:"bg-gray-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,i.jsx)(d.A,{className:"w-8 h-8 text-gray-400"})}),(0,i.jsx)("p",{className:"text-gray-500 font-medium mb-2",children:"No notifications yet"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"You'll see notifications here when you have new activity"})]})]})]});case"security":return(0,i.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Password"}),(0,i.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Current Password"}),(0,i.jsx)(b.p,{type:"password",name:"currentPassword",value:G.currentPassword,onChange:X,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none",placeholder:"••••••••",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"New Password"}),(0,i.jsx)(b.p,{type:"password",name:"newPassword",value:G.newPassword,onChange:X,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none",placeholder:"••••••••",required:!0,minLength:8}),(0,i.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Confirm New Password"}),(0,i.jsx)(b.p,{type:"password",name:"confirmPassword",value:G.confirmPassword,onChange:X,className:"w-full px-4 py-2 border rounded-lg focus:border-[#1d2b7d] focus:outline-none",placeholder:"••••••••",required:!0})]}),(0,i.jsx)(x.P.div,{className:"mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,i.jsx)(x.P.button,{type:"submit",className:"bg-[#1d2b7d] hover:bg-[#162058] text-white font-medium py-2 px-6 rounded-lg transition-colors duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Update Password"})})]})]}),(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Two-Factor Authentication"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"Add an extra layer of security to your account by enabling two-factor authentication."}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"font-medium",children:"Enable 2FA"}),(0,i.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,i.jsx)(b.p,{type:"checkbox",className:"sr-only peer",checked:G.twoFactorEnabled,onChange:()=>Q(e=>({...e,twoFactorEnabled:!e.twoFactorEnabled}))}),(0,i.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1d2b7d]"})]})]}),(0,i.jsx)(g.N,{children:G.twoFactorEnabled&&(0,i.jsx)(x.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Two-factor authentication is enabled. You will receive a verification code via email when signing in."})})})]}),(0,i.jsxs)(x.P.div,{className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},whileHover:{boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Account Actions"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(x.P.button,{onClick:()=>alert("You've been logged out from all devices."),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg transition-colors border",whileHover:{backgroundColor:"rgba(0, 0, 0, 0.03)",x:5},whileTap:{scale:.98},children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(p.A,{className:"w-5 h-5 text-gray-500 mr-3"}),(0,i.jsx)("span",{children:"Log out from all devices"})]}),(0,i.jsx)("span",{className:"text-gray-400",children:"→"})]}),(0,i.jsxs)(x.P.button,{onClick:()=>{confirm("Are you sure you want to deactivate your account? This action cannot be undone.")&&(alert("Your account has been deactivated."),e.push("/"))},className:"w-full flex items-center justify-between p-3 text-left hover:bg-red-50 rounded-lg transition-colors border border-red-100",whileHover:{backgroundColor:"rgba(254, 226, 226, 0.5)",x:5},whileTap:{scale:.98},children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(m.A,{className:"w-5 h-5 text-red-500 mr-3"}),(0,i.jsx)("span",{className:"text-red-500",children:"Deactivate account"})]}),(0,i.jsx)("span",{className:"text-red-400",children:"→"})]})]})]})]})}})()},E)})})]})]})}):(e.push("/auth/login"),null)}},81497:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i=(0,t(19946).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},86491:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let i={src:"/_next/static/media/user.3dba856b.jpg",height:1024,width:1024,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAAmgX/xAAcEAADAAEFAAAAAAAAAAAAAAABAgMEABESE0H/2gAIAQEAAT8ArGC4WPRS3c5bkPNgdf/EABgRAAIDAAAAAAAAAAAAAAAAAAABAiGB/9oACAECAQE/AIqtZ//EABgRAAIDAAAAAAAAAAAAAAAAAAABAjGB/9oACAEDAQE/AJXiP//Z",blurWidth:8,blurHeight:8}},88539:(e,a,t)=>{"use strict";t.d(a,{T:()=>n});var i=t(95155),s=t(12115),r=t(59434);let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});n.displayName="Textarea"}},e=>{var a=a=>e(e.s=a);e.O(0,[7598,3863,6766,8695,8185,4287,8441,1684,7358],()=>a(50293)),_N_E=e.O()}]);