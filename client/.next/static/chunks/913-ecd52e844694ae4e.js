"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{5513:(a,n,i)=>{i.d(n,{PU:()=>r});var e=i(12115),t=i(53680),o=i(16860);let r=()=>{let a=(0,t.jL)(),n=(0,t.GV)(o.a7),i=(0,t.GV)(o.YQ),r=(0,t.GV)(o.H1),l=(0,t.GV)(o.cr),s=(0,t.GV)(o.IQ),d=(0,t.GV)(o.p8),u=(0,t.GV)(o.S6),c=(0,t.GV)(o.fn),g=(0,e.useCallback)(n=>a((0,o.Os)(n||{})),[a]),f=(0,e.useCallback)(n=>a((0,o._z)(n)),[a]),p=(0,e.useCallback)(n=>a((0,o.Xo)(n||{})),[a]),m=(0,e.useCallback)(n=>{a((0,o.LE)(n))},[a]),v=(0,e.useCallback)(()=>{a((0,o.VO)())},[a]),y=(0,e.useCallback)(()=>{a((0,o.ET)())},[a]),h=(0,e.useCallback)((n,i)=>{a((0,o.lg)({messageId:n,status:i}))},[a]);return{messages:n,pagination:i,filters:r,loading:l.fetchUserMessages,sendLoading:l.sendMessage,error:s,unreadMessages:d,respondedMessages:u,hasMore:c,fetchMessages:g,sendNewMessage:f,loadMore:p,setFilters:m,clearMessages:v,clearErrorState:y,updateStatus:h}}},53680:(a,n,i)=>{i.d(n,{kp:()=>t.kp,rq:()=>r.rq,Qx:()=>t.Qx,jL:()=>u,GV:()=>c,h7:()=>g,_9:()=>l,bP:()=>o,E$:()=>d,a4:()=>s,j6:()=>f});var e=i(34540);i(41480);var t=i(12840);i(5513);let o=()=>{var a,n,i,e;let t=c(a=>a.faqs)||{faqs:[],adminFaqs:[],pagination:null,filters:{page:1,per_page:15},loading:{fetchFaqs:!1,createFaq:!1,updateFaq:!1,deleteFaq:!1},error:null};return{faqs:t.faqs||[],adminFaqs:t.adminFaqs||[],pagination:t.pagination,filters:t.filters,loading:t.loading,isLoading:(null==(a=t.loading)?void 0:a.fetchFaqs)||!1,isCreating:(null==(n=t.loading)?void 0:n.createFaq)||!1,isUpdating:(null==(i=t.loading)?void 0:i.updateFaq)||!1,isDeleting:(null==(e=t.loading)?void 0:e.deleteFaq)||!1,error:t.error,hasFaqs:(t.faqs||[]).length>0,hasAdminFaqs:(t.adminFaqs||[]).length>0,isAnyLoading:!!t.loading&&Object.values(t.loading).some(a=>a),getFaqById:a=>(t.faqs||[]).find(n=>n.id===a),getAdminFaqById:a=>(t.adminFaqs||[]).find(n=>n.id===a)}};var r=i(28052);let l=()=>{let a=c(a=>a.comments);return{commentsByPost:(null==a?void 0:a.commentsByPost)||{},paginationByPost:(null==a?void 0:a.paginationByPost)||{},userComments:(null==a?void 0:a.userComments)||[],userCommentsPagination:(null==a?void 0:a.userCommentsPagination)||null,isLoading:(null==a?void 0:a.isLoading)||!1,isCreating:(null==a?void 0:a.isCreating)||!1,isUpdating:(null==a?void 0:a.isUpdating)||!1,isDeleting:(null==a?void 0:a.isDeleting)||!1,error:(null==a?void 0:a.error)||null}},s=a=>{let n=c(a=>a.comments);return{comments:(null==n?void 0:n.commentsByPost[a])||[],pagination:(null==n?void 0:n.paginationByPost[a])||null,isLoading:(null==n?void 0:n.isLoading)||!1,error:(null==n?void 0:n.error)||null}},d=()=>{var a,n,i,e,t,o;let r=c(a=>a.notifications)||{notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};return{notifications:r.notifications||[],unreadCount:r.unreadCount||0,pagination:r.pagination,filters:r.filters,loading:r.loading,isLoading:(null==(a=r.loading)?void 0:a.fetchNotifications)||!1,isMarkingAsRead:(null==(n=r.loading)?void 0:n.markAsRead)||!1,isFetchingUnreadCount:(null==(i=r.loading)?void 0:i.getUnreadCount)||!1,error:r.error,hasNotifications:(r.notifications||[]).length>0,hasUnreadNotifications:(r.unreadCount||0)>0,isAnyLoading:!!r.loading&&Object.values(r.loading).some(a=>a),unreadNotifications:(r.notifications||[]).filter(a=>!a.is_read),readNotifications:(r.notifications||[]).filter(a=>a.is_read),getNotificationsByType:a=>(r.notifications||[]).filter(n=>n.type===a),getNotificationById:a=>(r.notifications||[]).find(n=>n.id===a),hasMorePages:!!r.pagination&&r.pagination.current_page<r.pagination.last_page,currentPage:(null==(e=r.pagination)?void 0:e.current_page)||1,totalPages:(null==(t=r.pagination)?void 0:t.last_page)||1,totalNotifications:(null==(o=r.pagination)?void 0:o.total)||0}},u=()=>(0,e.wA)(),c=e.d4,g=()=>{var a;let n=c(a=>a.auth);return{user:(null==n?void 0:n.user)||null,token:(null==n?void 0:n.token)||null,isAuthenticated:(null==n?void 0:n.isAuthenticated)||!1,isLoading:(null==n?void 0:n.isLoading)||!1,error:null!=(a=null==n?void 0:n.error)?a:null}},f=()=>{let a=c(a=>a.posts);return{publicPosts:(null==a?void 0:a.publicPosts)||[],publicPostsPagination:(null==a?void 0:a.publicPostsPagination)||null,userPosts:(null==a?void 0:a.userPosts)||[],userPostsPagination:(null==a?void 0:a.userPostsPagination)||null,userPostsByStatus:(null==a?void 0:a.userPostsByStatus)||{pending:[],approved:[],rejected:[]},userPostsByStatusPagination:(null==a?void 0:a.userPostsByStatusPagination)||{pending:null,approved:null,rejected:null},currentPost:(null==a?void 0:a.currentPost)||null,filters:(null==a?void 0:a.filters)||{},isLoading:(null==a?void 0:a.isLoading)||!1,isCreating:(null==a?void 0:a.isCreating)||!1,isUpdating:(null==a?void 0:a.isUpdating)||!1,isDeleting:(null==a?void 0:a.isDeleting)||!1,isLoadingByStatus:(null==a?void 0:a.isLoadingByStatus)||{pending:!1,approved:!1,rejected:!1},error:(null==a?void 0:a.error)||null}}},59434:(a,n,i)=>{i.d(n,{cn:()=>o});var e=i(52596),t=i(39688);function o(){for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];return(0,t.QP)((0,e.$)(n))}},63464:(a,n,i)=>{i.d(n,{SP:()=>C,Ay:()=>P,bb:()=>c,jA:()=>f,G:()=>v,X0:()=>p,Q1:()=>g,OA:()=>m,_F:()=>h});var e=i(66439);let t={notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};var o=i(13984);let r=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let n=new URLSearchParams;a.page&&n.append("page",a.page.toString()),a.per_page&&n.append("per_page",a.per_page.toString()),void 0!==a.is_read&&n.append("is_read",a.is_read?"true":"false"),a.type&&n.append("type",a.type),a.sort&&n.append("sort",a.sort);let i=n.toString();return(await o.Ay.get("/notifications".concat(i?"?".concat(i):""))).data}catch(a){var n,i,e,t;throw console.error("Get notifications error:",a),{success:!1,message:(null==a||null==(i=a.response)||null==(n=i.data)?void 0:n.message)||"Failed to fetch notifications",errors:null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.errors}}},l=async a=>{try{return(await o.Ay.post("/notifications/read",a)).data}catch(a){var n,i,e,t;throw console.error("Mark notifications as read error:",a),{success:!1,message:(null==a||null==(i=a.response)||null==(n=i.data)?void 0:n.message)||"Failed to mark notifications as read",errors:null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.errors}}},s=async()=>{try{return{unread_count:(await r({page:1,per_page:1,is_read:!1})).meta.unread_count}}catch(t){var a,n,i,e;throw console.error("Get unread count error:",t),{success:!1,message:(null==t||null==(n=t.response)||null==(a=n.data)?void 0:a.message)||"Failed to get unread count",errors:null==t||null==(e=t.response)||null==(i=e.data)?void 0:i.errors}}},d=async()=>{try{return await l({mark_all:!0})}catch(a){throw console.error("Mark all notifications as read error:",a),a}},u=async a=>{try{return await l({notification_ids:a})}catch(a){throw console.error("Mark specific notifications as read error:",a),a}},c=(0,e.zD)("notifications/fetchNotifications",async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:n}=arguments.length>1?arguments[1]:void 0;try{return await r(a)}catch(a){return n((null==a?void 0:a.message)||"Failed to fetch notifications")}}),g=(0,e.zD)("notifications/markAsRead",async(a,n)=>{let{rejectWithValue:i}=n;try{return{...await l(a),payload:a}}catch(a){return i((null==a?void 0:a.message)||"Failed to mark notifications as read")}}),f=(0,e.zD)("notifications/fetchUnreadCount",async(a,n)=>{let{rejectWithValue:i}=n;try{return await s()}catch(a){return i((null==a?void 0:a.message)||"Failed to fetch unread count")}}),p=(0,e.zD)("notifications/markAllAsRead",async(a,n)=>{let{rejectWithValue:i}=n;try{return await d()}catch(a){return i((null==a?void 0:a.message)||"Failed to mark all notifications as read")}}),m=(0,e.zD)("notifications/markSpecificAsRead",async(a,n)=>{let{rejectWithValue:i}=n;try{return{...await u(a),notificationIds:a}}catch(a){return i((null==a?void 0:a.message)||"Failed to mark specific notifications as read")}}),v=(0,e.zD)("notifications/loadMore",async(a,n)=>{let{rejectWithValue:i,getState:e}=n;try{var t;let n=(null==(t=e().notifications.pagination)?void 0:t.current_page)||1;return await r({...a,page:n+1})}catch(a){return i((null==a?void 0:a.message)||"Failed to load more notifications")}}),y=(0,e.Z0)({name:"notifications",initialState:t,reducers:{setFilters:(a,n)=>{a.filters={...a.filters,...n.payload},(void 0!==n.payload.is_read||void 0!==n.payload.type)&&(a.filters.page=1)},clearNotifications:a=>{a.notifications=[],a.pagination=null,a.error=null},clearError:a=>{a.error=null},resetState:()=>t,updateLocalReadStatus:(a,n)=>{let{notification_ids:i,is_read:e}=n.payload;if(a.notifications)if(a.notifications=a.notifications.map(a=>i.includes(a.id)?{...a,is_read:e}:a),e){let n=i.filter(n=>a.notifications.find(a=>a.id===n&&!a.is_read)).length;a.unreadCount=Math.max(0,a.unreadCount-n)}else{let n=i.filter(n=>a.notifications.find(a=>a.id===n&&a.is_read)).length;a.unreadCount+=n}}},extraReducers:a=>{a.addCase(c.pending,a=>{a.loading.fetchNotifications=!0,a.error=null}).addCase(c.fulfilled,(a,n)=>{a.loading.fetchNotifications=!1,a.notifications=n.payload.data,a.pagination=n.payload.meta.pagination,a.unreadCount=n.payload.meta.unread_count}).addCase(c.rejected,(a,n)=>{a.loading.fetchNotifications=!1,a.error=n.payload}),a.addCase(v.pending,a=>{a.loading.fetchNotifications=!0,a.error=null}).addCase(v.fulfilled,(a,n)=>{a.loading.fetchNotifications=!1,a.notifications=[...a.notifications||[],...n.payload.data],a.pagination=n.payload.meta.pagination,a.unreadCount=n.payload.meta.unread_count}).addCase(v.rejected,(a,n)=>{a.loading.fetchNotifications=!1,a.error=n.payload}),a.addCase(g.pending,a=>{a.loading.markAsRead=!0,a.error=null}).addCase(g.fulfilled,(a,n)=>{if(a.loading.markAsRead=!1,a.unreadCount=n.payload.data.unread_count,a.notifications){let{payload:i}=n.payload;i.mark_all?a.notifications=a.notifications.map(a=>({...a,is_read:!0})):i.notification_ids&&(a.notifications=a.notifications.map(a=>i.notification_ids.includes(a.id)?{...a,is_read:!0}:a))}}).addCase(g.rejected,(a,n)=>{a.loading.markAsRead=!1,a.error=n.payload}),a.addCase(f.pending,a=>{a.loading.getUnreadCount=!0}).addCase(f.fulfilled,(a,n)=>{a.loading.getUnreadCount=!1,a.unreadCount=n.payload.unread_count}).addCase(f.rejected,(a,n)=>{a.loading.getUnreadCount=!1,a.error=n.payload}),a.addCase(p.pending,a=>{a.loading.markAsRead=!0,a.error=null}).addCase(p.fulfilled,(a,n)=>{a.loading.markAsRead=!1,a.unreadCount=n.payload.data.unread_count,a.notifications&&(a.notifications=a.notifications.map(a=>({...a,is_read:!0})))}).addCase(p.rejected,(a,n)=>{a.loading.markAsRead=!1,a.error=n.payload}),a.addCase(m.pending,a=>{a.loading.markAsRead=!0,a.error=null}).addCase(m.fulfilled,(a,n)=>{a.loading.markAsRead=!1,a.unreadCount=n.payload.data.unread_count,a.notifications&&(a.notifications=a.notifications.map(a=>n.payload.notificationIds.includes(a.id)?{...a,is_read:!0}:a))}).addCase(m.rejected,(a,n)=>{a.loading.markAsRead=!1,a.error=n.payload})}}),{setFilters:h,clearNotifications:C,clearError:k,resetState:_,updateLocalReadStatus:b}=y.actions,P=y.reducer},80333:(a,n,i)=>{i.d(n,{d:()=>l});var e=i(95155),t=i(12115),o=i(4884),r=i(59434);let l=t.forwardRef((a,n)=>{let{className:i,...t}=a;return(0,e.jsx)(o.bL,{className:(0,r.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...t,ref:n,children:(0,e.jsx)(o.zi,{className:(0,r.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});l.displayName=o.bL.displayName},85057:(a,n,i)=>{i.d(n,{J:()=>d});var e=i(95155),t=i(12115),o=i(40968),r=i(74466),l=i(59434);let s=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef((a,n)=>{let{className:i,...t}=a;return(0,e.jsx)(o.b,{ref:n,className:(0,l.cn)(s(),i),...t})});d.displayName=o.b.displayName}}]);