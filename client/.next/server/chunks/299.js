exports.id=299,exports.ids=[299],exports.modules={6984:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},10437:(e,a,t)=>{"use strict";t.d(a,{StoreProvider:()=>I});var s=t(60687);t(43210);var o=t(54864),r=t(55964),n=t(88198),l=t(61792),d=t(23599),i=t(11208),c=t(31226),g=t(41817),p=t(40263),u=t(63693),m=t(41366),y=t(75537),f=t(16425),h=t(77082),P=t(68768);let A={async getPostLikes({postId:e}){console.log("\uD83D\uDCE1 Like Service: Getting likes for post:",e);try{let a=await P.FH.get(`/posts/${e}/likes`);return console.log("✅ Like Service: Got post likes successfully:",{postId:e,likeCount:a.data.data.like_count,likesCount:a.data.data.likes.length,userHasLiked:a.data.data.user_has_liked}),a.data}catch(a){throw console.error("❌ Like Service: Failed to get post likes:",{postId:e,error:a.response?.data||a.message}),a}},async likePost({postId:e}){console.log("\uD83D\uDCE1 Like Service: Liking post:",e);try{let a=await P.FH.post(`/posts/${e}/like`);return console.log("✅ Like Service: Liked post successfully:",{postId:e,likeCount:a.data.data?.like_count,userHasLiked:a.data.data?.user_has_liked}),a.data}catch(a){throw console.error("❌ Like Service: Failed to like post:",{postId:e,error:a.response?.data||a.message}),a.response?.status===400&&a.response?.data?.message?.includes("already liked")&&console.warn("⚠️ Like Service: Post already liked by user"),a}},async unlikePost({postId:e}){console.log("\uD83D\uDCE1 Like Service: Unliking post:",e);try{let a=await P.FH.post(`/posts/${e}/unlike`);return console.log("✅ Like Service: Unliked post successfully:",{postId:e,likeCount:a.data.data?.like_count,userHasLiked:a.data.data?.user_has_liked}),a.data}catch(a){throw console.error("❌ Like Service: Failed to unlike post:",{postId:e,error:a.response?.data||a.message}),a.response?.status===400&&a.response?.data?.message?.includes("not liked")&&console.warn("⚠️ Like Service: Post not liked by user"),a}},async togglePostLike({postId:e}){console.log("\uD83D\uDCE1 Like Service: Toggling like for post:",e);try{try{return await this.likePost({postId:e})}catch(a){if(a.response?.status===400&&a.response?.data?.message?.includes("already liked"))return await this.unlikePost({postId:e});throw a}}catch(a){throw console.error("❌ Like Service: Failed to toggle post like:",{postId:e,error:a.response?.data||a.message}),a}}},S=(0,n.zD)("likes/getPostLikes",async({postId:e},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 Like Slice: Getting likes for post:",e);let a=await A.getPostLikes({postId:e}),t={likes:a.data.likes,like_count:a.data.like_count,user_has_liked:a.data.user_has_liked,postId:e};return console.log("✅ Like Slice: Got post likes successfully:",{postId:e,likeCount:t.like_count,userHasLiked:t.user_has_liked}),{postId:e,likeData:t}}catch(e){return console.error("❌ Like Slice: Failed to get post likes:",e),a(e.response?.data?.message||e.message||"Failed to get post likes")}}),C=(0,n.zD)("likes/likePost",async({postId:e},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 Like Slice: Liking post:",e);let a=await A.likePost({postId:e});return console.log("✅ Like Slice: Liked post successfully:",{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}),{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}}catch(e){return console.error("❌ Like Slice: Failed to like post:",e),a(e.response?.data?.message||e.message||"Failed to like post")}}),k=(0,n.zD)("likes/unlikePost",async({postId:e},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 Like Slice: Unliking post:",e);let a=await A.unlikePost({postId:e});return console.log("✅ Like Slice: Unliked post successfully:",{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}),{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}}catch(e){return console.error("❌ Like Slice: Failed to unlike post:",e),a(e.response?.data?.message||e.message||"Failed to unlike post")}}),w=(0,n.zD)("likes/togglePostLike",async({postId:e},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 Like Slice: Toggling like for post:",e);let a=await A.togglePostLike({postId:e});return console.log("✅ Like Slice: Toggled post like successfully:",{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}),{postId:e,likeCount:a.data.like_count,userHasLiked:a.data.user_has_liked}}catch(e){return console.error("❌ Like Slice: Failed to toggle post like:",e),a(e.response?.data?.message||e.message||"Failed to toggle like")}}),v=(0,n.Z0)({name:"likes",initialState:{postLikes:{},isLoading:!1,isToggling:!1,error:null},reducers:{clearLikeError:e=>{e.error=null},clearPostLikes:(e,a)=>{let t=a.payload;delete e.postLikes[t]},clearAllLikes:e=>{e.postLikes={},e.error=null}},extraReducers:e=>{e.addCase(S.pending,e=>{e.isLoading=!0,e.error=null}).addCase(S.fulfilled,(e,a)=>{e.isLoading=!1,e.error=null;let{postId:t,likeData:s}=a.payload;e.postLikes[t]=s}).addCase(S.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload||"Failed to get post likes"}).addCase(C.pending,e=>{e.isToggling=!0,e.error=null}).addCase(C.fulfilled,e=>{e.isToggling=!1,e.error=null}).addCase(C.rejected,(e,a)=>{e.isToggling=!1,e.error=a.payload||"Failed to like post"}).addCase(k.pending,e=>{e.isToggling=!0,e.error=null}).addCase(k.fulfilled,e=>{e.isToggling=!1,e.error=null}).addCase(k.rejected,(e,a)=>{e.isToggling=!1,e.error=a.payload||"Failed to unlike post"}).addCase(w.pending,e=>{e.isToggling=!0,e.error=null}).addCase(w.fulfilled,(e,{payload:a})=>{e.isToggling=!1,e.error=null;let{postId:t,likeCount:s,userHasLiked:o}=a;e.postLikes[t]?(e.postLikes[t].like_count=s,e.postLikes[t].user_has_liked=o):e.postLikes[t]={likes:[],like_count:s,user_has_liked:o,postId:t}}).addCase(w.rejected,(e,{payload:a})=>{e.isToggling=!1,e.error=a||"Failed to toggle like"})}}),{clearLikeError:_,clearPostLikes:F,clearAllLikes:L}=v.actions,U=v.reducer,j={key:"auth",storage:d.A,whitelist:["token","user","isAuthenticated"]},b=(0,i.HY)({auth:(0,l.rL)(j,c.Ay),posts:g.Ay,comments:p.Ay,notifications:u.Ay,messages:m.Ay,faqs:y.Ay,admin:f.Ay,tags:h.Ay,likes:U}),D=(0,n.U1)({reducer:b,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/PAUSE","persist/PERSIST","persist/PURGE","persist/REGISTER"]}}),devTools:!1}),M=(0,l.GM)(D);function I({children:e}){return console.log("\uD83D\uDD04 Store Provider: Initializing Redux store with persistence"),(0,s.jsx)(o.Kq,{store:D,children:(0,s.jsx)(r.Q,{loading:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading..."})}),persistor:M,onBeforeLift:()=>{console.log("✅ Store Provider: Redux state rehydrated from persistence"),setTimeout(()=>{console.log("\uD83D\uDD04 Store Provider: Post-rehydration token initialization"),(0,P.sw)()},0),setTimeout(()=>{console.log("\uD83D\uDD04 Store Provider: Extended post-rehydration token initialization"),(0,P.sw)()},100)},children:e})})}},16425:(e,a,t)=>{"use strict";t.d(a,{G_:()=>z,Ay:()=>er,ys:()=>$,hG:()=>M,$3:()=>B,bB:()=>E,Ym:()=>b,jI:()=>R,KZ:()=>L,NH:()=>j,Vy:()=>I,Ge:()=>T,Nb:()=>U,uo:()=>q,mq:()=>N,fx:()=>J,Mf:()=>Z,LE:()=>V,yX:()=>Q,lg:()=>O,TK:()=>D});var s=t(88198);let o={dashboardOverview:null,weeklyStatistics:null,engagementStatistics:null,allUsers:[],selectedUser:null,userStatistics:null,pendingPosts:[],approvedPosts:[],rejectedPosts:[],allPosts:[],postStatistics:null,pendingComments:[],allComments:[],userMessages:[],unreadMessages:[],readMessages:[],respondedMessages:[],selectedMessage:null,messageStatistics:null,faqs:[],faqStatistics:null,tags:[],pagination:{allUsers:null,allPosts:null,pendingPosts:null,approvedPosts:null,rejectedPosts:null,allComments:null,pendingComments:null,allMessages:null,userMessages:null,unreadMessages:null,readMessages:null,respondedMessages:null},filters:{users:{page:1,per_page:20},posts:{page:1,per_page:15},comments:{page:1,per_page:15},messages:{page:1,per_page:15}},loading:{fetchDashboardOverview:!1,fetchWeeklyStatistics:!1,fetchEngagementStatistics:!1,fetchAllUsers:!1,fetchUserDetails:!1,fetchUserStatistics:!1,createUser:!1,updateUser:!1,deleteUser:!1,bulkUserAction:!1,fetchAllPosts:!1,fetchPendingPosts:!1,fetchApprovedPosts:!1,fetchRejectedPosts:!1,fetchPostStatistics:!1,approvePost:!1,rejectPost:!1,deletePost:!1,fetchAllComments:!1,fetchPendingComments:!1,approveComment:!1,rejectComment:!1,fetchAllMessages:!1,fetchUnreadMessages:!1,fetchReadMessages:!1,fetchRespondedMessages:!1,fetchMessageDetails:!1,fetchMessageStatistics:!1,replyToMessage:!1,updateMessageStatus:!1,fetchFaqStatistics:!1,createFaq:!1,updateFaq:!1,deleteFaq:!1,createTag:!1,deleteTag:!1,updatePassword:!1,fetchUserMessages:void 0},error:null};var r=t(68768);let n=async()=>(await r.Ay.get("/admin/dashboard/overview")).data,l=async()=>(await r.Ay.get("/admin/dashboard/weekly-stats")).data,d=async()=>(await r.Ay.get("/admin/dashboard/engagement-stats")).data,i=async(e={})=>(await r.Ay.get("/admin/users",{params:e})).data,c=async({userId:e,...a})=>(await r.Ay.put(`/admin/users/${e}`,a)).data,g=async e=>(await r.Ay.delete(`/admin/users/${e}`)).data,p=async(e={})=>(await r.Ay.get("/admin/posts",{params:e})).data,u=async(e={})=>(await r.Ay.get("/admin/posts/pending",{params:e})).data,m=async(e={})=>(await r.Ay.get("/admin/posts/approved",{params:e})).data,y=async(e={})=>(await r.Ay.get("/admin/posts/rejected",{params:e})).data,f=async({postId:e,admin_note:a})=>(await r.Ay.put(`/admin/posts/${e}/approve`,{admin_note:a})).data,h=async({postId:e,admin_note:a,reason:t})=>(await r.Ay.put(`/admin/posts/${e}/reject`,{admin_note:a,reason:t})).data,P=async e=>(await r.Ay.delete(`/admin/posts/${e}`)).data,A=async(e={})=>(await r.Ay.get("/admin/comments/pending",{params:e})).data,S=async({commentId:e,admin_note:a})=>(await r.Ay.put(`/admin/comments/${e}/approve`,{admin_note:a})).data,C=async({commentId:e,admin_note:a,reason:t})=>(await r.Ay.put(`/admin/comments/${e}/reject`,{admin_note:a,reason:t})).data,k=async({messageId:e,status:a})=>(await r.Ay.put(`/admin/messages/${e}/status`,{status:a})).data,w=async(e={})=>(await r.Ay.get("/admin/messages",{params:e})).data,v=async({messageId:e,content:a})=>(await r.Ay.post(`/admin/messages/${e}/reply`,{content:a})).data,_=async()=>{try{return(await r.Ay.get("/admin/stats")).data}catch{return{success:!0,data:{pendingPosts:0,pendingComments:0,unreadMessages:0,totalUsers:0,totalPosts:0,totalComments:0}}}},F=async e=>(await r.Ay.put("/admin/password",e)).data,L=(0,s.zD)("admin/fetchDashboardOverview",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching dashboard overview...");let e=await n();return console.log("✅ [Admin] Dashboard overview fetched successfully:",e),e}catch(e){return console.error("❌ [Admin] Error fetching dashboard overview:",e),a(e.response?.data?.message||e.message||"Failed to fetch dashboard overview")}}),U=(0,s.zD)("admin/fetchWeeklyStatistics",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching weekly statistics...");let e=await l();return console.log("✅ [Admin] Weekly statistics fetched successfully:",e),e}catch(e){return console.error("❌ [Admin] Error fetching weekly statistics:",e),a(e.response?.data?.message||e.message||"Failed to fetch weekly statistics")}}),j=(0,s.zD)("admin/fetchEngagementStatistics",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching engagement statistics...");let e=await d();return console.log("✅ [Admin] Engagement statistics fetched successfully:",e),e}catch(e){return console.error("❌ [Admin] Error fetching engagement statistics:",e),a(e.response?.data?.message||e.message||"Failed to fetch engagement statistics")}}),b=(0,s.zD)("admin/fetchAllUsers",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching all users...",e);let a=await i(e);return console.log("✅ [Admin] All users fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching all users:",e),a(e.response?.data?.message||e.message||"Failed to fetch all users")}}),D=(0,s.zD)("admin/updateUser",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Updating user...",e);let a=await c(e);return console.log("✅ [Admin] User updated successfully:",a),a}catch(e){return console.error("❌ [Admin] Error updating user:",e),a(e.response?.data?.message||e.message||"Failed to update user")}}),M=(0,s.zD)("admin/deleteUser",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Deleting user...",e);let a=await g(e);return console.log("✅ [Admin] User deleted successfully:",a),{userId:e,response:a}}catch(e){return console.error("❌ [Admin] Error deleting user:",e),a(e.response?.data?.message||e.message||"Failed to delete user")}}),I=(0,s.zD)("admin/fetchPendingPosts",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching pending posts...",e);let a=await u(e);return console.log("✅ [Admin] Pending posts fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching pending posts:",e),a(e.response?.data?.message||e.message||"Failed to fetch pending posts")}}),R=(0,s.zD)("admin/fetchApprovedPosts",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching approved posts...",e);let a=await m(e);return console.log("✅ [Admin] Approved posts fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching approved posts:",e),a(e.response?.data?.message||e.message||"Failed to fetch approved posts")}}),T=(0,s.zD)("admin/fetchRejectedPosts",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching rejected posts...",e);let a=await y(e);return console.log("✅ [Admin] Rejected posts fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching rejected posts:",e),a(e.response?.data?.message||e.message||"Failed to fetch rejected posts")}}),E=(0,s.zD)("admin/fetchAllPosts",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching all posts...",e);let a=await p(e);return console.log("✅ [Admin] All posts fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching all posts:",e),a(e.response?.data?.message||e.message||"Failed to fetch all posts")}}),z=(0,s.zD)("admin/approvePost",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Approving post...",e);let a=await f(e);return console.log("✅ [Admin] Post approved successfully:",a),a}catch(e){return console.error("❌ [Admin] Error approving post:",e),a(e.response?.data?.message||e.message||"Failed to approve post")}}),q=(0,s.zD)("admin/rejectPost",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Rejecting post...",e);let a=await h(e);return console.log("✅ [Admin] Post rejected successfully:",a),a}catch(e){return console.error("❌ [Admin] Error rejecting post:",e),a(e.response?.data?.message||e.message||"Failed to reject post")}}),$=(0,s.zD)("admin/deletePost",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Deleting post...",e);let a=await P(e);return console.log("✅ [Admin] Post deleted successfully:",a),{postId:e,response:a}}catch(e){return console.error("❌ [Admin] Error deleting post:",e),a(e.response?.data?.message||e.message||"Failed to delete post")}}),x=(0,s.zD)("admin/fetchPendingComments",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching pending comments...",e);let a=await A(e);return console.log("✅ [Admin] Pending comments fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching pending comments:",e),a(e.response?.data?.message||e.message||"Failed to fetch pending comments")}}),G=(0,s.zD)("admin/approveComment",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Approving comment...",e);let a=await S(e);return console.log("✅ [Admin] Comment approved successfully:",a),a}catch(e){return console.error("❌ [Admin] Error approving comment:",e),a(e.response?.data?.message||e.message||"Failed to approve comment")}}),H=(0,s.zD)("admin/rejectComment",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Rejecting comment...",e);let a=await C(e);return console.log("✅ [Admin] Comment rejected successfully:",a),a}catch(e){return console.error("❌ [Admin] Error rejecting comment:",e),a(e.response?.data?.message||e.message||"Failed to reject comment")}}),B=(0,s.zD)("admin/fetchAdminUserMessages",async(e={},{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching user messages...",e);let a=await w(e);return console.log("✅ [Admin] User messages fetched successfully:",a),a}catch(e){return console.error("❌ [Admin] Error fetching user messages:",e),a(e.response?.data?.message||e.message||"Failed to fetch user messages")}}),N=(0,s.zD)("admin/replyToUserMessage",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Replying to user message...",e);let a=await v(e);return console.log("✅ [Admin] Reply sent successfully:",a),a}catch(e){return console.error("❌ [Admin] Error replying to message:",e),a(e.response?.data?.message||e.message||"Failed to send reply")}}),O=(0,s.zD)("admin/updateMessageStatus",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Updating message status...",e);let a=await k(e);return console.log("✅ [Admin] Message status updated successfully:",a),a}catch(e){return console.error("❌ [Admin] Error updating message status:",e),a(e.response?.data?.message||e.message||"Failed to update message status")}});(0,s.zD)("admin/fetchAdminStats",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Fetching admin statistics...");let e=await _();return console.log("✅ [Admin] Admin statistics fetched successfully:",e),e}catch(e){return console.error("❌ [Admin] Error fetching admin statistics:",e),a(e.response?.data?.message||e.message||"Failed to fetch admin statistics")}});let Q=(0,s.zD)("admin/updateAdminPassword",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDD04 [Admin] Updating admin password...");let a=await F(e);return console.log("✅ [Admin] Admin password updated successfully:",a),a}catch(e){return console.error("❌ [Admin] Error updating admin password:",e),a(e.response?.data?.message||e.message||"Failed to update admin password")}}),W=(0,s.Z0)({name:"admin",initialState:o,reducers:{setPostFilters:(e,a)=>{e.filters.posts={...e.filters.posts,...a.payload},console.log("\uD83D\uDD27 [Admin] Post filters updated:",e.filters.posts)},setCommentFilters:(e,a)=>{e.filters.comments={...e.filters.comments,...a.payload},console.log("\uD83D\uDD27 [Admin] Comment filters updated:",e.filters.comments)},setMessageFilters:(e,a)=>{e.filters.messages={...e.filters.messages,...a.payload},console.log("\uD83D\uDD27 [Admin] Message filters updated:",e.filters.messages)},setUserFilters:(e,a)=>{e.filters.users={...e.filters.users,...a.payload},console.log("\uD83D\uDD27 [Admin] User filters updated:",e.filters.users)},clearPendingPosts:e=>{e.pendingPosts=[],e.pagination.pendingPosts=null,console.log("\uD83E\uDDF9 [Admin] Pending posts cleared")},clearApprovedPosts:e=>{e.approvedPosts=[],e.pagination.approvedPosts=null,console.log("\uD83E\uDDF9 [Admin] Approved posts cleared")},clearRejectedPosts:e=>{e.rejectedPosts=[],e.pagination.rejectedPosts=null,console.log("\uD83E\uDDF9 [Admin] Rejected posts cleared")},clearPendingComments:e=>{e.pendingComments=[],e.pagination.pendingComments=null,console.log("\uD83E\uDDF9 [Admin] Pending comments cleared")},clearUserMessages:e=>{e.userMessages=[],e.pagination.userMessages=null,console.log("\uD83E\uDDF9 [Admin] User messages cleared")},clearError:e=>{e.error=null,console.log("\uD83E\uDDF9 [Admin] Error cleared")},resetAdminState:()=>(console.log("\uD83D\uDD04 [Admin] Admin state reset"),o)},extraReducers:e=>{e.addCase(L.pending,e=>{e.loading.fetchDashboardOverview=!0,e.error=null}).addCase(L.fulfilled,(e,a)=>{e.loading.fetchDashboardOverview=!1,e.dashboardOverview=a.payload.data,e.error=null}).addCase(L.rejected,(e,a)=>{e.loading.fetchDashboardOverview=!1,e.error=a.payload}).addCase(U.pending,e=>{e.loading.fetchWeeklyStatistics=!0,e.error=null}).addCase(U.fulfilled,(e,a)=>{e.loading.fetchWeeklyStatistics=!1,e.weeklyStatistics=a.payload.data,e.error=null}).addCase(U.rejected,(e,a)=>{e.loading.fetchWeeklyStatistics=!1,e.error=a.payload}).addCase(j.pending,e=>{e.loading.fetchEngagementStatistics=!0,e.error=null}).addCase(j.fulfilled,(e,a)=>{e.loading.fetchEngagementStatistics=!1,e.engagementStatistics=a.payload.data,e.error=null}).addCase(j.rejected,(e,a)=>{e.loading.fetchEngagementStatistics=!1,e.error=a.payload}).addCase(b.pending,e=>{e.loading.fetchAllUsers=!0,e.error=null}).addCase(b.fulfilled,(e,a)=>{e.loading.fetchAllUsers=!1,e.allUsers=a.payload.data.data,e.pagination.allUsers={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(b.rejected,(e,a)=>{e.loading.fetchAllUsers=!1,e.error=a.payload}).addCase(D.pending,e=>{e.loading.updateUser=!0,e.error=null}).addCase(D.fulfilled,(e,a)=>{e.loading.updateUser=!1;let t=e.allUsers.findIndex(e=>e.id===a.payload.data.user.id);-1!==t&&(e.allUsers[t]=a.payload.data.user),e.error=null}).addCase(D.rejected,(e,a)=>{e.loading.updateUser=!1,e.error=a.payload}).addCase(M.pending,e=>{e.loading.deleteUser=!0,e.error=null}).addCase(M.fulfilled,(e,a)=>{e.loading.deleteUser=!1,e.allUsers=e.allUsers.filter(e=>e.id!==a.payload.userId),e.error=null}).addCase(M.rejected,(e,a)=>{e.loading.deleteUser=!1,e.error=a.payload}),e.addCase(I.pending,e=>{e.loading.fetchPendingPosts=!0,e.error=null}).addCase(I.fulfilled,(e,a)=>{e.loading.fetchPendingPosts=!1,e.pendingPosts=a.payload.data.data,e.pagination.pendingPosts={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(I.rejected,(e,a)=>{e.loading.fetchPendingPosts=!1,e.error=a.payload}).addCase(R.pending,e=>{e.loading.fetchApprovedPosts=!0,e.error=null}).addCase(R.fulfilled,(e,a)=>{e.loading.fetchApprovedPosts=!1,e.approvedPosts=a.payload.data.data,e.pagination.approvedPosts={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(R.rejected,(e,a)=>{e.loading.fetchApprovedPosts=!1,e.error=a.payload}).addCase(T.pending,e=>{e.loading.fetchRejectedPosts=!0,e.error=null}).addCase(T.fulfilled,(e,a)=>{e.loading.fetchRejectedPosts=!1,e.rejectedPosts=a.payload.data.data,e.pagination.rejectedPosts={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(T.rejected,(e,a)=>{e.loading.fetchRejectedPosts=!1,e.error=a.payload}).addCase(E.pending,e=>{e.loading.fetchAllPosts=!0,e.error=null}).addCase(E.fulfilled,(e,a)=>{e.loading.fetchAllPosts=!1,e.allPosts=a.payload.data.data,e.pagination.allPosts={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(E.rejected,(e,a)=>{e.loading.fetchAllPosts=!1,e.error=a.payload}).addCase(z.pending,e=>{e.loading.approvePost=!0,e.error=null}).addCase(z.fulfilled,(e,a)=>{e.loading.approvePost=!1,e.pendingPosts=e.pendingPosts.filter(e=>e.id!==a.payload.data.post.id),-1===e.approvedPosts.findIndex(e=>e.id===a.payload.data.post.id)&&e.approvedPosts.unshift(a.payload.data.post),e.error=null}).addCase(z.rejected,(e,a)=>{e.loading.approvePost=!1,e.error=a.payload}).addCase(q.pending,e=>{e.loading.rejectPost=!0,e.error=null}).addCase(q.fulfilled,(e,a)=>{e.loading.rejectPost=!1,e.pendingPosts=e.pendingPosts.filter(e=>e.id!==a.payload.data.post.id),-1===e.rejectedPosts.findIndex(e=>e.id===a.payload.data.post.id)&&e.rejectedPosts.unshift(a.payload.data.post),e.error=null}).addCase(q.rejected,(e,a)=>{e.loading.rejectPost=!1,e.error=a.payload}).addCase($.pending,e=>{e.loading.deletePost=!0,e.error=null}).addCase($.fulfilled,(e,a)=>{e.loading.deletePost=!1;let t=a.payload.postId;e.pendingPosts=e.pendingPosts.filter(e=>e.id!==t),e.approvedPosts=e.approvedPosts.filter(e=>e.id!==t),e.rejectedPosts=e.rejectedPosts.filter(e=>e.id!==t),e.allPosts=e.allPosts.filter(e=>e.id!==t),e.error=null}).addCase($.rejected,(e,a)=>{e.loading.deletePost=!1,e.error=a.payload}).addCase(x.pending,e=>{e.loading.fetchPendingComments=!0,e.error=null}).addCase(x.fulfilled,(e,a)=>{e.loading.fetchPendingComments=!1,e.pendingComments=a.payload.data.data,e.pagination.pendingComments={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null}).addCase(x.rejected,(e,a)=>{e.loading.fetchPendingComments=!1,e.error=a.payload}).addCase(G.pending,e=>{e.loading.approveComment=!0,e.error=null}).addCase(G.fulfilled,(e,a)=>{e.loading.approveComment=!1,e.pendingComments=e.pendingComments.filter(e=>e.id!==a.payload.data.comment.id),e.error=null}).addCase(G.rejected,(e,a)=>{e.loading.approveComment=!1,e.error=a.payload}).addCase(H.pending,e=>{e.loading.rejectComment=!0,e.error=null}).addCase(H.fulfilled,(e,a)=>{e.loading.rejectComment=!1,e.pendingComments=e.pendingComments.filter(e=>e.id!==a.payload.data.comment.id),e.error=null}).addCase(H.rejected,(e,a)=>{e.loading.rejectComment=!1,e.error=a.payload}).addCase(B.pending,e=>{e.loading.fetchAllMessages=!0,e.error=null}).addCase(B.fulfilled,(e,a)=>{e.loading.fetchAllMessages=!1,e.userMessages=a.payload.data,e.pagination.userMessages={current_page:a.payload.meta.pagination.current_page,last_page:a.payload.meta.pagination.last_page,per_page:a.payload.meta.pagination.per_page,total:a.payload.meta.pagination.total,from:a.payload.meta.pagination.from,to:a.payload.meta.pagination.to},e.error=null}).addCase(B.rejected,(e,a)=>{e.loading.fetchAllMessages=!1,e.error=a.payload}).addCase(N.pending,e=>{e.loading.replyToMessage=!0,e.error=null}).addCase(N.fulfilled,(e,a)=>{e.loading.replyToMessage=!1;let t=e.userMessages.findIndex(e=>e.id===a.payload.data.message.id);-1!==t&&(e.userMessages[t]=a.payload.data.message),e.error=null}).addCase(N.rejected,(e,a)=>{e.loading.replyToMessage=!1,e.error=a.payload}).addCase(O.pending,e=>{e.loading.updateMessageStatus=!0,e.error=null}).addCase(O.fulfilled,(e,a)=>{e.loading.updateMessageStatus=!1;let t=e.userMessages.findIndex(e=>e.id===a.payload.data.id);-1!==t&&(e.userMessages[t]={...e.userMessages[t],status:a.payload.data.status,status_display:a.payload.data.status_display,updated_at:a.payload.data.updated_at}),e.error=null}).addCase(O.rejected,(e,a)=>{e.loading.updateMessageStatus=!1,e.error=a.payload}).addCase(Q.pending,e=>{e.loading.updatePassword=!0,e.error=null}).addCase(Q.fulfilled,e=>{e.loading.updatePassword=!1,e.error=null}).addCase(Q.rejected,(e,a)=>{e.loading.updatePassword=!1,e.error=a.payload})}}),{setPostFilters:Z,setCommentFilters:Y,setMessageFilters:J,setUserFilters:V,clearPendingPosts:K,clearApprovedPosts:X,clearRejectedPosts:ee,clearPendingComments:ea,clearUserMessages:et,clearError:es,resetAdminState:eo}=W.actions,er=W.reducer},20136:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},31226:(e,a,t)=>{"use strict";t.d(a,{ET:()=>f,Ay:()=>C,VM:()=>g,Lx:()=>i,y4:()=>c,DY:()=>d,ej:()=>u,eg:()=>p});var s=t(88198),o=t(68768);let r={register:async e=>{try{let a;if(console.log("\uD83D\uDD10 Auth Service: Starting user registration",{email:e.email,name:e.name,isAnonymous:e.is_anonymous||!1}),e.avatar){let t=new FormData;t.append("name",e.name),t.append("email",e.email),t.append("password",e.password),t.append("password_confirmation",e.password_confirmation),e.bio&&t.append("bio",e.bio),t.append("is_anonymous",e.is_anonymous?"true":"false"),t.append("avatar",e.avatar),console.log("\uD83D\uDCCE Auth Service: Avatar file attached for registration"),a=await o.FH.post("/register",t,{headers:{"Content-Type":"multipart/form-data"}})}else{let t={name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation,bio:e.bio||"",is_anonymous:e.is_anonymous};console.log("\uD83D\uDCE4 Auth Service: Sending JSON registration payload",{...t,password:"[REDACTED]",password_confirmation:"[REDACTED]"}),a=await o.FH.post("/register",t,{headers:{"Content-Type":"application/json"}})}return a.data.success&&a.data.data.token&&((0,o.O5)(a.data.data.token,a.data.data.user),console.log("✅ Auth Service: Registration successful",{userId:a.data.data.user.id,userName:a.data.data.user.name,userRole:a.data.data.user.role,tokenReceived:!!a.data.data.token})),a.data}catch(t){console.error("❌ Auth Service: Registration failed",{error:t.response?.data||t.message,status:t.response?.status});let e=t.response?.data?.message||"Registration failed",a=t.response?.data?.errors;throw{...t,response:{...t.response,data:{success:!1,message:e,errors:a}}}}},login:async e=>{try{console.log("\uD83D\uDD10 Auth Service: Starting user login",{email:e.email});let a=await o.FH.post("/login",e);return a.data.success&&a.data.data.token&&((0,o.O5)(a.data.data.token,a.data.data.user),console.log("✅ Auth Service: Login successful",{userId:a.data.data.user.id,userName:a.data.data.user.name,userRole:a.data.data.user.role,tokenReceived:!!a.data.data.token})),a.data}catch(t){console.error("❌ Auth Service: Login failed",{error:t.response?.data||t.message,status:t.response?.status});let e=t.response?.data?.message||"Login failed",a=t.response?.data?.errors;throw{...t,response:{...t.response,data:{success:!1,message:e,errors:a}}}}},logout:async()=>{try{console.log("\uD83D\uDD10 Auth Service: Starting user logout");let e=await o.FH.post("/logout");return e.data.success&&console.log("✅ Auth Service: Logout successful"),(0,o.rG)(),e.data}catch(e){return console.error("❌ Auth Service: Logout failed",{error:e.response?.data||e.message,status:e.response?.status}),(0,o.rG)(),console.log("⚠️ Auth Service: Logout failed on server but performed complete auth clearance"),{success:!0,message:"Logged out locally"}}},getUserProfile:async()=>{try{console.log("\uD83D\uDD10 Auth Service: Fetching user profile");let e=await o.FH.get("/user/profile");return e.data.success&&console.log("✅ Auth Service: Profile fetched successfully",{userId:e.data.data.id,userName:e.data.data.name,responseStructure:"response.data.data contains user directly"}),{success:e.data.success,data:{user:e.data.data}}}catch(e){throw console.error("❌ Auth Service: Failed to fetch profile",{error:e.response?.data||e.message,status:e.response?.status}),{...e,response:{...e.response,data:{success:!1,message:e.response?.data?.message||"Failed to fetch profile"}}}}},updateUserProfile:async e=>{try{let a;if(console.log("\uD83D\uDD10 Auth Service: Updating user profile",{hasName:!!e.name,hasBio:!!e.bio,hasAvatar:!!e.avatar,willUseFormData:!!e.avatar}),e.avatar){let t=new FormData;e.name&&t.append("name",e.name),void 0!==e.bio&&t.append("bio",e.bio),t.append("avatar",e.avatar),console.log("\uD83D\uDCCE Auth Service: Using FormData for file upload"),a=await o.FH.put("/user/profile",t,{headers:{"Content-Type":"multipart/form-data"}})}else{let t={};e.name&&(t.name=e.name),void 0!==e.bio&&(t.bio=e.bio),console.log("\uD83D\uDCE4 Auth Service: Using JSON payload",t),a=await o.FH.put("/user/profile",t,{headers:{"Content-Type":"application/json"}})}return a.data.success&&console.log("✅ Auth Service: Profile updated successfully",{userId:a.data.data.id,userName:a.data.data.name,userBio:a.data.data.bio?.substring(0,50)+(a.data.data.bio?.length>50?"...":""),hasAvatar:!!a.data.data.avatar,avatarUrl:a.data.data.avatar,responseStructure:{success:a.data.success,hasUserData:!!a.data.data,userKeys:Object.keys(a.data.data||{}),actualStructure:"response.data.data contains user directly"}}),{success:a.data.success,data:{user:a.data.data}}}catch(t){console.error("❌ Auth Service: Failed to update profile",{error:t.response?.data||t.message,status:t.response?.status});let e=t.response?.data?.message||"Failed to update profile",a=t.response?.data?.errors;throw{...t,response:{...t.response,data:{success:!1,message:e,errors:a}}}}},updatePassword:async e=>{try{console.log("\uD83D\uDD10 Auth Service: Updating user password");let a=await o.FH.put("/user/password",e,{headers:{"Content-Type":"application/json"}});return a.data.success&&console.log("✅ Auth Service: Password updated successfully",{message:a.data.message}),a.data}catch(t){console.error("❌ Auth Service: Failed to update password",{error:t.response?.data||t.message,status:t.response?.status});let e=t.response?.data?.message||"Failed to update password",a=t.response?.data?.errors;throw{...t,response:{...t.response,data:{success:!1,message:e,errors:a}}}}},checkAuthStatus:async()=>{try{console.log("\uD83D\uDD10 Auth Service: Checking authentication status");let e=await o.FH.get("/user/profile"),a=e.data.success&&!!e.data.data;return console.log("✅ Auth Service: Auth status checked",{isAuthenticated:a,userId:a?e.data.data.id:null}),a}catch(e){return console.log("⚠️ Auth Service: User not authenticated",{status:e.response?.status||"Network Error"}),!1}},refreshUser:async()=>{try{console.log("\uD83D\uDD10 Auth Service: Refreshing user data");let e=await r.getUserProfile();return console.log("✅ Auth Service: User data refreshed successfully"),e}catch(e){return console.error("❌ Auth Service: Failed to refresh user data:",e),null}}},n=e=>{let a=[],t=e.response?.data?.error||e.response?.data;return t?.errors&&Object.values(t.errors).forEach(e=>{Array.isArray(e)&&a.push(...e)}),0===a.length&&t?.message&&a.push(t.message),0===a.length&&e.message&&a.push(e.message),a.length>0?a:["An unexpected error occurred"]},l=(0,s.zD)("auth/checkAuthStatus",async(e,{rejectWithValue:a})=>{try{if(console.log("\uD83D\uDCE4 Auth Slice: Checking authentication status"),await r.checkAuthStatus())return(await r.getUserProfile()).data.user;return null}catch(e){return console.error("❌ Auth Slice: Auth status check failed",e.message),a({errors:["Failed to check authentication status"]})}}),d=(0,s.zD)("auth/register",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Starting user registration"),(await r.register(e)).data}catch(e){return console.error("❌ Auth Slice: Registration failed",e.response?.data||e.message),a({errors:n(e)})}}),i=(0,s.zD)("auth/login",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Starting user login"),(await r.login(e)).data}catch(e){return console.error("❌ Auth Slice: Login failed",e.response?.data||e.message),a({errors:n(e)})}}),c=(0,s.zD)("auth/logout",async()=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Starting user logout"),await r.logout(),!0}catch(e){return console.error("❌ Auth Slice: Logout failed",e.response?.data||e.message),!0}}),g=(0,s.zD)("auth/getUserProfile",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Fetching user profile"),(await r.getUserProfile()).data.user}catch(e){return console.error("❌ Auth Slice: Get profile failed",e.response?.data||e.message),a({errors:n(e)})}}),p=(0,s.zD)("auth/updateProfile",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Updating user profile"),(await r.updateUserProfile(e)).data.user}catch(e){return console.error("❌ Auth Slice: Update profile failed",e.response?.data||e.message),a({errors:n(e)})}}),u=(0,s.zD)("auth/updatePassword",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Auth Slice: Updating user password"),(await r.updatePassword(e)).data.message}catch(e){return console.error("❌ Auth Slice: Update password failed",e.response?.data||e.message),a({errors:n(e)})}}),m=(0,s.zD)("auth/refreshUserData",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDCE4 Auth Slice: Refreshing user data");let e=await r.refreshUser();if(e)return e.data.user;throw Error("Failed to refresh user data")}catch(e){return console.error("❌ Auth Slice: Refresh user data failed",e.message),a({errors:["Failed to refresh user data"]})}}),y=(0,s.Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{clearError:e=>{e.error=null,console.log("✅ Auth Slice: Error cleared")},clearAuth:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,console.log("✅ Auth Slice: Auth data cleared")},setLoading:(e,a)=>{e.isLoading=a.payload},setUser:(e,a)=>{e.user=a.payload,console.log("✅ Auth Slice: User data updated",{userId:a.payload.id,userName:a.payload.name})},forceUpdateUser:(e,a)=>{e.user={...a.payload},e.lastUpdated=Date.now(),console.log("\uD83D\uDD04 Auth Slice: Force user update with timestamp",{userId:a.payload.id,userName:a.payload.name,timestamp:e.lastUpdated})}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,console.log("⏳ Auth Slice: Auth status check pending")}).addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,a.payload?(e.user=a.payload,e.isAuthenticated=!0,console.log("✅ Auth Slice: Auth status check successful - user authenticated",{user:a.payload.name})):(e.user=null,e.isAuthenticated=!1,console.log("✅ Auth Slice: Auth status check successful - user not authenticated")),e.error=null}).addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.user=null,e.isAuthenticated=!1;let t=a.payload;e.error=t?.errors||[t?.message||"Auth status check failed"],console.log("❌ Auth Slice: Auth status check rejected",e.error)}),e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Auth Slice: Registration pending")}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.user=a.payload.user,e.token=a.payload.token,e.isAuthenticated=!0,e.error=null,console.log("✅ Auth Slice: Registration successful",{user:a.payload.user.name,authenticated:!0})}).addCase(d.rejected,(e,a)=>{e.isLoading=!1;let t=a.payload;e.error=t?.errors||["Registration failed"],console.log("❌ Auth Slice: Registration rejected",e.error)}),e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Auth Slice: Login pending")}).addCase(i.fulfilled,(e,a)=>{e.isLoading=!1,e.user=a.payload.user,e.token=a.payload.token,e.isAuthenticated=!0,e.error=null,console.log("✅ Auth Slice: Login successful",{user:a.payload.user.name,authenticated:!0})}).addCase(i.rejected,(e,a)=>{e.isLoading=!1;let t=a.payload;e.error=t?.errors||["Login failed"],console.log("❌ Auth Slice: Login rejected",e.error)}),e.addCase(c.pending,e=>{e.isLoading=!0,console.log("⏳ Auth Slice: Logout pending")}).addCase(c.fulfilled,e=>{e.isLoading=!1,e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,console.log("✅ Auth Slice: Logout successful")}).addCase(c.rejected,e=>{e.isLoading=!1,e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,console.log("⚠️ Auth Slice: Logout failed on server but local data cleared")}),e.addCase(g.pending,e=>{e.isLoading=!0,console.log("⏳ Auth Slice: Get profile pending")}).addCase(g.fulfilled,(e,a)=>{e.isLoading=!1,e.user=a.payload,e.error=null,console.log("✅ Auth Slice: Get profile successful",{user:a.payload.name})}).addCase(g.rejected,(e,a)=>{e.isLoading=!1;let t=a.payload;e.error=t?.errors||[t?.message||"Failed to fetch profile"],console.log("❌ Auth Slice: Get profile rejected",e.error)}),e.addCase(p.pending,e=>{e.isLoading=!0,console.log("⏳ Auth Slice: Update profile pending")}).addCase(p.fulfilled,(e,a)=>{e.isLoading=!1;let t=e.user;e.user={...a.payload},e.lastUpdated=Date.now(),e.error=null,console.log("✅ Auth Slice: Update profile successful",{previousUser:t?{id:t.id,name:t.name,bio:t.bio?.substring(0,30)+"..."}:null,updatedUser:{id:a.payload.id,name:a.payload.name,bio:a.payload.bio?.substring(0,30)+"..."},userChanged:t?.name!==a.payload.name||t?.bio!==a.payload.bio,lastUpdated:e.lastUpdated})}).addCase(p.rejected,(e,a)=>{e.isLoading=!1;let t=a.payload;e.error=t?.errors||[t?.message||"Failed to update profile"],console.log("❌ Auth Slice: Update profile rejected",e.error)}),e.addCase(u.pending,e=>{e.isLoading=!0,console.log("⏳ Auth Slice: Update password pending")}).addCase(u.fulfilled,(e,a)=>{e.isLoading=!1,e.error=null,console.log("✅ Auth Slice: Update password successful",{message:a.payload})}).addCase(u.rejected,(e,a)=>{e.isLoading=!1;let t=a.payload;e.error=t?.errors||[t?.message||"Failed to update password"],console.log("❌ Auth Slice: Update password rejected",e.error)}),e.addCase(m.pending,()=>{console.log("⏳ Auth Slice: Refresh user data pending")}).addCase(m.fulfilled,(e,a)=>{e.user=a.payload,e.error=null,console.log("✅ Auth Slice: Refresh user data successful",{user:a.payload.name})}).addCase(m.rejected,(e,a)=>{let t=a.payload;e.error=t?.errors||[t?.message||"Failed to refresh user data"],console.log("❌ Auth Slice: Refresh user data rejected",e.error)})}}),{clearError:f,clearAuth:h,setLoading:P,setUser:A,forceUpdateUser:S}=y.actions,C=y.reducer},40263:(e,a,t)=>{"use strict";t.d(a,{eT:()=>l,Ay:()=>f,rq:()=>n});var s=t(88198),o=t(68768);let r={getPostComments:async(e,a)=>{console.log("\uD83D\uDCAC Comment Service: Fetching comments for post",{postId:e,params:a});let t=new URLSearchParams;a?.page&&t.append("page",a.page.toString()),a?.per_page&&t.append("per_page",a.per_page.toString());let s=`/posts/${e}/comments${t.toString()?`?${t.toString()}`:""}`,r=await o.FH.get(s);return console.log("✅ Comment Service: Comments fetched",{postId:e,count:r.data.data?.length||0,total:r.data.meta?.pagination?.total||0}),{success:r.data.success,message:r.data.message,data:{comments:r.data.data||[],pagination:r.data.meta?.pagination||null}}},createComment:async(e,a)=>{console.log("\uD83D\uDCAC Comment Service: Creating comment",{postId:e,contentLength:a.content.length,isAnonymous:a.is_anonymous});let t=await o.FH.post(`/posts/${e}/comments`,a);return console.log("✅ Comment Service: Comment created",{commentId:t.data.data?.id||"unknown",postId:e,status:t.data.data?.status||"pending"}),{success:t.data.success,message:t.data.message,data:{comment:t.data.data}}},updateComment:async(e,a)=>{console.log("\uD83D\uDCAC Comment Service: Updating comment",{commentId:e,contentLength:a.content.length});let t=await o.FH.put(`/comments/${e}`,a);return console.log("✅ Comment Service: Comment updated",{commentId:t.data.data?.id||e,status:t.data.data?.status||"pending"}),{success:t.data.success,message:t.data.message,data:{comment:t.data.data}}},deleteComment:async e=>{console.log("\uD83D\uDCAC Comment Service: Deleting comment",{id:e});let a=await o.FH.delete(`/comments/${e}`);return console.log("✅ Comment Service: Comment deleted",{id:e}),{success:a.data.success,message:a.data.message}}},n=(0,s.zD)("comments/getPostComments",async({postId:e,params:a},{rejectWithValue:t})=>{try{console.log("\uD83D\uDCE4 Comment Slice: Starting get post comments",{postId:e});let t=await r.getPostComments(e,a);return{postId:e,...t.data}}catch(e){return console.error("❌ Comment Slice: Get post comments failed",e.response?.data||e.message),t(e.response?.data||{message:"Failed to fetch comments"})}}),l=(0,s.zD)("comments/createComment",async({postId:e,payload:a},{rejectWithValue:t})=>{try{console.log("\uD83D\uDCE4 Comment Slice: Starting create comment",{postId:e});let t=await r.createComment(e,a);return{postId:e,comment:t.data.comment}}catch(e){return console.error("❌ Comment Slice: Create comment failed",e.response?.data||e.message),t(e.response?.data||{message:"Failed to create comment"})}}),d=(0,s.zD)("comments/updateComment",async({commentId:e,payload:a},{rejectWithValue:t})=>{try{return console.log("\uD83D\uDCE4 Comment Slice: Starting update comment",{commentId:e}),(await r.updateComment(e,a)).data.comment}catch(e){return console.error("❌ Comment Slice: Update comment failed",e.response?.data||e.message),t(e.response?.data||{message:"Failed to update comment"})}}),i=(0,s.zD)("comments/deleteComment",async({commentId:e,postId:a},{rejectWithValue:t})=>{try{return console.log("\uD83D\uDCE4 Comment Slice: Starting delete comment",{commentId:e,postId:a}),await r.deleteComment(e),{commentId:e,postId:a}}catch(e){return console.error("❌ Comment Slice: Delete comment failed",e.response?.data||e.message),t(e.response?.data||{message:"Failed to delete comment"})}}),c=(0,s.Z0)({name:"comments",initialState:{commentsByPost:{},paginationByPost:{},userComments:[],userCommentsPagination:null,isLoading:!1,isCreating:!1,isUpdating:!1,isDeleting:!1,error:null},reducers:{clearError:e=>{e.error=null},clearPostComments:(e,a)=>{let t=a.payload;delete e.commentsByPost[t],delete e.paginationByPost[t]},clearAllComments:e=>{e.commentsByPost={},e.paginationByPost={},e.userComments=[],e.userCommentsPagination=null},addOptimisticComment:(e,a)=>{let{postId:t,comment:s}=a.payload;e.commentsByPost[t]||(e.commentsByPost[t]=[]),e.commentsByPost[t].push(s)},removeOptimisticComment:(e,a)=>{let{postId:t,tempId:s}=a.payload;e.commentsByPost[t]&&(e.commentsByPost[t]=e.commentsByPost[t].filter(e=>e.id!==s))}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Comment Slice: Get post comments pending")}).addCase(n.fulfilled,(e,a)=>{e.isLoading=!1;let{postId:t,comments:s,pagination:o}=a.payload;e.commentsByPost[t]=s||[],e.paginationByPost[t]=o||null,e.error=null,console.log("✅ Comment Slice: Get post comments successful",{postId:t,count:s?.length||0,total:o?.total||0})}).addCase(n.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload?"string"==typeof a.payload?a.payload:a.payload.message||"Failed to fetch comments":"Failed to fetch comments",console.log("❌ Comment Slice: Get post comments rejected",e.error)}),e.addCase(l.pending,e=>{e.isCreating=!0,e.error=null,console.log("⏳ Comment Slice: Create comment pending")}).addCase(l.fulfilled,(e,a)=>{e.isCreating=!1;let{postId:t,comment:s}=a.payload;e.commentsByPost[t]&&(e.commentsByPost[t].push(s),e.paginationByPost[t]&&(e.paginationByPost[t].total+=1)),e.userComments.unshift(s),e.userCommentsPagination&&(e.userCommentsPagination.total+=1),e.error=null,console.log("✅ Comment Slice: Create comment successful",{commentId:s?.id||"unknown",postId:t,status:s?.status||"pending"})}).addCase(l.rejected,(e,a)=>{e.isCreating=!1,e.error=a.payload?"string"==typeof a.payload?a.payload:a.payload.message||"Failed to create comment":"Failed to create comment",console.log("❌ Comment Slice: Create comment rejected",e.error)}),e.addCase(d.pending,e=>{e.isUpdating=!0,e.error=null,console.log("⏳ Comment Slice: Update comment pending")}).addCase(d.fulfilled,(e,a)=>{e.isUpdating=!1;let t=a.payload;Object.keys(e.commentsByPost).forEach(a=>{let s=Number(a),o=e.commentsByPost[s].findIndex(e=>e.id===t.id);-1!==o&&(e.commentsByPost[s][o]=t)});let s=e.userComments.findIndex(e=>e.id===t.id);-1!==s&&(e.userComments[s]=t),e.error=null,console.log("✅ Comment Slice: Update comment successful",{commentId:t?.id||"unknown",status:t?.status||"unknown"})}).addCase(d.rejected,(e,a)=>{e.isUpdating=!1,e.error=a.payload?"string"==typeof a.payload?a.payload:a.payload.message||"Failed to update comment":"Failed to update comment",console.log("❌ Comment Slice: Update comment rejected",e.error)}),e.addCase(i.pending,e=>{e.isDeleting=!0,e.error=null,console.log("⏳ Comment Slice: Delete comment pending")}).addCase(i.fulfilled,(e,a)=>{e.isDeleting=!1;let{commentId:t,postId:s}=a.payload;e.commentsByPost[s]&&(e.commentsByPost[s]=e.commentsByPost[s].filter(e=>e.id!==t),e.paginationByPost[s]&&e.paginationByPost[s].total>0&&(e.paginationByPost[s].total-=1)),e.userComments=e.userComments.filter(e=>e.id!==t),e.userCommentsPagination&&e.userCommentsPagination.total>0&&(e.userCommentsPagination.total-=1),e.error=null,console.log("✅ Comment Slice: Delete comment successful",{commentId:t,postId:s})}).addCase(i.rejected,(e,a)=>{e.isDeleting=!1,e.error=a.payload?"string"==typeof a.payload?a.payload:a.payload.message||"Failed to delete comment":"Failed to delete comment",console.log("❌ Comment Slice: Delete comment rejected",e.error)})}}),{clearError:g,clearPostComments:p,clearAllComments:u,addOptimisticComment:m,removeOptimisticComment:y}=c.actions,f=c.reducer},41366:(e,a,t)=>{"use strict";t.d(a,{ET:()=>w,VO:()=>C,Ay:()=>F,Os:()=>p,Xo:()=>f,fn:()=>R,IQ:()=>D,cr:()=>b,S6:()=>I,p8:()=>M,H1:()=>j,a7:()=>L,YQ:()=>U,_z:()=>u,LE:()=>A,lg:()=>_});var s=t(88198);let o={userMessages:[],adminMessages:[],userPagination:null,adminPagination:null,userFilters:{page:1,per_page:15},adminFilters:{page:1,per_page:15},loading:{fetchUserMessages:!1,sendMessage:!1,fetchAdminMessages:!1,replyToMessage:!1},error:null};var r=t(68768);let n=async(e={})=>{try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),e.status&&a.append("status",e.status),e.search&&a.append("search",e.search);let t=a.toString(),s=`/messages${t?`?${t}`:""}`;return(await r.Ay.get(s)).data}catch(e){throw console.error("Get user messages error:",e),{success:!1,message:e?.response?.data?.message||"Failed to fetch messages",errors:e?.response?.data?.errors}}},l=async e=>{try{let a={...e,to_admin_id:1};return(await r.Ay.post("/messages",a)).data}catch(e){throw console.error("Send message error:",e),{success:!1,message:e?.response?.data?.message||"Failed to send message",errors:e?.response?.data?.errors}}},d=async(e={})=>{try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),e.status&&a.append("status",e.status),e.search&&a.append("search",e.search);let t=a.toString(),s=`/admin/messages${t?`?${t}`:""}`;return(await r.Ay.get(s)).data}catch(e){throw console.error("Get admin messages error:",e),{success:!1,message:e?.response?.data?.message||"Failed to fetch admin messages",errors:e?.response?.data?.errors}}},i=async e=>{try{let{messageId:a,content:t}=e;return(await r.Ay.post(`/admin/messages/${a}/reply`,{content:t})).data}catch(e){throw console.error("Reply to message error:",e),{success:!1,message:e?.response?.data?.message||"Failed to reply to message",errors:e?.response?.data?.errors}}},c=async e=>{try{return await n(e)}catch(e){throw console.error("Load more user messages error:",e),e}},g=async e=>{try{return await d(e)}catch(e){throw console.error("Load more admin messages error:",e),e}},p=(0,s.zD)("messages/fetchUserMessages",async(e={},{rejectWithValue:a})=>{try{return await n(e)}catch(e){return a(e?.message||"Failed to fetch user messages")}}),u=(0,s.zD)("messages/sendMessage",async(e,{rejectWithValue:a})=>{try{return await l(e)}catch(e){return a(e?.message||"Failed to send message")}}),m=(0,s.zD)("messages/fetchAdminMessages",async(e={},{rejectWithValue:a})=>{try{return await d(e)}catch(e){return a(e?.message||"Failed to fetch admin messages")}}),y=(0,s.zD)("messages/replyToMessage",async(e,{rejectWithValue:a})=>{try{return{...await i(e),messageId:e.messageId}}catch(e){return a(e?.message||"Failed to reply to message")}}),f=(0,s.zD)("messages/loadMoreUserMessages",async(e={},{rejectWithValue:a,getState:t})=>{try{let a=t(),s=a.messages.userPagination?.current_page||1;return await c({...e,page:s+1})}catch(e){return a(e?.message||"Failed to load more user messages")}}),h=(0,s.zD)("messages/loadMoreAdminMessages",async(e={},{rejectWithValue:a,getState:t})=>{try{let a=t(),s=a.messages.adminPagination?.current_page||1;return await g({...e,page:s+1})}catch(e){return a(e?.message||"Failed to load more admin messages")}}),P=(0,s.Z0)({name:"messages",initialState:o,reducers:{setUserFilters:(e,a)=>{e.userFilters={...e.userFilters,...a.payload},(void 0!==a.payload.status||void 0!==a.payload.search)&&(e.userFilters.page=1)},setAdminFilters:(e,a)=>{e.adminFilters={...e.adminFilters,...a.payload},(void 0!==a.payload.status||void 0!==a.payload.search)&&(e.adminFilters.page=1)},clearUserMessages:e=>{e.userMessages=[],e.userPagination=null,e.error=null},clearAdminMessages:e=>{e.adminMessages=[],e.adminPagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>o,updateMessageStatus:(e,a)=>{let{messageId:t,status:s}=a.payload;Array.isArray(e.userMessages)||(e.userMessages=[]),Array.isArray(e.adminMessages)||(e.adminMessages=[]);let o=e.userMessages.findIndex(e=>e.id===t);-1!==o&&(e.userMessages[o].status=s);let r=e.adminMessages.findIndex(e=>e.id===t);-1!==r&&(e.adminMessages[r].status=s)}},extraReducers:e=>{e.addCase(p.pending,e=>{e.loading.fetchUserMessages=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.loading.fetchUserMessages=!1,e.userMessages=a.payload.data,e.userPagination=a.payload.meta.pagination}).addCase(p.rejected,(e,a)=>{e.loading.fetchUserMessages=!1,e.error=a.payload}),e.addCase(f.pending,e=>{e.loading.fetchUserMessages=!0,e.error=null}).addCase(f.fulfilled,(e,a)=>{e.loading.fetchUserMessages=!1,Array.isArray(e.userMessages)||(e.userMessages=[]),e.userMessages=[...e.userMessages,...a.payload.data],e.userPagination=a.payload.meta.pagination}).addCase(f.rejected,(e,a)=>{e.loading.fetchUserMessages=!1,e.error=a.payload}),e.addCase(u.pending,e=>{e.loading.sendMessage=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{let t;if(e.loading.sendMessage=!1,Array.isArray(e.userMessages)||(e.userMessages=[]),a.payload&&a.payload.data&&a.payload.data.message)t=a.payload.data.message;else{if(!a.payload||"object"!=typeof a.payload||!("id"in a.payload))return void console.error("Unexpected sendMessage response structure:",a.payload);t=a.payload}e.userMessages=[t,...e.userMessages]}).addCase(u.rejected,(e,a)=>{e.loading.sendMessage=!1,e.error=a.payload}),e.addCase(m.pending,e=>{e.loading.fetchAdminMessages=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.loading.fetchAdminMessages=!1,e.adminMessages=a.payload.data,e.adminPagination=a.payload.meta.pagination}).addCase(m.rejected,(e,a)=>{e.loading.fetchAdminMessages=!1,e.error=a.payload}),e.addCase(h.pending,e=>{e.loading.fetchAdminMessages=!0,e.error=null}).addCase(h.fulfilled,(e,a)=>{e.loading.fetchAdminMessages=!1,Array.isArray(e.adminMessages)||(e.adminMessages=[]),e.adminMessages=[...e.adminMessages,...a.payload.data],e.adminPagination=a.payload.meta.pagination}).addCase(h.rejected,(e,a)=>{e.loading.fetchAdminMessages=!1,e.error=a.payload}),e.addCase(y.pending,e=>{e.loading.replyToMessage=!0,e.error=null}).addCase(y.fulfilled,(e,a)=>{e.loading.replyToMessage=!1;let{messageId:t}=a.payload,s=a.payload.data.message,o=e.adminMessages.findIndex(e=>e.id===t);-1!==o&&(e.adminMessages[o]=s)}).addCase(y.rejected,(e,a)=>{e.loading.replyToMessage=!1,e.error=a.payload})}}),{setUserFilters:A,setAdminFilters:S,clearUserMessages:C,clearAdminMessages:k,clearError:w,resetState:v,updateMessageStatus:_}=P.actions,F=P.reducer,L=e=>e.messages.userMessages||[],U=e=>e.messages.userPagination,j=e=>e.messages.userFilters,b=e=>e.messages.loading,D=e=>e.messages.error,M=e=>e.messages.userMessages?.filter(e=>"unread"===e.status)||[],I=e=>e.messages.userMessages?.filter(e=>"responded"===e.status)||[],R=e=>{let a=e.messages.userPagination;return!!a&&a.has_more_pages}},41817:(e,a,t)=>{"use strict";t.d(a,{pD:()=>i,Ay:()=>k,ys:()=>g,kp:()=>f,tY:()=>d,dc:()=>l,Qx:()=>y,kL:()=>p,Rn:()=>u});var s=t(88198),o=t(68768);let r={getPublicPosts:async e=>{console.log("\uD83D\uDCDD Post Service: Fetching public posts",e);let a=new URLSearchParams;e?.page&&a.append("page",e.page.toString()),e?.per_page&&a.append("per_page",e.per_page.toString()),e?.search&&a.append("search",e.search),e?.tags&&a.append("tags",e.tags),e?.sort&&a.append("sort",e.sort);let t=`/posts${a.toString()?`?${a.toString()}`:""}`,s=await o.FH.get(t);return console.log("✅ Post Service: Public posts fetched",{count:s.data.data.data?.length||0,total:s.data.data.total}),s.data},getPostById:async e=>{console.log("\uD83D\uDCDD Post Service: Fetching post by ID",{id:e});let a=await o.FH.get(`/posts/${e}`);return console.log("✅ Post Service: Post fetched",{id:a.data.data.id,title:a.data.data.title,hasImage:!!a.data.data.image}),a.data},createPostWithImage:async e=>{console.log("\uD83D\uDCDD Post Service: Creating post with image",{title:e.title,hasImage:!!e.image,emotion:e.emotion,link:e.link});let a=new FormData;a.append("title",e.title),a.append("content",e.content),a.append("is_anonymous",e.is_anonymous?"1":"0"),e.emotion&&a.append("emotion",e.emotion),e.link&&a.append("link",e.link),e.tags&&e.tags.length>0&&e.tags.forEach((e,t)=>{a.append(`tags[${t}]`,e)}),e.image&&(a.append("image",e.image),e.image_alt&&a.append("image_alt",e.image_alt));let t=await o.FH.post("/posts",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log("✅ Post Service: Post with image created",{id:t.data.data?.id||"unknown",title:t.data.data?.title||e.title,status:t.data.data?.status||"pending",hasImage:!!t.data.data?.image,emotion:t.data.data?.emotion||e.emotion,link:t.data.data?.link||e.link}),t.data},createPost:async e=>{if(e.image)return await r.createPostWithImage(e);console.log("\uD83D\uDCDD Post Service: Creating text-only post",{title:e.title,emotion:e.emotion,link:e.link});let a={title:e.title,content:e.content,is_anonymous:e.is_anonymous||!1,...e.emotion&&{emotion:e.emotion},...e.link&&{link:e.link},tags:e.tags},t=await o.FH.post("/posts",a);return console.log("✅ Post Service: Text post created",{id:t.data.data?.id||"unknown",title:t.data.data?.title||e.title,status:t.data.data?.status||"pending",emotion:t.data.data?.emotion||e.emotion,link:t.data.data?.link||e.link}),t.data},updatePostWithImage:async(e,a)=>{if(console.log("\uD83D\uDCDD Post Service: Updating post with image operations",{id:e,title:a.title,hasImage:!!a.image,removeImage:a.remove_image}),a.image||a.remove_image){let t=new FormData;a.title&&t.append("title",a.title),a.content&&t.append("content",a.content),a.remove_image&&t.append("remove_image","true"),a.tags&&a.tags.length>0&&a.tags.forEach((e,a)=>{t.append(`tags[${a}]`,e)}),a.image&&(t.append("image",a.image),a.image_alt&&t.append("image_alt",a.image_alt));let s=await o.FH.put(`/posts/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("✅ Post Service: Post with image updated",{id:s.data.data?.id||e,title:s.data.data?.title||"unknown",hasImage:!!s.data.data?.image}),s.data}{let t=await o.FH.put(`/posts/${e}`,a);return console.log("✅ Post Service: Post updated",{id:t.data.data?.id||e,title:t.data.data?.title||"unknown"}),t.data}},updatePost:async(e,a)=>await r.updatePostWithImage(e,a),deletePost:async e=>{console.log("\uD83D\uDCDD Post Service: Deleting post",{id:e});let a=await o.FH.delete(`/posts/${e}`);return console.log("✅ Post Service: Post deleted",{id:e}),a.data},likePost:async e=>{console.log("\uD83D\uDC4D Post Service: Liking post",{id:e});let a=await o.FH.post(`/posts/${e}/like`);return console.log("✅ Post Service: Post liked",{id:e,like_count:a.data.data?.like_count||"unknown"}),a.data},unlikePost:async e=>{console.log("\uD83D\uDC4E Post Service: Unliking post with fallback methods",{id:e});try{console.log("\uD83D\uDC4E Post Service: Trying DELETE method for unlike");let a=await o.FH.delete(`/posts/${e}/unlike`);return console.log("✅ Post Service: Post unliked with DELETE",{id:e,like_count:a.data.data?.like_count||"unknown"}),a.data}catch(a){console.log("❌ Post Service: DELETE method failed for unlike, trying POST",{error:a});try{let a=await o.FH.post(`/posts/${e}/unlike`);return console.log("✅ Post Service: Post unliked with POST",{id:e,like_count:a.data.data?.like_count||"unknown"}),a.data}catch(e){throw console.log("❌ Post Service: POST method also failed for unlike"),e}}},getUserPosts:async e=>{console.log("\uD83D\uDCDD Post Service: Fetching user posts",e);let a=new URLSearchParams;e?.page&&a.append("page",e.page.toString()),e?.per_page&&a.append("per_page",e.per_page.toString()),e?.status&&a.append("status",e.status),e?.search&&a.append("search",e.search);let t=`/user/posts${a.toString()?`?${a.toString()}`:""}`,s=await o.FH.get(t);return console.log("✅ Post Service: User posts fetched",{count:s.data.data.data?.length||0,total:s.data.data.total,status:e?.status||"all"}),s.data},getUserPostsByStatus:async(e,a)=>{console.log("\uD83D\uDCDD Post Service: Fetching user posts by status",{status:e,params:a});let t=new URLSearchParams;t.append("status",e),a?.page&&t.append("page",a.page.toString()),a?.per_page&&t.append("per_page",a.per_page.toString()),a?.search&&t.append("search",a.search);let s=`/user/posts?${t.toString()}`,r=await o.FH.get(s);return console.log("✅ Post Service: User posts by status fetched",{count:r.data.data.data?.length||0,total:r.data.data.total,status:e}),r.data},getAllUserPosts:async e=>{console.log("\uD83D\uDCDD Post Service: Fetching all user posts",e);let a=new URLSearchParams;e?.page&&a.append("page",e.page.toString()),e?.per_page&&a.append("per_page",e.per_page.toString()),e?.search&&a.append("search",e.search);let t=`/user/posts/all${a.toString()?`?${a.toString()}`:""}`,s=await o.FH.get(t);return console.log("✅ Post Service: All user posts fetched",{count:s.data.data.data?.length||0,total:s.data.data.total}),s.data}},n=e=>"object"==typeof e&&null!==e&&"message"in e,l=(0,s.zD)("posts/getPublicPosts",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting get public posts"),(await r.getPublicPosts(e)).data}catch(s){let e=s instanceof Error?s.message:"Failed to fetch posts",t=s?.response?.data;return console.error("❌ Post Slice: Get public posts failed",t||e),a(t||{message:e})}}),d=(0,s.zD)("posts/getPostById",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting get post by ID",{id:e}),(await r.getPostById(e)).data}catch(s){let e=s instanceof Error?s.message:"Failed to fetch post",t=s?.response?.data;return console.error("❌ Post Slice: Get post by ID failed",t||e),a(t||{message:e})}}),i=(0,s.zD)("posts/createPost",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting create post"),(await r.createPost(e)).data}catch(s){let e=s instanceof Error?s.message:"Failed to create post",t=s?.response?.data;return console.error("❌ Post Slice: Create post failed",t||e),a(t||{message:e})}}),c=(0,s.zD)("posts/updatePost",async({id:e,payload:a},{rejectWithValue:t})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting update post",{id:e}),(await r.updatePost(e,a)).data}catch(s){let e=s instanceof Error?s.message:"Failed to update post",a=s?.response?.data;return console.error("❌ Post Slice: Update post failed",a||e),t(a||{message:e})}}),g=(0,s.zD)("posts/deletePost",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting delete post",{id:e}),await r.deletePost(e),e}catch(s){let e=s instanceof Error?s.message:"Failed to delete post",t=s?.response?.data;return console.error("❌ Post Slice: Delete post failed",t||e),a(t||{message:e})}}),p=(0,s.zD)("posts/likePost",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDCE4 Post Slice: Starting like post",{id:e});let a=await r.likePost(e);return{id:e,...a.data}}catch(s){let e=s instanceof Error?s.message:"Failed to like post",t=s?.response?.data;return console.error("❌ Post Slice: Like post failed",t||e),a(t||{message:e})}}),u=(0,s.zD)("posts/unlikePost",async(e,{rejectWithValue:a})=>{try{console.log("\uD83D\uDCE4 Post Slice: Starting unlike post",{id:e});let a=await r.unlikePost(e);return{id:e,...a.data}}catch(s){let e=s instanceof Error?s.message:"Failed to unlike post",t=s?.response?.data;return console.error("❌ Post Slice: Unlike post failed",t||e),a(t||{message:e})}}),m=(0,s.zD)("posts/getUserPosts",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting get user posts"),{data:(await r.getUserPosts(e)).data,params:e}}catch(s){let e=s instanceof Error?s.message:"Failed to fetch user posts",t=s?.response?.data;return console.error("❌ Post Slice: Get user posts failed",t||e),a(t||{message:e})}}),y=(0,s.zD)("posts/getUserPostsByStatus",async({status:e,params:a},{rejectWithValue:t})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting get user posts by status",{status:e}),{data:(await r.getUserPostsByStatus(e,a)).data,status:e,params:a}}catch(o){let a=o instanceof Error?o.message:`Failed to fetch ${e} posts`,s=o?.response?.data;return console.error("❌ Post Slice: Get user posts by status failed",s||a),t(s||{message:a})}}),f=(0,s.zD)("posts/getAllUserPosts",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Post Slice: Starting get all user posts"),{data:(await r.getAllUserPosts(e)).data,params:e}}catch(s){let e=s instanceof Error?s.message:"Failed to fetch all user posts",t=s?.response?.data;return console.error("❌ Post Slice: Get all user posts failed",t||e),a(t||{message:e})}}),h=(0,s.Z0)({name:"posts",initialState:{publicPosts:[],publicPostsPagination:null,userPosts:[],userPostsPagination:null,userPostsByStatus:{pending:[],approved:[],rejected:[]},userPostsByStatusPagination:{pending:null,approved:null,rejected:null},currentPost:null,filters:{page:1,per_page:15,sort:"latest"},isLoading:!1,isCreating:!1,isUpdating:!1,isDeleting:!1,isLoadingByStatus:{pending:!1,approved:!1,rejected:!1},error:null},reducers:{clearError:e=>{e.error=null},setFilters:(e,a)=>{e.filters={...e.filters,...a.payload}},clearCurrentPost:e=>{e.currentPost=null},clearPosts:e=>{e.publicPosts=[],e.userPosts=[],e.publicPostsPagination=null,e.userPostsPagination=null}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Post Slice: Get public posts pending")}).addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,e.publicPosts=a.payload.data,e.publicPostsPagination={current_page:a.payload.current_page,last_page:a.payload.last_page,per_page:a.payload.per_page,total:a.payload.total,from:a.payload.from,to:a.payload.to},e.error=null,console.log("✅ Post Slice: Get public posts successful",{count:a.payload.data.length,total:a.payload.total})}).addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.error=n(a.payload)?a.payload.message:"Failed to fetch posts",console.log("❌ Post Slice: Get public posts rejected",e.error)}),e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Post Slice: Get post by ID pending")}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.currentPost=a.payload,e.error=null,console.log("✅ Post Slice: Get post by ID successful",{id:a.payload.id,title:a.payload.title})}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=n(a.payload)?a.payload.message:"Failed to fetch post",console.log("❌ Post Slice: Get post by ID rejected",e.error)}),e.addCase(i.pending,e=>{e.isCreating=!0,e.error=null,console.log("⏳ Post Slice: Create post pending")}).addCase(i.fulfilled,(e,a)=>{e.isCreating=!1,e.userPosts.unshift(a.payload),e.error=null,console.log("✅ Post Slice: Create post successful",{id:a.payload.id,title:a.payload.title,status:a.payload.status})}).addCase(i.rejected,(e,a)=>{e.isCreating=!1,e.error=n(a.payload)?a.payload.message:"Failed to create post",console.log("❌ Post Slice: Create post rejected",e.error)}),e.addCase(c.pending,e=>{e.isUpdating=!0,e.error=null,console.log("⏳ Post Slice: Update post pending")}).addCase(c.fulfilled,(e,a)=>{e.isUpdating=!1;let t=e.userPosts.findIndex(e=>e.id===a.payload.id);-1!==t&&(e.userPosts[t]=a.payload);let s=e.publicPosts.findIndex(e=>e.id===a.payload.id);-1!==s&&(e.publicPosts[s]=a.payload),e.currentPost?.id===a.payload.id&&(e.currentPost=a.payload),e.error=null,console.log("✅ Post Slice: Update post successful",{id:a.payload.id,title:a.payload.title})}).addCase(c.rejected,(e,a)=>{e.isUpdating=!1,e.error=n(a.payload)?a.payload.message:"Failed to update post",console.log("❌ Post Slice: Update post rejected",e.error)}),e.addCase(g.pending,e=>{e.isDeleting=!0,e.error=null,console.log("⏳ Post Slice: Delete post pending")}).addCase(g.fulfilled,(e,a)=>{e.isDeleting=!1,e.userPosts=e.userPosts.filter(e=>e.id!==a.payload),e.publicPosts=e.publicPosts.filter(e=>e.id!==a.payload),e.currentPost?.id===a.payload&&(e.currentPost=null),e.error=null,console.log("✅ Post Slice: Delete post successful",{id:a.payload})}).addCase(g.rejected,(e,a)=>{e.isDeleting=!1,e.error=n(a.payload)?a.payload.message:"Failed to delete post",console.log("❌ Post Slice: Delete post rejected",e.error)}),e.addCase(p.fulfilled,(e,a)=>{let{id:t,like_count:s,user_has_liked:o}=a.payload,r=e=>{let a=e.findIndex(e=>e.id===t);-1!==a&&(e[a].like_count=s,e[a].is_liked_by_user=o)};r(e.publicPosts),r(e.userPosts),e.currentPost?.id===t&&(e.currentPost.like_count=s,e.currentPost.is_liked_by_user=o),console.log("✅ Post Slice: Like post successful",{id:t,like_count:s,user_has_liked:o})}),e.addCase(u.fulfilled,(e,a)=>{let{id:t,like_count:s,user_has_liked:o}=a.payload,r=e=>{let a=e.findIndex(e=>e.id===t);-1!==a&&(e[a].like_count=s,e[a].is_liked_by_user=o)};r(e.publicPosts),r(e.userPosts),e.currentPost?.id===t&&(e.currentPost.like_count=s,e.currentPost.is_liked_by_user=o),console.log("✅ Post Slice: Unlike post successful",{id:t,like_count:s,user_has_liked:o})}),e.addCase(m.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Post Slice: Get user posts pending")}).addCase(m.fulfilled,(e,a)=>{e.isLoading=!1,e.userPosts=a.payload.data.data,e.userPostsPagination={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null,console.log("✅ Post Slice: Get user posts successful",{count:a.payload.data.data.length,status:a.payload.params?.status||"all"})}).addCase(m.rejected,(e,a)=>{e.isLoading=!1,e.error=n(a.payload)?a.payload.message:"Failed to fetch user posts",console.log("❌ Post Slice: Get user posts rejected",e.error)}),e.addCase(y.pending,(e,a)=>{let t=a.meta.arg.status;e.isLoadingByStatus[t]=!0,e.error=null,console.log("⏳ Post Slice: Get user posts by status pending",{status:t})}).addCase(y.fulfilled,(e,a)=>{let{status:t}=a.payload;e.isLoadingByStatus[t]=!1,e.userPostsByStatus[t]=a.payload.data.data,e.userPostsByStatusPagination[t]={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null,console.log("✅ Post Slice: Get user posts by status successful",{count:a.payload.data.data.length,status:t})}).addCase(y.rejected,(e,a)=>{let t=a.meta.arg.status;e.isLoadingByStatus[t]=!1,e.error=n(a.payload)?a.payload.message:`Failed to fetch ${t} posts`,console.log("❌ Post Slice: Get user posts by status rejected",{status:t,error:e.error})}),e.addCase(f.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Post Slice: Get all user posts pending")}).addCase(f.fulfilled,(e,a)=>{e.isLoading=!1,e.userPosts=a.payload.data.data,e.userPostsPagination={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to},e.error=null,console.log("✅ Post Slice: Get all user posts successful",{count:a.payload.data.data.length})}).addCase(f.rejected,(e,a)=>{e.isLoading=!1,e.error=n(a.payload)?a.payload.message:"Failed to fetch all user posts",console.log("❌ Post Slice: Get all user posts rejected",e.error)})}}),{clearError:P,setFilters:A,clearCurrentPost:S,clearPosts:C}=h.actions,k=h.reducer},47202:(e,a,t)=>{Promise.resolve().then(t.bind(t,99420))},61135:()=>{},63693:(e,a,t)=>{"use strict";t.d(a,{SP:()=>A,Ay:()=>w,bb:()=>g,jA:()=>u,G:()=>f,X0:()=>m,Q1:()=>p,OA:()=>y,_F:()=>P});var s=t(88198);let o={notifications:[],unreadCount:0,pagination:null,filters:{page:1,per_page:15},loading:{fetchNotifications:!1,markAsRead:!1,getUnreadCount:!1},error:null};var r=t(68768);let n=async(e={})=>{try{let a=new URLSearchParams;e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString()),void 0!==e.is_read&&a.append("is_read",e.is_read?"true":"false"),e.type&&a.append("type",e.type),e.sort&&a.append("sort",e.sort);let t=a.toString(),s=`/notifications${t?`?${t}`:""}`;return(await r.Ay.get(s)).data}catch(e){throw console.error("Get notifications error:",e),{success:!1,message:e?.response?.data?.message||"Failed to fetch notifications",errors:e?.response?.data?.errors}}},l=async e=>{try{return(await r.Ay.post("/notifications/read",e)).data}catch(e){throw console.error("Mark notifications as read error:",e),{success:!1,message:e?.response?.data?.message||"Failed to mark notifications as read",errors:e?.response?.data?.errors}}},d=async()=>{try{return{unread_count:(await n({page:1,per_page:1,is_read:!1})).meta.unread_count}}catch(e){throw console.error("Get unread count error:",e),{success:!1,message:e?.response?.data?.message||"Failed to get unread count",errors:e?.response?.data?.errors}}},i=async()=>{try{return await l({mark_all:!0})}catch(e){throw console.error("Mark all notifications as read error:",e),e}},c=async e=>{try{return await l({notification_ids:e})}catch(e){throw console.error("Mark specific notifications as read error:",e),e}},g=(0,s.zD)("notifications/fetchNotifications",async(e={},{rejectWithValue:a})=>{try{return await n(e)}catch(e){return a(e?.message||"Failed to fetch notifications")}}),p=(0,s.zD)("notifications/markAsRead",async(e,{rejectWithValue:a})=>{try{return{...await l(e),payload:e}}catch(e){return a(e?.message||"Failed to mark notifications as read")}}),u=(0,s.zD)("notifications/fetchUnreadCount",async(e,{rejectWithValue:a})=>{try{return await d()}catch(e){return a(e?.message||"Failed to fetch unread count")}}),m=(0,s.zD)("notifications/markAllAsRead",async(e,{rejectWithValue:a})=>{try{return await i()}catch(e){return a(e?.message||"Failed to mark all notifications as read")}}),y=(0,s.zD)("notifications/markSpecificAsRead",async(e,{rejectWithValue:a})=>{try{return{...await c(e),notificationIds:e}}catch(e){return a(e?.message||"Failed to mark specific notifications as read")}}),f=(0,s.zD)("notifications/loadMore",async(e,{rejectWithValue:a,getState:t})=>{try{let a=t(),s=a.notifications.pagination?.current_page||1;return await n({...e,page:s+1})}catch(e){return a(e?.message||"Failed to load more notifications")}}),h=(0,s.Z0)({name:"notifications",initialState:o,reducers:{setFilters:(e,a)=>{e.filters={...e.filters,...a.payload},(void 0!==a.payload.is_read||void 0!==a.payload.type)&&(e.filters.page=1)},clearNotifications:e=>{e.notifications=[],e.pagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>o,updateLocalReadStatus:(e,a)=>{let{notification_ids:t,is_read:s}=a.payload;if(e.notifications)if(e.notifications=e.notifications.map(e=>t.includes(e.id)?{...e,is_read:s}:e),s){let a=t.filter(a=>e.notifications.find(e=>e.id===a&&!e.is_read)).length;e.unreadCount=Math.max(0,e.unreadCount-a)}else{let a=t.filter(a=>e.notifications.find(e=>e.id===a&&e.is_read)).length;e.unreadCount+=a}}},extraReducers:e=>{e.addCase(g.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(g.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=a.payload.data,e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(g.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(f.pending,e=>{e.loading.fetchNotifications=!0,e.error=null}).addCase(f.fulfilled,(e,a)=>{e.loading.fetchNotifications=!1,e.notifications=[...e.notifications||[],...a.payload.data],e.pagination=a.payload.meta.pagination,e.unreadCount=a.payload.meta.unread_count}).addCase(f.rejected,(e,a)=>{e.loading.fetchNotifications=!1,e.error=a.payload}),e.addCase(p.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{if(e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications){let{payload:t}=a.payload;t.mark_all?e.notifications=e.notifications.map(e=>({...e,is_read:!0})):t.notification_ids&&(e.notifications=e.notifications.map(e=>t.notification_ids.includes(e.id)?{...e,is_read:!0}:e))}}).addCase(p.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(u.pending,e=>{e.loading.getUnreadCount=!0}).addCase(u.fulfilled,(e,a)=>{e.loading.getUnreadCount=!1,e.unreadCount=a.payload.unread_count}).addCase(u.rejected,(e,a)=>{e.loading.getUnreadCount=!1,e.error=a.payload}),e.addCase(m.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(m.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>({...e,is_read:!0})))}).addCase(m.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload}),e.addCase(y.pending,e=>{e.loading.markAsRead=!0,e.error=null}).addCase(y.fulfilled,(e,a)=>{e.loading.markAsRead=!1,e.unreadCount=a.payload.data.unread_count,e.notifications&&(e.notifications=e.notifications.map(e=>a.payload.notificationIds.includes(e.id)?{...e,is_read:!0}:e))}).addCase(y.rejected,(e,a)=>{e.loading.markAsRead=!1,e.error=a.payload})}}),{setFilters:P,clearNotifications:A,clearError:S,resetState:C,updateLocalReadStatus:k}=h.actions,w=h.reducer},68768:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>y,FH:()=>s,O5:()=>p,rG:()=>g,sw:()=>m});let s=t(51060).A.create({baseURL:"/api/proxy",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4,withCredentials:!1}),o=null,r=!1,n="mindspeak_auth_backup",l="mindspeak_auth_cleared",d=()=>{try{localStorage.setItem(l,JSON.stringify({cleared:!0,timestamp:Date.now()})),console.log("\uD83D\uDEAB API: Auth marked as intentionally cleared")}catch(e){console.warn("⚠️ API: Failed to mark auth as cleared:",e)}},i=()=>{try{let e=localStorage.getItem(l);if(e){let a=JSON.parse(e);if(Date.now()-a.timestamp<3e5)return console.log("\uD83D\uDEAB API: Auth was intentionally cleared recently"),!0;localStorage.removeItem(l)}}catch(e){console.warn("⚠️ API: Error checking cleared flag:",e)}return!1},c=(e,a)=>{try{if(i())return void console.log("\uD83D\uDEAB API: Skipping backup creation - auth was intentionally cleared");let t={token:e,user:a,timestamp:Date.now(),isAuthenticated:!0};localStorage.setItem(n,JSON.stringify(t)),console.log("\uD83D\uDD10 API: Auth backup created for HMR protection")}catch(e){console.warn("⚠️ API: Failed to create auth backup:",e)}},g=()=>{console.log("\uD83E\uDDF9 API: Starting comprehensive auth data clearance"),d(),o=null;try{localStorage.removeItem("persist:auth"),console.log("\uD83E\uDDF9 API: Redux persist auth data cleared"),localStorage.removeItem(n),console.log("\uD83E\uDDF9 API: Backup auth data cleared");let e=[];for(let a=0;a<localStorage.length;a++){let t=localStorage.key(a);t&&t!==l&&(t.includes("auth")||t.includes("token")||t.includes("mindspeak"))&&e.push(t)}e.forEach(e=>{localStorage.removeItem(e),console.log(`🧹 API: Cleared additional auth key: ${e}`)}),sessionStorage.clear(),console.log("\uD83E\uDDF9 API: Session storage cleared"),console.log("✅ API: Complete auth data clearance finished")}catch(e){console.error("❌ API: Error during auth data clearance:",e)}},p=(e,a)=>{o=e,e?(console.log("\uD83D\uDD10 API: Auth token set successfully"),c(e,a)):(console.log("\uD83D\uDD13 API: Auth token cleared"),localStorage.removeItem(n))},u=()=>{try{return null}catch(e){return console.warn("⚠️ API: Error reading token from storage:",e),null}};s.interceptors.request.use(async e=>{try{console.log("\uD83D\uDD0D API: Request interceptor running for:",e.url),console.log("\uD83D\uDD0D API: Request method:",e.method),console.log("\uD83D\uDD0D API: Base URL:",e.baseURL),console.log("\uD83D\uDD0D API: Full URL:",`${e.baseURL}${e.url}`),console.log("\uD83D\uDD0D API: Current headers:",e.headers),console.log("\uD83D\uDD0D API: With credentials:",e.withCredentials);let a="/login"===e.url||"/register"===e.url;if(console.log("\uD83D\uDD0D API: Is auth endpoint?",a,"for URL:",e.url),a)console.log("\uD83D\uDD13 API: Skipping token attachment for auth endpoint"),e.headers&&e.headers.Authorization&&(delete e.headers.Authorization,console.log("\uD83E\uDDF9 API: Removed Authorization header from auth endpoint"));else{let a=o||u();a?(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${a}`,console.log("\uD83D\uDD10 API: Bearer token attached to request"),console.log("\uD83D\uDD0D API: Token preview:",a.substring(0,20)+"...")):console.log("\uD83D\uDD13 API: No auth token available for protected endpoint")}return console.log("\uD83D\uDD0D API: Final headers being sent:",JSON.stringify(e.headers,null,2)),console.log("\uD83D\uDD0D API: Final config:",{url:e.url,method:e.method,baseURL:e.baseURL,withCredentials:e.withCredentials}),console.log(`📤 API: ${e.method?.toUpperCase()} ${e.url}`),e}catch(a){return console.error("❌ API: Request interceptor failed:",a),e}},e=>(console.error("❌ API: Request interceptor error:",e),Promise.reject(e))),s.interceptors.response.use(e=>(console.log(`✅ API: ${e.config.method?.toUpperCase()} ${e.config.url} - ${e.status}`),e.data?.data?.token&&(p(e.data.data.token,e.data.data.user),console.log("\uD83D\uDD10 API: New auth token received and stored")),e),async e=>{let a=e.config;return console.error(`❌ API: ${a?.method?.toUpperCase()} ${a?.url} - ${e.response?.status||"Network Error"}`),e.response?.status===401&&(console.warn("⚠️ API: Unauthorized access - token may be invalid or expired"),g(),e.message="Authentication required. Please login again."),e.response?.status===403&&(console.warn("⚠️ API: Access forbidden - insufficient permissions"),e.message="Access denied. You do not have permission to access this resource."),e.response?.status===422&&(console.warn("⚠️ API: Validation errors detected",e.response.data),e.message=e.response.data?.message||"Validation failed"),e.response?.status===419&&(console.error("❌ API: CSRF token error detected - this should not happen with token-based authentication"),console.error("❌ API: Check your Laravel configuration - ensure you are using token-based auth"),e.message="Authentication configuration error. Please contact support."),e.response||(e.message="Network error - please check your connection and ensure the backend server is running",console.error("\uD83C\uDF10 API: Network error detected - backend may be down")),e.response?.data&&console.error("\uD83D\uDCCB API: Error details:",e.response.data),Promise.reject(e)});let m=()=>{if(i())return void console.log("\uD83D\uDEAB API: Skipping token initialization - auth was intentionally cleared");let e=u();e?(p(e),console.log("\uD83D\uDD10 API: Auth token initialized from storage")):console.log("\uD83D\uDD13 API: No stored token found - marked as initialized")},y=s},75537:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>A,Cj:()=>c,_F:()=>y});var s=t(88198);let o={faqs:[],adminFaqs:[],pagination:null,filters:{page:1,per_page:15},loading:{fetchFaqs:!1,createFaq:!1,updateFaq:!1,deleteFaq:!1},error:null};var r=t(68768);let n=async(e={})=>{try{let a=new URLSearchParams;e.search&&a.append("search",e.search),e.page&&a.append("page",e.page.toString()),e.per_page&&a.append("per_page",e.per_page.toString());let t=a.toString(),s=`/faqs${t?`?${t}`:""}`;return(await r.Ay.get(s)).data}catch(e){throw console.error("Get FAQs error:",e),{success:!1,message:e?.response?.data?.message||"Failed to fetch FAQs",errors:e?.response?.data?.errors}}},l=async e=>{try{return(await r.Ay.post("/faqs",e)).data}catch(e){throw console.error("Create FAQ error:",e),{success:!1,message:e?.response?.data?.message||"Failed to create FAQ",errors:e?.response?.data?.errors}}},d=async e=>{try{let{faqId:a,...t}=e;return(await r.Ay.put(`/faqs/${a}`,t)).data}catch(e){throw console.error("Update FAQ error:",e),{success:!1,message:e?.response?.data?.message||"Failed to update FAQ",errors:e?.response?.data?.errors}}},i=async e=>{try{return(await r.Ay.delete(`/faqs/${e}`)).data}catch(e){throw console.error("Delete FAQ error:",e),{success:!1,message:e?.response?.data?.message||"Failed to delete FAQ",errors:e?.response?.data?.errors}}},c=(0,s.zD)("faqs/fetchFaqs",async(e={},{rejectWithValue:a})=>{try{return await n(e)}catch(e){return a(e?.message||"Failed to fetch FAQs")}}),g=(0,s.zD)("faqs/createFaq",async(e,{rejectWithValue:a})=>{try{return await l(e)}catch(e){return a(e?.message||"Failed to create FAQ")}}),p=(0,s.zD)("faqs/updateFaq",async(e,{rejectWithValue:a})=>{try{return await d(e)}catch(e){return a(e?.message||"Failed to update FAQ")}}),u=(0,s.zD)("faqs/deleteFaq",async(e,{rejectWithValue:a})=>{try{return{...await i(e),faqId:e}}catch(e){return a(e?.message||"Failed to delete FAQ")}}),m=(0,s.Z0)({name:"faqs",initialState:o,reducers:{setFilters:(e,a)=>{e.filters={...e.filters,...a.payload}},clearFaqs:e=>{e.faqs=[],e.adminFaqs=[],e.pagination=null,e.error=null},clearError:e=>{e.error=null},resetState:()=>o},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading.fetchFaqs=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading.fetchFaqs=!1,e.faqs=a.payload.data.data,e.adminFaqs=a.payload.data.data,e.pagination={current_page:a.payload.data.current_page,last_page:a.payload.data.last_page,per_page:a.payload.data.per_page,total:a.payload.data.total,from:a.payload.data.from,to:a.payload.data.to,first_page_url:a.payload.data.first_page_url,last_page_url:a.payload.data.last_page_url,next_page_url:a.payload.data.next_page_url,prev_page_url:a.payload.data.prev_page_url,path:a.payload.data.path,links:a.payload.data.links}}).addCase(c.rejected,(e,a)=>{e.loading.fetchFaqs=!1,e.error=a.payload}),e.addCase(g.pending,e=>{e.loading.createFaq=!0,e.error=null}).addCase(g.fulfilled,(e,a)=>{e.loading.createFaq=!1;let t=a.payload.data;e.faqs=[t,...e.faqs],e.adminFaqs=[t,...e.adminFaqs]}).addCase(g.rejected,(e,a)=>{e.loading.createFaq=!1,e.error=a.payload}),e.addCase(p.pending,e=>{e.loading.updateFaq=!0,e.error=null}).addCase(p.fulfilled,(e,a)=>{e.loading.updateFaq=!1;let t=a.payload.data,s=e.faqs.findIndex(e=>e.id===t.id);-1!==s&&(e.faqs[s]=t);let o=e.adminFaqs.findIndex(e=>e.id===t.id);-1!==o&&(e.adminFaqs[o]=t)}).addCase(p.rejected,(e,a)=>{e.loading.updateFaq=!1,e.error=a.payload}),e.addCase(u.pending,e=>{e.loading.deleteFaq=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.loading.deleteFaq=!1;let{faqId:t}=a.payload;e.faqs=e.faqs.filter(e=>e.id!==t),e.adminFaqs=e.adminFaqs.filter(e=>e.id!==t)}).addCase(u.rejected,(e,a)=>{e.loading.deleteFaq=!1,e.error=a.payload})}}),{setFilters:y,clearFaqs:f,clearError:h,resetState:P}=m.actions,A=m.reducer},77082:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>u});var s=t(88198),o=t(68768);let r={getTags:async()=>{console.log("\uD83C\uDFF7️ Tag Service: Fetching all tags");let e=await o.FH.get("/tags");return console.log("✅ Tag Service: Tags fetched successfully",{tagCount:e.data.data.tags.length}),e.data},createTag:async e=>{console.log("\uD83C\uDFF7️ Tag Service: Creating new tag",{name:e.name});let a=await o.FH.post("/tags",e);return console.log("✅ Tag Service: Tag created successfully",{tagId:a.data.data.tag.id,tagName:a.data.data.tag.name}),a.data},deleteTag:async e=>{console.log("\uD83C\uDFF7️ Tag Service: Deleting tag",{tagId:e});let a=await o.FH.delete(`/tags/${e}`);return console.log("✅ Tag Service: Tag deleted successfully",{tagId:e}),a.data}},n=(0,s.zD)("tags/getTags",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Tag Slice: Fetching all tags"),(await r.getTags()).data.tags}catch(e){return console.error("❌ Tag Slice: Get tags failed",e.response?.data||e.message),a(e.response?.data||{message:"Failed to fetch tags"})}}),l=(0,s.zD)("tags/createTag",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Tag Slice: Creating new tag"),(await r.createTag(e)).data.tag}catch(e){return console.error("❌ Tag Slice: Create tag failed",e.response?.data||e.message),a(e.response?.data||{message:"Failed to create tag"})}}),d=(0,s.zD)("tags/deleteTag",async(e,{rejectWithValue:a})=>{try{return console.log("\uD83D\uDCE4 Tag Slice: Deleting tag"),await r.deleteTag(e),e}catch(e){return console.error("❌ Tag Slice: Delete tag failed",e.response?.data||e.message),a(e.response?.data||{message:"Failed to delete tag"})}}),i=(0,s.Z0)({name:"tags",initialState:{tags:[],isLoading:!1,error:null,createLoading:!1,deleteLoading:{}},reducers:{clearError:e=>{e.error=null},resetCreateLoading:e=>{e.createLoading=!1},resetDeleteLoading:(e,a)=>{delete e.deleteLoading[a.payload]}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null,console.log("⏳ Tag Slice: Get tags pending")}).addCase(n.fulfilled,(e,a)=>{e.isLoading=!1,e.tags=a.payload,e.error=null,console.log("✅ Tag Slice: Get tags successful",{tagCount:a.payload.length})}).addCase(n.rejected,(e,a)=>{e.isLoading=!1,e.error="object"==typeof a.payload&&a.payload&&"message"in a.payload?a.payload.message??null:"Failed to fetch tags",console.log("❌ Tag Slice: Get tags rejected",e.error)}),e.addCase(l.pending,e=>{e.createLoading=!0,e.error=null,console.log("⏳ Tag Slice: Create tag pending")}).addCase(l.fulfilled,(e,a)=>{e.createLoading=!1,e.tags.push(a.payload),e.error=null,console.log("✅ Tag Slice: Create tag successful",{tagName:a.payload.name,tagId:a.payload.id})}).addCase(l.rejected,(e,a)=>{e.createLoading=!1,e.error="object"==typeof a.payload&&a.payload&&"message"in a.payload?a.payload.message??null:"Failed to create tag",console.log("❌ Tag Slice: Create tag rejected",e.error)}),e.addCase(d.pending,(e,a)=>{let t=a.meta.arg;e.deleteLoading[t]=!0,e.error=null,console.log("⏳ Tag Slice: Delete tag pending",{tagId:t})}).addCase(d.fulfilled,(e,a)=>{let t=a.payload;delete e.deleteLoading[t],e.tags=e.tags.filter(e=>e.id!==t),e.error=null,console.log("✅ Tag Slice: Delete tag successful",{tagId:t})}).addCase(d.rejected,(e,a)=>{let t=a.meta.arg;delete e.deleteLoading[t],e.error="object"==typeof a.payload&&a.payload&&"message"in a.payload?a.payload.message??null:"Failed to delete tag",console.log("❌ Tag Slice: Delete tag rejected",e.error)})}}),{clearError:c,resetCreateLoading:g,resetDeleteLoading:p}=i.actions,u=i.reducer},81706:(e,a,t)=>{Promise.resolve().then(t.bind(t,10437))},94431:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,metadata:()=>r});var s=t(37413);t(61135);var o=t(99420);let r={title:"Mindspeak - uniconfess",description:"A safe space for mental health support and community",icons:{icon:"/logo9.png"}};function n({children:e}){return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{children:(0,s.jsx)(o.StoreProvider,{children:e})})})}},99420:(e,a,t)=>{"use strict";t.d(a,{StoreProvider:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call StoreProvider() from the server but StoreProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/store/provider.tsx","StoreProvider")}};