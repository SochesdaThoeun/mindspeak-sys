(()=>{var e={};e.id=483,e.ids=[483],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6211:(e,s,a)=>{"use strict";a.d(s,{A0:()=>i,BF:()=>d,Hj:()=>c,XI:()=>n,nA:()=>m,nd:()=>o});var t=a(60687),r=a(43210),l=a(4780);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-gray-300 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let m=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},9005:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15574:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23625:(e,s,a)=>{Promise.resolve().then(a.bind(a,49875))},24787:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var t=a(65239),r=a(48088),l=a(88170),n=a.n(l),i=a(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c={children:["",{children:["admin-dashboard",{children:["admin",{children:["approval",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,96063)),"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/admin-dashboard/admin/approval/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,40186)),"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/admin-dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/admin-dashboard/admin/approval/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin-dashboard/admin/approval/page",pathname:"/admin-dashboard/admin/approval",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},25334:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33353:(e,s,a)=>{Promise.resolve().then(a.bind(a,96063))},33872:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},33873:e=>{"use strict";e.exports=require("path")},34729:(e,s,a)=>{"use strict";a.d(s,{T:()=>n});var t=a(60687),r=a(43210),l=a(4780);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));n.displayName="Textarea"},40211:(e,s,a)=>{"use strict";a.d(s,{C1:()=>w,bL:()=>y});var t=a(43210),r=a(98599),l=a(11273),n=a(70569),i=a(65551),d=a(83721),c=a(18853),o=a(46059),m=a(14163),x=a(60687),h="Checkbox",[p,u]=(0,l.A)(h),[g,b]=p(h);function j(e){let{__scopeCheckbox:s,checked:a,children:r,defaultChecked:l,disabled:n,form:d,name:c,onCheckedChange:o,required:m,value:p="on",internal_do_not_use_render:u}=e,[b,j]=(0,i.i)({prop:a,defaultProp:l??!1,onChange:o,caller:h}),[f,v]=t.useState(null),[y,N]=t.useState(null),w=t.useRef(!1),k=!f||!!d||!!f.closest("form"),C={checked:b,disabled:n,setChecked:j,control:f,setControl:v,name:c,form:d,value:p,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!A(l)&&l,isFormControl:k,bubbleInput:y,setBubbleInput:N};return(0,x.jsx)(g,{scope:s,...C,children:"function"==typeof u?u(C):r})}var f="CheckboxTrigger",v=t.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:a,...l},i)=>{let{control:d,value:c,disabled:o,checked:h,required:p,setControl:u,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:v,bubbleInput:y}=b(f,e),N=(0,r.s)(i,u),w=t.useRef(h);return t.useEffect(()=>{let e=d?.form;if(e){let s=()=>g(w.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,g]),(0,x.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":A(h)?"mixed":h,"aria-required":p,"data-state":_(h),"data-disabled":o?"":void 0,disabled:o,value:c,...l,ref:N,onKeyDown:(0,n.m)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.m)(a,e=>{g(e=>!!A(e)||!e),y&&v&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});v.displayName=f;var y=t.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:t,checked:r,defaultChecked:l,required:n,disabled:i,value:d,onCheckedChange:c,form:o,...m}=e;return(0,x.jsx)(j,{__scopeCheckbox:a,checked:r,defaultChecked:l,disabled:i,required:n,onCheckedChange:c,name:t,form:o,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v,{...m,ref:s,__scopeCheckbox:a}),e&&(0,x.jsx)(C,{__scopeCheckbox:a})]})})});y.displayName=h;var N="CheckboxIndicator",w=t.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:t,...r}=e,l=b(N,a);return(0,x.jsx)(o.C,{present:t||A(l.checked)||!0===l.checked,children:(0,x.jsx)(m.sG.span,{"data-state":_(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});w.displayName=N;var k="CheckboxBubbleInput",C=t.forwardRef(({__scopeCheckbox:e,...s},a)=>{let{control:l,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:h,disabled:p,name:u,value:g,form:j,bubbleInput:f,setBubbleInput:v}=b(k,e),y=(0,r.s)(a,v),N=(0,d.Z)(i),w=(0,c.X)(l);t.useEffect(()=>{if(!f)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!n.current;if(N!==i&&e){let a=new Event("click",{bubbles:s});f.indeterminate=A(i),e.call(f,!A(i)&&i),f.dispatchEvent(a)}},[f,N,i,n]);let C=t.useRef(!A(i)&&i);return(0,x.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:h,disabled:p,name:u,value:g,form:j,...s,tabIndex:-1,ref:y,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function _(e){return A(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k},40228:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},43649:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},44493:(e,s,a)=>{"use strict";a.d(s,{Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=a(60687),r=a(43210),l=a(4780);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));n.displayName="Card";let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},49875:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>es});var t=a(60687),r=a(43210),l=a(96834),n=a(29523),i=a(89667),d=a(62688);let c=(0,d.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),o=(0,d.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var m=a(99270),x=a(13964),h=a(11860);let p=(0,d.A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var u=a(28559),g=a(70334),b=a(17257),j=a(16425),f=a(63503),v=a(34729),y=a(93613),N=a(91821);function w({isOpen:e,onClose:s,onSubmit:a,isBulk:l,selectedCount:i=0,error:d,isLoading:c}){let[o,m]=(0,r.useState)(""),x=o.trim().length>=10,p=async()=>{if(x)try{await a(o),m("")}catch{}},u=()=>{m(""),s()};return(0,t.jsx)(f.lG,{open:e,onOpenChange:u,children:(0,t.jsxs)(f.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(f.c7,{children:(0,t.jsx)(f.L3,{children:l?`Reject ${i} Posts`:"Reject Post"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Please provide a reason for rejecting ",l?"these posts":"this post",". This will be stored as an admin note."]}),d&&(0,t.jsxs)(N.Fc,{variant:"destructive",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsx)(N.TN,{children:d})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.T,{placeholder:"Enter admin note for rejection...",value:o,onChange:e=>m(e.target.value),className:"min-h-[100px]"}),(0,t.jsxs)(N.Fc,{variant:x?"default":"destructive",className:"h-10",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsxs)(N.TN,{children:[o.trim().length," / ",10," characters minimum"]})]})]})]}),(0,t.jsxs)(f.Es,{className:"sm:justify-end",children:[(0,t.jsx)(n.$,{type:"button",variant:"outline",onClick:u,disabled:c,children:"Cancel"}),(0,t.jsx)(n.$,{type:"button",variant:"destructive",onClick:p,disabled:!x||c,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Rejecting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Reject"]})})]})]})})}function k({isOpen:e,onClose:s,onSubmit:a,isBulk:r,selectedCount:l=0,error:i,isLoading:d}){let c=async()=>{try{await a()}catch{}};return(0,t.jsx)(f.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(f.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(f.c7,{children:(0,t.jsx)(f.L3,{children:r?`Approve ${l} Posts`:"Approve Post"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Are you sure you want to approve ",r?"these posts":"this post","?"]}),i&&(0,t.jsxs)(N.Fc,{variant:"destructive",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsx)(N.TN,{children:i})]})]}),(0,t.jsxs)(f.Es,{className:"sm:justify-end",children:[(0,t.jsx)(n.$,{type:"button",variant:"outline",onClick:s,disabled:d,children:"Cancel"}),(0,t.jsx)(n.$,{type:"button",variant:"default",onClick:c,disabled:d,className:"bg-green-600 hover:bg-green-700 text-white",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Approving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Approve"]})})]})]})})}var C=a(43649);function A({isOpen:e,onClose:s,onConfirm:a,isBulk:r=!1,isLoading:l=!1}){return(0,t.jsx)(f.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(f.Cf,{className:"max-w-md",children:[(0,t.jsx)(f.c7,{children:(0,t.jsxs)(f.L3,{className:"flex items-center gap-3 text-red-600",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-red-100 rounded-full",children:(0,t.jsx)(C.A,{className:"h-5 w-5 text-red-600"})}),"Delete ",r?"Posts":"Post"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-red-800",children:r?"Delete Multiple Posts":"Delete Post"}),(0,t.jsx)("p",{className:"text-sm text-red-700",children:r?"Are you sure you want to delete the selected posts? This action cannot be undone and will permanently remove all selected posts from the system.":"Are you sure you want to delete this post? This action cannot be undone and will permanently remove the post from the system."})]})]})}),(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"What will happen:"}),(0,t.jsxs)("ul",{className:"text-sm text-amber-700 space-y-1",children:[(0,t.jsx)("li",{children:"• The post will be permanently removed"}),(0,t.jsx)("li",{children:"• All associated comments and likes will be deleted"}),(0,t.jsx)("li",{children:"• This action cannot be reversed"})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:s,disabled:l,className:"flex-1 sm:flex-none",children:"Cancel"}),(0,t.jsx)(n.$,{variant:"destructive",onClick:a,disabled:l,className:"flex-1 sm:flex-none bg-red-600 hover:bg-red-700",children:l?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-2"}),r?"Delete Posts":"Delete Post"]})})]})]})})}var _=a(56896),P=a(21342),S=a(6211),T=a(9005),R=a(93661),D=a(13861),M=a(30474);let $=e=>{if(!e)return"bg-gray-100 text-gray-700 border-gray-200";switch(e.toLowerCase()){case"pending":return"bg-orange-100 text-orange-700 border-orange-200";case"approved":return"bg-green-100 text-green-700 border-green-200";case"rejected":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},L=e=>{if(!e)return"\uD83D\uDE10";switch(e.toLowerCase()){case"anxious":return"\uD83D\uDE30";case"guilty":return"\uD83D\uDE14";case"embarrassed":return"\uD83D\uDE33";case"sad":return"\uD83D\uDE22";case"confused":return"\uD83D\uDE15";case"happy":return"\uD83D\uDE0A";case"angry":return"\uD83D\uDE20";case"excited":return"\uD83E\uDD17";case"worried":return"\uD83D\uDE1F";case"scared":return"\uD83D\uDE28";default:return"\uD83D\uDE10"}},E=e=>{if(!e){let e=new Date;return{date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),relative:"Unknown"}}let s=new Date(e);if(isNaN(s.getTime())){let e=new Date;return{date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),relative:"Invalid date"}}return{date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),relative:q(s)}},q=e=>{if(!e||isNaN(e.getTime()))return"Unknown";let s=Math.floor((new Date().getTime()-e.getTime())/36e5);return s<1?"Just now":s<24?`${s}h ago`:s<48?"Yesterday":`${Math.floor(s/24)}d ago`};function z({confessions:e,selectedConfessions:s,onSelectionChange:a,onSelectAll:r,onStatusChange:i,onView:d,onDelete:c}){let o=e.length>0&&s.length===e.length,m=s.length>0&&s.length<e.length,u=(e,t)=>{t?a([...s,e]):a(s.filter(s=>s!==e))};return(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm animate-fade-in",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(S.XI,{children:[(0,t.jsx)(S.A0,{children:(0,t.jsxs)(S.Hj,{className:"border-b border-gray-200 bg-gray-50",children:[(0,t.jsx)(S.nd,{className:"w-12 px-6 py-4",children:(0,t.jsx)(_.S,{checked:o,ref:e=>{e instanceof HTMLInputElement&&(e.indeterminate=m)},onCheckedChange:r,className:"border-gray-300"})}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4",children:(0,t.jsx)("div",{className:"flex items-center gap-1",children:"User name"})}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden md:table-cell",children:"Image"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden lg:table-cell",children:"Title"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden xl:table-cell",children:"Description"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden sm:table-cell",children:"Tags"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4",children:"Status"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden md:table-cell",children:"Engagement"}),(0,t.jsx)(S.nd,{className:"font-semibold text-gray-700 px-6 py-4 hidden lg:table-cell",children:"Date"}),(0,t.jsx)(S.nd,{className:"w-12 px-6 py-4"})]})}),(0,t.jsx)(S.BF,{children:e.map((e,a)=>{let r=E(e.timeConfession),o=s.includes(e.id);return(0,t.jsxs)(S.Hj,{className:`border-b border-gray-100 hover:bg-gray-50 transition-all duration-200 animate-slide-up ${o?"bg-blue-50":""}`,style:{animationDelay:`${50*a}ms`},children:[(0,t.jsx)(S.nA,{className:"px-6 py-4",children:(0,t.jsx)(_.S,{checked:o,onCheckedChange:s=>u(e.id,s),className:"border-gray-300"})}),(0,t.jsx)(S.nA,{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.userName}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.category})]})})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden md:table-cell",children:e.image?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-gray-200",children:(0,t.jsx)(M.default,{src:e.image||"/placeholder.svg",width:"48",height:"48",className:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform",alt:"Confession image",onClick:()=>d(e)})}),(0,t.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Yes"})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,t.jsx)(T.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm",children:"No"})]})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden lg:table-cell",children:(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-900 line-clamp-1",children:e.title})})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden xl:table-cell",children:(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.description})})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden sm:table-cell",children:e.tags&&e.tags.length>0?(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map((e,s)=>(0,t.jsx)(l.E,{variant:"secondary",className:"text-xs",children:e},s)),e.tags.length>2&&(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:["+",e.tags.length-2]})]}):(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"No tags"})}),(0,t.jsx)(S.nA,{className:"px-6 py-4",children:(0,t.jsx)(l.E,{className:`${$(e.status)} text-xs font-medium px-3 py-1`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden md:table-cell",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-red-500",children:"❤"}),(0,t.jsx)("span",{children:e.likeCount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"\uD83D\uDCAC"}),(0,t.jsx)("span",{children:e.commentCount})]})]})}),(0,t.jsx)(S.nA,{className:"px-6 py-4 hidden lg:table-cell",children:(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("div",{children:r.date}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:r.time})]})}),(0,t.jsx)(S.nA,{className:"px-6 py-4",children:(0,t.jsxs)(P.rI,{children:[(0,t.jsx)(P.ty,{asChild:!0,children:(0,t.jsx)(n.$,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-gray-100",children:(0,t.jsx)(R.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(P.SQ,{align:"end",className:"w-48",children:[(0,t.jsxs)(P._2,{onClick:()=>d(e),children:[(0,t.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"View Details"]}),"approved"!==e.status&&(0,t.jsxs)(P._2,{className:"text-green-600",onClick:()=>i(e.id,"approved"),children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Approve"]}),"rejected"!==e.status&&(0,t.jsxs)(P._2,{className:"text-red-600",onClick:()=>i(e.id,"rejected"),children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Reject with Reason"]}),(0,t.jsxs)(P._2,{className:"text-red-600",onClick:()=>c(e.id),children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-2"}),"Delete Post"]})]})]})})]},e.id)})})]})})})}var G=a(44493),I=a(58869),H=a(48730),U=a(25334);function F({confessions:e,selectedConfessions:s,onSelectionChange:a,onStatusChange:r,onView:i,onDelete:d}){return(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:e.map((e,c)=>{let o=E(e.timeConfession),m=s.includes(e.id);return(0,t.jsx)(G.Zp,{className:`rounded-xl border text-card-foreground p-6 bg-white/60 backdrop-blur-sm border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 animate-slide-up overflow-hidden ${m?"ring-2 ring-blue-500 border-blue-300":""}`,style:{animationDelay:`${100*c}ms`},children:(0,t.jsxs)(G.Wu,{className:"p-0",children:[e.image&&(0,t.jsxs)("div",{className:"relative rounded-xl h-50 w-full overflow-hidden",children:[(0,t.jsx)(M.default,{src:e.image||"/placeholder.svg",width:"400",height:"300",className:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform duration-300",alt:"Confession image",onClick:()=>i(e)}),(0,t.jsx)("div",{className:"absolute top-3 right-3",children:(0,t.jsx)(_.S,{checked:m,className:"bg-white/80 border-white",onCheckedChange:t=>a(t?[...s,e.id]:s.filter(s=>s!==e.id))})}),(0,t.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,t.jsx)(l.E,{className:`${$(e.status)} shadow-sm`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[!e.image&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(_.S,{checked:m,onCheckedChange:t=>a(t?[...s,e.id]:s.filter(s=>s!==e.id))}),(0,t.jsx)(l.E,{className:`${$(e.status)} shadow-sm`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium",children:(0,t.jsx)(I.A,{className:"h-5 w-5"})})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.userName})})]}),(0,t.jsxs)(P.rI,{children:[(0,t.jsx)(P.ty,{asChild:!0,children:(0,t.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(R.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(P.SQ,{align:"end",children:[(0,t.jsxs)(P._2,{onClick:()=>i(e),children:[(0,t.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"View Details"]}),"approved"!==e.status&&(0,t.jsxs)(P._2,{className:"text-green-600",onClick:()=>r(e.id,"approved"),children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Approve"]}),"rejected"!==e.status&&(0,t.jsxs)(P._2,{className:"text-red-600",onClick:()=>r(e.id,"rejected"),children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Reject with Reason"]}),(0,t.jsxs)(P._2,{className:"text-red-600",onClick:()=>d(e.id),children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-2"}),"Delete Post"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 text-sm line-clamp-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.description})]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>(0,t.jsx)(l.E,{variant:"secondary",className:"text-xs",children:e},s)),e.tags.length>3&&(0,t.jsxs)(l.E,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-red-500",children:"❤"}),(0,t.jsx)("span",{children:e.likeCount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"\uD83D\uDCAC"}),(0,t.jsx)("span",{children:e.commentCount})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,t.jsx)(H.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:o.relative})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.image&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,t.jsx)(T.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Image"})]}),e.link&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-blue-600",children:[(0,t.jsx)(U.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Link"})]})]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>i(e),className:"text-xs px-3 py-1",children:[(0,t.jsx)(D.A,{className:"h-3 w-3 mr-1"}),"View"]})]})]})]})},e.id)})})}var O=a(58887),V=a(40228),B=a(33872),Z=a(15574),W=a(85814),K=a.n(W);function X({confession:e,isOpen:s,onClose:a,onStatusChange:r,onDelete:i}){if(!e)return null;let d=E(e.timeConfession);return(0,t.jsx)(f.lG,{open:s,onOpenChange:a,children:(0,t.jsx)(f.Cf,{className:"max-w-6xl max-h-[90vh] overflow-hidden bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 border-0 shadow-2xl p-0",children:(0,t.jsxs)("div",{className:"overflow-y-auto max-h-[90vh]",children:[(0,t.jsx)(f.c7,{className:"p-6 pb-4 border-b border-white/30 bg-white/20 backdrop-blur-sm",children:(0,t.jsxs)(f.L3,{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold shadow-lg",children:(0,t.jsx)(I.A,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:e.userName}),(0,t.jsx)("p",{className:"text-sm text-gray-600 bg-white/50 px-3 py-1 rounded-full inline-block mt-1",children:e.category})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(l.E,{className:`${$(e.status)} font-medium shadow-sm text-sm px-3 py-2`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[e.image?(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(O.A,{className:"h-5 w-5 text-blue-600"}),"Confession Image"]}),(0,t.jsx)("div",{className:"bg-white/80 p-4 rounded-lg border border-white/40",children:(0,t.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,t.jsx)(M.default,{src:e.image||"/placeholder.svg",width:"600",height:"400",className:"w-full h-auto max-h-96 object-cover rounded-lg shadow-md group-hover:shadow-lg transition-all duration-300",alt:"Confession image"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors rounded-lg"})]})})]}):(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(O.A,{className:"h-5 w-5 text-gray-400"}),"No Image Attached"]}),(0,t.jsxs)("div",{className:"bg-gray-100/80 p-8 rounded-lg border border-gray-200/50 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto bg-gray-300 rounded-lg flex items-center justify-center mb-3",children:(0,t.jsx)(O.A,{className:"h-8 w-8 text-gray-500"})}),(0,t.jsx)("p",{className:"text-gray-600",children:"This confession does not include an image"})]})]}),(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Submission Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,t.jsx)(V.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-gray-700",children:[d.date," at ",d.time]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:L(e.feeling)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.feeling}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Emotional state"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(O.A,{className:"h-5 w-5 text-purple-600"}),"Confession Details"]}),(0,t.jsx)("div",{className:"bg-white/80 p-6 rounded-lg border border-white/40",children:(0,t.jsx)("p",{className:"text-gray-800 leading-relaxed text-base",children:e.description})})]}),e.adminComment&&(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(B.A,{className:`h-5 w-5 ${"rejected"===e.status?"text-red-600":"text-green-600"}`}),"Admin Response","rejected"===e.status&&(0,t.jsx)(l.E,{variant:"destructive",className:"ml-2",children:"Rejection Reason"})]}),(0,t.jsx)("div",{className:`${"rejected"===e.status?"bg-red-50/80 p-6 rounded-lg border border-red-200/50":"bg-green-50/80 p-6 rounded-lg border border-green-200/50"}`,children:(0,t.jsx)("p",{className:`leading-relaxed text-base font-medium ${"rejected"===e.status?"text-red-800":"text-green-800"}`,children:e.adminComment})})]}),(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(Z.A,{className:"h-5 w-5 text-blue-600"}),"Tags & Categories"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-blue-50/80 p-4 rounded-lg border border-blue-200/50",children:[(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Student Tags"}),(0,t.jsx)("p",{className:"text-blue-700 font-medium",children:e.hashtag})]}),e.adminHashtag&&(0,t.jsxs)("div",{className:"bg-purple-50/80 p-4 rounded-lg border border-purple-200/50",children:[(0,t.jsx)("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Admin Tags"}),(0,t.jsx)("p",{className:"text-purple-700 font-medium",children:e.adminHashtag})]})]})]}),e.link&&(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[(0,t.jsx)(U.A,{className:"h-5 w-5 text-green-600"}),"Resource Link"]}),(0,t.jsxs)(K(),{href:e.link,className:"inline-flex items-center gap-2 text-green-700 hover:text-green-800 bg-green-50/80 hover:bg-green-100/80 px-4 py-3 rounded-lg transition-colors border border-green-200/50 font-medium w-full justify-center",target:"_blank",children:[(0,t.jsx)(U.A,{className:"h-4 w-4"}),"Open Resource"]})]}),(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/30 shadow-sm",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Admin Actions"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:["approved"!==e.status&&(0,t.jsxs)(n.$,{className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl transition-all",onClick:()=>r(e.id,"approved"),children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Approve"]}),"rejected"!==e.status&&(0,t.jsxs)(n.$,{className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all",onClick:()=>r(e.id,"rejected"),children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Reject with Reason"]}),(0,t.jsxs)(n.$,{className:"flex-1 bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white shadow-lg hover:shadow-xl transition-all",onClick:()=>{i(e.id),a()},children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-2"}),"Delete Post"]})]})]})]})]})]})})})}var Q=a(5336),Y=a(41312);function J({stats:e}){let[s,a]=(0,r.useState)({total:0,pending:0,approved:0,rejected:0,totalUsers:0}),l=[{title:"Total Confessions",value:s.total,icon:O.A,iconColor:"text-blue-600",bgColor:"bg-blue-50",delay:"0ms"},{title:"Pending Review",value:s.pending,icon:H.A,iconColor:"text-orange-600",bgColor:"bg-orange-50",delay:"200ms"},{title:"Approved",value:s.approved,icon:Q.A,iconColor:"text-green-600",bgColor:"bg-green-50",delay:"400ms"},{title:"Total Users",value:s.totalUsers,icon:Y.A,iconColor:"text-purple-600",bgColor:"bg-purple-50",delay:"600ms"}];return(0,t.jsx)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:l.map(e=>{let s=e.icon;return(0,t.jsxs)(G.Zp,{className:"relative overflow-hidden bg-white border border-gray-200 shadow-sm hover:shadow-lg transition-all duration-500 animate-slide-up group",style:{animationDelay:e.delay},children:[(0,t.jsx)(G.Wu,{className:"p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-lg ${e.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:(0,t.jsx)(s,{className:`h-5 w-5 sm:h-6 sm:w-6 ${e.iconColor}`})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,t.jsx)("div",{className:"flex items-baseline space-x-2",children:(0,t.jsx)("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tabular-nums",children:e.value})})]})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-out"})]},e.title)})})}let ee=e=>({id:e?.id||0,userName:e?.is_anonymous?"Anonymous":e?.author!=="Anonymous User"?e?.author:"Anonymous",title:e?.title||"No title available",description:e?.content||e?.title||"No content available",image:e?.image?.has_image&&e?.image?.url?e.image.url:void 0,hashtag:e?.tags?.length?e.tags.join(", "):"general",adminHashtag:e?.admin_note||"",adminComment:e?.admin_note||"",link:"",feeling:"neutral",timeConfession:e?.created_at||new Date().toISOString(),status:e?.status||"pending",category:e?.tags?.[0]||"general",tags:e?.tags||[],likeCount:e?.like_count||0,commentCount:e?.comment_count||0});function es(){let e=(0,b.jL)(),{pendingPosts:s,approvedPosts:a,rejectedPosts:d,allPosts:f,dashboardOverview:v,pagination:y,filters:N,loading:C,error:_}=(0,b.GV)(e=>e.admin),[P,S]=(0,r.useState)([]),[T,R]=(0,r.useState)(null),[D,M]=(0,r.useState)(!1),[$,L]=(0,r.useState)(N.posts.search||""),[E,q]=(0,r.useState)("all"),[G]=(0,r.useState)(N.posts.status||"all"),[I,H]=(0,r.useState)(N.posts.page),[U,O]=(0,r.useState)("table"),[V,B]=(0,r.useState)(!1),Z=N.posts.per_page,[W,K]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)(null),[es,ea]=(0,r.useState)(!1),[et,er]=(0,r.useState)(!1),[el,en]=(0,r.useState)(null),[ei,ed]=(0,r.useState)(!1),[ec,eo]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(null),[eh,ep]=(0,r.useState)(!1),eu=(0,r.useCallback)(()=>{B(!0),setTimeout(()=>{switch(E){case"pending":e((0,j.Vy)({page:I,per_page:Z,search:$||void 0}));break;case"approved":e((0,j.jI)({page:I,per_page:Z,search:$||void 0}));break;case"rejected":e((0,j.Ge)({page:I,per_page:Z,search:$||void 0}));break;default:e((0,j.bB)({page:I,per_page:Z,search:$||void 0}))}setTimeout(()=>{B(!1)},500)},300)},[e,E,I,Z,$]),eg=(0,r.useMemo)(()=>v?{total:v.total_confessions,pending:v.posts_by_status.pending,approved:v.posts_by_status.approved,rejected:v.posts_by_status.rejected,totalUsers:v.total_users,today:0,yesterday:0,lastWeekend:0}:{total:0,pending:0,approved:0,rejected:0,totalUsers:0,today:0,yesterday:0,lastWeekend:0},[v]),eb=(()=>{switch(E){case"pending":return s;case"approved":return a;case"rejected":return d;default:return f}})(),ej=(0,r.useMemo)(()=>{let e=eb;return"all"!==G&&"all"===E&&(e=e.filter(e=>e.status===G)),$&&(e=e.filter(e=>e.content.toLowerCase().includes($.toLowerCase())||e.title.toLowerCase().includes($.toLowerCase())||e.author.toLowerCase().includes($.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes($.toLowerCase())))),e},[eb,G,$,E]).map(ee),ef=(()=>{switch(E){case"pending":return y.pendingPosts;case"approved":return y.approvedPosts;case"rejected":return y.rejectedPosts;default:return y.allPosts}})(),ev=ef?.last_page||Math.ceil(ej.length/Z),ey=(0,r.useCallback)(async(e,s)=>{"approved"===s?(en(e),ed(!1),er(!0)):(Y(e),ea(!1),K(!0))},[]),eN=(0,r.useCallback)(async e=>{ex(e),ep(!1),eo(!0)},[]),ew=(0,r.useCallback)(async()=>{if(em||eh)try{eh?(await Promise.all(P.map(s=>e((0,j.ys)(s)).unwrap())),S([])):await e((0,j.ys)(em)).unwrap(),e((0,j.KZ)()),"all"!==E&&1===ej.length&&I>1?H(1):eu(),eo(!1),ex(null),ep(!1)}catch(e){console.error("Failed to delete post:",e)}},[e,em,eh,P,eu,E,ej.length,I]),ek=(0,r.useCallback)(async()=>{if(el||ei)try{ei?(await Promise.all(P.map(s=>e((0,j.G_)({postId:s})).unwrap())),S([])):await e((0,j.G_)({postId:el})).unwrap(),e((0,j.KZ)()),"all"!==E&&1===ej.length&&I>1?H(1):eu(),er(!1),en(null),ed(!1)}catch(e){console.error("Failed to approve post:",e)}},[e,el,ei,P,eu,E,ej.length,I]),eC=(0,r.useCallback)(async s=>{if(Q||es)try{es?(await Promise.all(P.map(a=>e((0,j.uo)({postId:a,admin_note:s})).unwrap())),S([])):await e((0,j.uo)({postId:Q,admin_note:s})).unwrap(),e((0,j.KZ)()),"all"!==E&&1===ej.length&&I>1?H(1):eu(),K(!1),Y(null),ea(!1)}catch(e){console.error("Failed to reject post:",e)}},[e,Q,es,P,eu,E,ej.length,I]),eA=(0,r.useCallback)(()=>{0!==P.length&&(ed(!0),en(null),er(!0))},[P]),e_=(0,r.useCallback)(()=>{0!==P.length&&(ea(!0),Y(null),K(!0))},[P]),eP=(0,r.useCallback)(()=>{0!==P.length&&(ep(!0),ex(null),eo(!0))},[P]),eS=(0,r.useCallback)(e=>{e?S(ej.map(e=>e.id)):S([])},[ej]),eT=(0,r.useCallback)(e=>{R(e),M(!0)},[]),eR=(0,r.useCallback)(s=>{q(s),H(1),S([]),B(!0),setTimeout(()=>{switch(s){case"pending":e((0,j.Vy)({page:1,per_page:Z,search:$||void 0}));break;case"approved":e((0,j.jI)({page:1,per_page:Z,search:$||void 0}));break;case"rejected":e((0,j.Ge)({page:1,per_page:Z,search:$||void 0}));break;default:e((0,j.bB)({page:1,per_page:Z,search:$||void 0}))}setTimeout(()=>{B(!1)},500)},300)},[e,Z,$]),eD=(0,r.useCallback)(s=>{H(s),B(!0),setTimeout(()=>{switch(E){case"pending":e((0,j.Vy)({page:s,per_page:Z,search:$||void 0}));break;case"approved":e((0,j.jI)({page:s,per_page:Z,search:$||void 0}));break;case"rejected":e((0,j.Ge)({page:s,per_page:Z,search:$||void 0}));break;default:e((0,j.bB)({page:s,per_page:Z,search:$||void 0}))}setTimeout(()=>{B(!1)},500),window.scrollTo({top:0,behavior:"smooth"})},300)},[e,E,Z,$]),eM=[{id:"all",label:"All Posts",count:eg.total},{id:"pending",label:"Pending",count:eg.pending},{id:"approved",label:"Approved",count:eg.approved},{id:"rejected",label:"Rejected",count:eg.rejected}],e$=(0,r.useCallback)(s=>{L(s),s.length>0&&B(!0);let a=setTimeout(()=>{switch(E){case"pending":e((0,j.Vy)({page:1,per_page:Z,search:s||void 0}));break;case"approved":e((0,j.jI)({page:1,per_page:Z,search:s||void 0}));break;case"rejected":e((0,j.Ge)({page:1,per_page:Z,search:s||void 0}));break;default:e((0,j.bB)({page:1,per_page:Z,search:s||void 0}))}H(1),setTimeout(()=>{B(!1)},300)},500);return()=>clearTimeout(a)},[e,E,Z]);return C.fetchDashboardOverview&&!v?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):(0,t.jsxs)("div",{className:"min-h-screen animate-page-load",children:[(0,t.jsx)("div",{className:"animate-header-slide",children:(0,t.jsx)("div",{className:"mx-auto",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col text-left px-4 py-6 space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-2xl lg:text-4xl font-bold text-black",children:"Posts Management"}),(0,t.jsx)("p",{className:"font-light sm:text-lg text-black",children:"Manage and review student posts"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,t.jsxs)(n.$,{variant:"table"===U?"default":"outline",size:"sm",onClick:()=>O("table"),className:"flex-1 sm:flex-none",children:[(0,t.jsx)(c,{className:"h-4 w-4 mr-2"}),"Table"]}),(0,t.jsxs)(n.$,{variant:"cards"===U?"default":"outline",size:"sm",onClick:()=>O("cards"),className:"flex-1 sm:flex-none",children:[(0,t.jsx)(o,{className:"h-4 w-4 mr-2"}),"Cards"]})]})]})})}),(0,t.jsxs)("div",{className:"max-w-auto",children:[(0,t.jsx)("div",{className:"mb-6 sm:mb-8 animate-stats-cascade stagger-1",children:(0,t.jsx)(J,{stats:eg})}),(0,t.jsx)("div",{className:"border-b border-gray-200 mb-4 sm:mb-6 animate-fade-in stagger-2",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto",children:eM.map(e=>(0,t.jsxs)("button",{onClick:()=>eR(e.id),className:`whitespace-nowrap py-2 sm:py-3 px-1 border-b-2 font-medium text-xs sm:text-sm flex items-center gap-2 transition-all duration-200 ${E===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.label,(0,t.jsx)(l.E,{variant:"secondary",className:`text-xs transition-all duration-200 ${E===e.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:e.count})]},e.id))})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 mb-4 sm:mb-6 animate-fade-in stagger-3",children:(0,t.jsx)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(i.p,{placeholder:"Search posts...",value:$,onChange:e=>e$(e.target.value),className:"pl-10 w-full sm:w-80 text-gray-600 bg-white"})]}),P.length>0&&(0,t.jsxs)("div",{className:"flex gap-2 animate-slide-up",children:[(0,t.jsxs)(n.$,{size:"sm",onClick:eA,disabled:C.approvePost,className:"bg-green-600 hover:bg-green-700 text-white flex-1 sm:flex-none",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Approve (",P.length,")"]}),(0,t.jsxs)(n.$,{size:"sm",variant:"destructive",onClick:e_,disabled:C.rejectPost,className:"flex-1 sm:flex-none",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Reject with Reason (",P.length,")"]}),(0,t.jsxs)(n.$,{size:"sm",variant:"destructive",onClick:eP,disabled:C.deletePost,className:"bg-red-600 hover:bg-red-700 text-white flex-1 sm:flex-none",children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-1"}),"Delete (",P.length,")"]})]})]})})}),_&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,t.jsx)("p",{className:"text-red-800",children:_})}),(C.fetchPendingPosts||C.fetchApprovedPosts||C.fetchRejectedPosts||C.fetchAllPosts)&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),(0,t.jsxs)("div",{className:"animate-content-reveal stagger-4 relative",children:[V&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm z-10 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"Updating list..."})]})}),"table"===U?(0,t.jsx)(z,{confessions:ej,selectedConfessions:P,onSelectionChange:S,onSelectAll:eS,onStatusChange:ey,onView:eT,onDelete:eN}):(0,t.jsx)(F,{confessions:ej,selectedConfessions:P,onSelectionChange:S,onStatusChange:ey,onView:eT,onDelete:eN})]}),ev>1&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 sm:mt-8 px-4 py-3 bg-white border border-gray-200 rounded-2xl shadow-sm animate-fade-in stagger-5",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>eD(Math.max(1,I-1)),disabled:1===I,className:"w-full sm:w-auto",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto",children:[Array.from({length:Math.min(5,ev)},(e,s)=>{let a=s+1,r=I===a;return(0,t.jsx)(n.$,{variant:r?"default":"outline",size:"sm",onClick:()=>eD(a),className:`w-8 h-8 p-0 flex-shrink-0 ${r?"bg-black text-white hover:bg-black":""}`,children:a},a)}),ev>5&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-500 flex-shrink-0",children:"..."}),(0,t.jsx)(n.$,{variant:I===ev?"default":"outline",size:"sm",onClick:()=>eD(ev),className:`w-8 h-8 p-0 flex-shrink-0 ${I===ev?"bg-black text-white hover:bg-black":""}`,children:ev})]})]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>eD(Math.min(ev,I+1)),disabled:I===ev,className:"w-full sm:w-auto",children:["Next",(0,t.jsx)(g.A,{className:"h-4 w-4 ml-2"})]})]})]}),(0,t.jsx)("div",{className:"animate-modal-entrance",children:(0,t.jsx)(X,{confession:T,isOpen:D,onClose:()=>M(!1),onStatusChange:ey,onDelete:eN})}),(0,t.jsx)(w,{isOpen:W,onClose:()=>{K(!1),Y(null),ea(!1)},onSubmit:eC,isBulk:es,isLoading:C.rejectPost}),(0,t.jsx)(k,{isOpen:et,onClose:()=>{er(!1),en(null),ed(!1)},onSubmit:ek,isBulk:ei,isLoading:C.approvePost}),(0,t.jsx)(A,{isOpen:ec,onClose:()=>{eo(!1),ex(null),ep(!1)},onConfirm:ew,isBulk:eh,isLoading:C.deletePost})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56896:(e,s,a)=>{"use strict";a.d(s,{S:()=>d});var t=a(60687),r=a(43210),l=a(40211),n=a(13964),i=a(4780);let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.bL,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}));d.displayName=l.bL.displayName},58869:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70334:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83721:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(43210);function r(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},83997:e=>{"use strict";e.exports=require("tty")},93613:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},93661:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},94735:e=>{"use strict";e.exports=require("events")},96063:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/admin-dashboard/admin/approval/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/scd/Documents/GitHub/mindspeak-sys/client/src/app/admin-dashboard/admin/approval/page.tsx","default")},96834:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(60687);a(43210);var r=a(24224),l=a(4780);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...a}){return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),e),...a})}},99270:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[447,250,46,54,882,565,299,706,84],()=>a(24787));module.exports=t})();